{"version":3,"file":"react-calendar-timeline.es.js","sources":["../src/lib/utility/dom-helpers.ts","../node_modules/interactjs/dist/interact.min.js","../node_modules/dayjs/plugin/utc.js","../node_modules/lodash/_listCacheClear.js","../node_modules/lodash/eq.js","../node_modules/lodash/_assocIndexOf.js","../node_modules/lodash/_listCacheDelete.js","../node_modules/lodash/_listCacheGet.js","../node_modules/lodash/_listCacheHas.js","../node_modules/lodash/_listCacheSet.js","../node_modules/lodash/_ListCache.js","../node_modules/lodash/_stackClear.js","../node_modules/lodash/_stackDelete.js","../node_modules/lodash/_stackGet.js","../node_modules/lodash/_stackHas.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_root.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/isObject.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/_coreJsData.js","../node_modules/lodash/_isMasked.js","../node_modules/lodash/_toSource.js","../node_modules/lodash/_baseIsNative.js","../node_modules/lodash/_getValue.js","../node_modules/lodash/_getNative.js","../node_modules/lodash/_Map.js","../node_modules/lodash/_nativeCreate.js","../node_modules/lodash/_hashClear.js","../node_modules/lodash/_hashDelete.js","../node_modules/lodash/_hashGet.js","../node_modules/lodash/_hashHas.js","../node_modules/lodash/_hashSet.js","../node_modules/lodash/_Hash.js","../node_modules/lodash/_mapCacheClear.js","../node_modules/lodash/_isKeyable.js","../node_modules/lodash/_getMapData.js","../node_modules/lodash/_mapCacheDelete.js","../node_modules/lodash/_mapCacheGet.js","../node_modules/lodash/_mapCacheHas.js","../node_modules/lodash/_mapCacheSet.js","../node_modules/lodash/_MapCache.js","../node_modules/lodash/_stackSet.js","../node_modules/lodash/_Stack.js","../node_modules/lodash/_setCacheAdd.js","../node_modules/lodash/_setCacheHas.js","../node_modules/lodash/_SetCache.js","../node_modules/lodash/_arraySome.js","../node_modules/lodash/_cacheHas.js","../node_modules/lodash/_equalArrays.js","../node_modules/lodash/_Uint8Array.js","../node_modules/lodash/_mapToArray.js","../node_modules/lodash/_setToArray.js","../node_modules/lodash/_equalByTag.js","../node_modules/lodash/_arrayPush.js","../node_modules/lodash/isArray.js","../node_modules/lodash/_baseGetAllKeys.js","../node_modules/lodash/_arrayFilter.js","../node_modules/lodash/stubArray.js","../node_modules/lodash/_getSymbols.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/isLength.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/_overArg.js","../node_modules/lodash/_nativeKeys.js","../node_modules/lodash/_baseKeys.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/keys.js","../node_modules/lodash/_getAllKeys.js","../node_modules/lodash/_equalObjects.js","../node_modules/lodash/_DataView.js","../node_modules/lodash/_Promise.js","../node_modules/lodash/_Set.js","../node_modules/lodash/_WeakMap.js","../node_modules/lodash/_getTag.js","../node_modules/lodash/_baseIsEqualDeep.js","../node_modules/lodash/_baseIsEqual.js","../node_modules/lodash/isEqual.js","../src/lib/utility/generic.ts","../src/lib/utility/events.ts","../src/lib/items/defaultItemRenderer.tsx","../src/lib/utility/calendar.tsx","../src/lib/items/styles.ts","../src/lib/timeline/TimelineStateContext.tsx","../src/lib/items/Item.tsx","../src/lib/items/Items.tsx","../src/lib/layout/Sidebar.tsx","../src/lib/columns/Columns.tsx","../src/lib/interaction/PreventClickOnDrag.tsx","../src/lib/row/GroupRow.tsx","../src/lib/row/GroupRows.tsx","../src/lib/scroll/ScrollElement.tsx","../src/lib/markers/MarkerCanvasContext.ts","../src/lib/markers/TimelineMarkersContext.tsx","../src/lib/markers/markerType.ts","../src/lib/markers/implementations/shared.tsx","../src/lib/markers/implementations/TodayMarker.tsx","../src/lib/markers/implementations/CustomMarker.tsx","../src/lib/markers/implementations/CursorMarker.tsx","../src/lib/markers/TimelineMarkersRenderer.tsx","../src/lib/markers/MarkerCanvas.tsx","../src/resize-detector/window.ts","../src/lib/default-config.ts","../src/lib/headers/HeadersContext.tsx","../node_modules/classnames/index.js","../src/lib/headers/constants.ts","../src/lib/headers/SidebarHeader.tsx","../src/lib/headers/TimelineHeaders.tsx","../src/lib/headers/CustomHeader.tsx","../node_modules/memoize-one/dist/memoize-one.esm.js","../src/lib/headers/Interval.tsx","../src/lib/headers/CustomDateHeader.tsx","../src/lib/headers/DateHeader.tsx","../node_modules/dayjs/plugin/localizedFormat.js","../src/lib/Timeline.tsx","../src/lib/markers/public/TimelineMarkers.tsx","../src/lib/markers/public/TodayMarker.tsx","../src/lib/markers/public/CustomMarker.tsx","../src/lib/markers/public/CursorMarker.tsx"],"sourcesContent":["// TODO: can we use getBoundingClientRect instead??\n// last place this is used is in \"handleWheel\" in ScrollElement\nexport function getParentPosition(element: HTMLElement) {\n  let xPosition = 0\n  let yPosition = 0\n  let first = true\n\n  while (element) {\n    if (\n      !element.offsetParent &&\n      element.tagName === 'BODY' &&\n      element.scrollLeft === 0 &&\n      element.scrollTop === 0\n    ) {\n      element = document.scrollingElement as HTMLElement || element\n    }\n    xPosition +=\n      element.offsetLeft - (first ? 0 : element.scrollLeft) + element.clientLeft\n    yPosition +=\n      element.offsetTop - (first ? 0 : element.scrollTop) + element.clientTop\n    element = element.offsetParent as HTMLElement\n    first = false\n  }\n  return { x: xPosition, y: yPosition }\n}\n\ninterface ScrollPosition {\n  scrollLeft: number;\n  scrollTop: number;\n}\n\nexport function getSumScroll(node: HTMLElement): ScrollPosition {\n  if (node === document.body) {\n    return { scrollLeft: 0, scrollTop: 0 };\n  } else {\n    const parent = getSumScroll(node.parentNode as HTMLElement);\n    return {\n      scrollLeft: node.scrollLeft + parent.scrollLeft,\n      scrollTop: node.scrollTop + parent.scrollTop,\n    };\n  }\n}\n\ninterface OffsetPosition {\n  offsetLeft: number;\n  offsetTop: number;\n}\n\nexport function getSumOffset(node: HTMLElement): OffsetPosition {\n  if (node === document.body || !node.offsetParent) {\n    return { offsetLeft: 0, offsetTop: 0 };\n  } else {\n    const parent = getSumOffset(node.offsetParent as HTMLElement);\n    return {\n      offsetLeft: node.offsetLeft + parent.offsetLeft,\n      offsetTop: node.offsetTop + parent.offsetTop,\n    };\n  }\n}\n","/* interact.js 1.10.27 | https://raw.github.com/taye/interact.js/main/LICENSE */\n\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).interact=e()}(this,(function(){\"use strict\";function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function e(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function n(t){return n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},n(t)}function r(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function a(t,e,n){return(e=d(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&l(t,e)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function u(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function p(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&(\"object\"==typeof e||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return u(t)}(this,n)}}function f(){return f=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},f.apply(this,arguments)}function d(t){var e=function(t,e){if(\"object\"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!=typeof r)return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==typeof e?e:e+\"\"}var h=function(t){return!(!t||!t.Window)&&t instanceof t.Window},v=void 0,g=void 0;function m(t){v=t;var e=t.document.createTextNode(\"\");e.ownerDocument!==t.document&&\"function\"==typeof t.wrap&&t.wrap(e)===e&&(t=t.wrap(t)),g=t}function y(t){return h(t)?t:(t.ownerDocument||t).defaultView||g.window}\"undefined\"!=typeof window&&window&&m(window);var b=function(t){return!!t&&\"object\"===n(t)},x=function(t){return\"function\"==typeof t},w={window:function(t){return t===g||h(t)},docFrag:function(t){return b(t)&&11===t.nodeType},object:b,func:x,number:function(t){return\"number\"==typeof t},bool:function(t){return\"boolean\"==typeof t},string:function(t){return\"string\"==typeof t},element:function(t){if(!t||\"object\"!==n(t))return!1;var e=y(t)||g;return/object|function/.test(\"undefined\"==typeof Element?\"undefined\":n(Element))?t instanceof Element||t instanceof e.Element:1===t.nodeType&&\"string\"==typeof t.nodeName},plainObject:function(t){return b(t)&&!!t.constructor&&/function Object\\b/.test(t.constructor.toString())},array:function(t){return b(t)&&void 0!==t.length&&x(t.splice)}};function E(t){var e=t.interaction;if(\"drag\"===e.prepared.name){var n=e.prepared.axis;\"x\"===n?(e.coords.cur.page.y=e.coords.start.page.y,e.coords.cur.client.y=e.coords.start.client.y,e.coords.velocity.client.y=0,e.coords.velocity.page.y=0):\"y\"===n&&(e.coords.cur.page.x=e.coords.start.page.x,e.coords.cur.client.x=e.coords.start.client.x,e.coords.velocity.client.x=0,e.coords.velocity.page.x=0)}}function T(t){var e=t.iEvent,n=t.interaction;if(\"drag\"===n.prepared.name){var r=n.prepared.axis;if(\"x\"===r||\"y\"===r){var i=\"x\"===r?\"y\":\"x\";e.page[i]=n.coords.start.page[i],e.client[i]=n.coords.start.client[i],e.delta[i]=0}}}var S={id:\"actions/drag\",install:function(t){var e=t.actions,n=t.Interactable,r=t.defaults;n.prototype.draggable=S.draggable,e.map.drag=S,e.methodDict.drag=\"draggable\",r.actions.drag=S.defaults},listeners:{\"interactions:before-action-move\":E,\"interactions:action-resume\":E,\"interactions:action-move\":T,\"auto-start:check\":function(t){var e=t.interaction,n=t.interactable,r=t.buttons,i=n.options.drag;if(i&&i.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||0!=(r&n.options.drag.mouseButtons)))return t.action={name:\"drag\",axis:\"start\"===i.lockAxis?i.startAxis:i.lockAxis},!1}},draggable:function(t){return w.object(t)?(this.options.drag.enabled=!1!==t.enabled,this.setPerAction(\"drag\",t),this.setOnEvents(\"drag\",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):w.bool(t)?(this.options.drag.enabled=t,this):this.options.drag},beforeMove:E,move:T,defaults:{startAxis:\"xy\",lockAxis:\"xy\"},getCursor:function(){return\"move\"},filterEventType:function(t){return 0===t.search(\"drag\")}},_=S,P={init:function(t){var e=t;P.document=e.document,P.DocumentFragment=e.DocumentFragment||O,P.SVGElement=e.SVGElement||O,P.SVGSVGElement=e.SVGSVGElement||O,P.SVGElementInstance=e.SVGElementInstance||O,P.Element=e.Element||O,P.HTMLElement=e.HTMLElement||P.Element,P.Event=e.Event,P.Touch=e.Touch||O,P.PointerEvent=e.PointerEvent||e.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function O(){}var k=P;var D={init:function(t){var e=k.Element,n=t.navigator||{};D.supportsTouch=\"ontouchstart\"in t||w.func(t.DocumentTouch)&&k.document instanceof t.DocumentTouch,D.supportsPointerEvent=!1!==n.pointerEnabled&&!!k.PointerEvent,D.isIOS=/iP(hone|od|ad)/.test(n.platform),D.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\\d]/.test(n.appVersion),D.isIe9=/MSIE 9/.test(n.userAgent),D.isOperaMobile=\"Opera\"===n.appName&&D.supportsTouch&&/Presto/.test(n.userAgent),D.prefixedMatchesSelector=\"matches\"in e.prototype?\"matches\":\"webkitMatchesSelector\"in e.prototype?\"webkitMatchesSelector\":\"mozMatchesSelector\"in e.prototype?\"mozMatchesSelector\":\"oMatchesSelector\"in e.prototype?\"oMatchesSelector\":\"msMatchesSelector\",D.pEventTypes=D.supportsPointerEvent?k.PointerEvent===t.MSPointerEvent?{up:\"MSPointerUp\",down:\"MSPointerDown\",over:\"mouseover\",out:\"mouseout\",move:\"MSPointerMove\",cancel:\"MSPointerCancel\"}:{up:\"pointerup\",down:\"pointerdown\",over:\"pointerover\",out:\"pointerout\",move:\"pointermove\",cancel:\"pointercancel\"}:null,D.wheelEvent=k.document&&\"onmousewheel\"in k.document?\"mousewheel\":\"wheel\"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null};var I=D;function M(t,e){if(t.contains)return t.contains(e);for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function z(t,e){for(;w.element(t);){if(R(t,e))return t;t=A(t)}return null}function A(t){var e=t.parentNode;if(w.docFrag(e)){for(;(e=e.host)&&w.docFrag(e););return e}return e}function R(t,e){return g!==v&&(e=e.replace(/\\/deep\\//g,\" \")),t[I.prefixedMatchesSelector](e)}var C=function(t){return t.parentNode||t.host};function j(t,e){for(var n,r=[],i=t;(n=C(i))&&i!==e&&n!==i.ownerDocument;)r.unshift(i),i=n;return r}function F(t,e,n){for(;w.element(t);){if(R(t,e))return!0;if((t=A(t))===n)return R(t,e)}return!1}function X(t){return t.correspondingUseElement||t}function Y(t){var e=t instanceof k.SVGElement?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}function L(t){var e,n=Y(t);if(!I.isIOS7&&n){var r={x:(e=(e=y(t))||g).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop};n.left+=r.x,n.right+=r.x,n.top+=r.y,n.bottom+=r.y}return n}function q(t){for(var e=[];t;)e.push(t),t=A(t);return e}function B(t){return!!w.string(t)&&(k.document.querySelector(t),!0)}function V(t,e){for(var n in e)t[n]=e[n];return t}function W(t,e,n){return\"parent\"===t?A(n):\"self\"===t?e.getRect(n):z(n,t)}function G(t,e,n,r){var i=t;return w.string(i)?i=W(i,e,n):w.func(i)&&(i=i.apply(void 0,r)),w.element(i)&&(i=L(i)),i}function N(t){return t&&{x:\"x\"in t?t.x:t.left,y:\"y\"in t?t.y:t.top}}function U(t){return!t||\"x\"in t&&\"y\"in t||((t=V({},t)).x=t.left||0,t.y=t.top||0,t.width=t.width||(t.right||0)-t.x,t.height=t.height||(t.bottom||0)-t.y),t}function H(t,e,n){t.left&&(e.left+=n.x),t.right&&(e.right+=n.x),t.top&&(e.top+=n.y),t.bottom&&(e.bottom+=n.y),e.width=e.right-e.left,e.height=e.bottom-e.top}function K(t,e,n){var r=n&&t.options[n];return N(G(r&&r.origin||t.options.origin,t,e,[t&&e]))||{x:0,y:0}}function $(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return!0},r=arguments.length>3?arguments[3]:void 0;if(r=r||{},w.string(t)&&-1!==t.search(\" \")&&(t=J(t)),w.array(t))return t.forEach((function(t){return $(t,e,n,r)})),r;if(w.object(t)&&(e=t,t=\"\"),w.func(e)&&n(t))r[t]=r[t]||[],r[t].push(e);else if(w.array(e))for(var i=0,o=e;i<o.length;i++){var a=o[i];$(t,a,n,r)}else if(w.object(e))for(var s in e){$(J(s).map((function(e){return\"\".concat(t).concat(e)})),e[s],n,r)}return r}function J(t){return t.trim().split(/ +/)}var Q=function(t,e){return Math.sqrt(t*t+e*e)},Z=[\"webkit\",\"moz\"];function tt(t,e){t.__set||(t.__set={});var n=function(n){if(Z.some((function(t){return 0===n.indexOf(t)})))return 1;\"function\"!=typeof t[n]&&\"__set\"!==n&&Object.defineProperty(t,n,{get:function(){return n in t.__set?t.__set[n]:t.__set[n]=e[n]},set:function(e){t.__set[n]=e},configurable:!0})};for(var r in e)n(r);return t}function et(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp}function nt(t){t.page.x=0,t.page.y=0,t.client.x=0,t.client.y=0}function rt(t){return t instanceof k.Event||t instanceof k.Touch}function it(t,e,n){return t=t||\"page\",(n=n||{}).x=e[t+\"X\"],n.y=e[t+\"Y\"],n}function ot(t,e){return e=e||{x:0,y:0},I.isOperaMobile&&rt(t)?(it(\"screen\",t,e),e.x+=window.scrollX,e.y+=window.scrollY):it(\"page\",t,e),e}function at(t){return w.number(t.pointerId)?t.pointerId:t.identifier}function st(t,e,n){var r=e.length>1?lt(e):e[0];ot(r,t.page),function(t,e){e=e||{},I.isOperaMobile&&rt(t)?it(\"screen\",t,e):it(\"client\",t,e)}(r,t.client),t.timeStamp=n}function ct(t){var e=[];return w.array(t)?(e[0]=t[0],e[1]=t[1]):\"touchend\"===t.type?1===t.touches.length?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):0===t.touches.length&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e}function lt(t){for(var e={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<t.length;n++){var r=t[n];for(var i in e)e[i]+=r[i]}for(var o in e)e[o]/=t.length;return e}function ut(t){if(!t.length)return null;var e=ct(t),n=Math.min(e[0].pageX,e[1].pageX),r=Math.min(e[0].pageY,e[1].pageY),i=Math.max(e[0].pageX,e[1].pageX),o=Math.max(e[0].pageY,e[1].pageY);return{x:n,y:r,left:n,top:r,right:i,bottom:o,width:i-n,height:o-r}}function pt(t,e){var n=e+\"X\",r=e+\"Y\",i=ct(t),o=i[0][n]-i[1][n],a=i[0][r]-i[1][r];return Q(o,a)}function ft(t,e){var n=e+\"X\",r=e+\"Y\",i=ct(t),o=i[1][n]-i[0][n],a=i[1][r]-i[0][r];return 180*Math.atan2(a,o)/Math.PI}function dt(t){return w.string(t.pointerType)?t.pointerType:w.number(t.pointerType)?[void 0,void 0,\"touch\",\"pen\",\"mouse\"][t.pointerType]:/touch/.test(t.type||\"\")||t instanceof k.Touch?\"touch\":\"mouse\"}function ht(t){var e=w.func(t.composedPath)?t.composedPath():t.path;return[X(e?e[0]:t.target),X(t.currentTarget)]}var vt=function(){function t(e){r(this,t),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=e}return o(t,[{key:\"preventDefault\",value:function(){}},{key:\"stopPropagation\",value:function(){this.propagationStopped=!0}},{key:\"stopImmediatePropagation\",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),t}();Object.defineProperty(vt.prototype,\"interaction\",{get:function(){return this._interaction._proxy},set:function(){}});var gt=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.push(r)}return t},mt=function(t){return gt([],t)},yt=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1},bt=function(t,e){return t[yt(t,e)]},xt=function(t){s(n,t);var e=p(n);function n(t,i,o){var a;r(this,n),(a=e.call(this,i._interaction)).dropzone=void 0,a.dragEvent=void 0,a.relatedTarget=void 0,a.draggable=void 0,a.propagationStopped=!1,a.immediatePropagationStopped=!1;var s=\"dragleave\"===o?t.prev:t.cur,c=s.element,l=s.dropzone;return a.type=o,a.target=c,a.currentTarget=c,a.dropzone=l,a.dragEvent=i,a.relatedTarget=i.target,a.draggable=i.interactable,a.timeStamp=i.timeStamp,a}return o(n,[{key:\"reject\",value:function(){var t=this,e=this._interaction.dropState;if(\"dropactivate\"===this.type||this.dropzone&&e.cur.dropzone===this.dropzone&&e.cur.element===this.target)if(e.prev.dropzone=this.dropzone,e.prev.element=this.target,e.rejected=!0,e.events.enter=null,this.stopImmediatePropagation(),\"dropactivate\"===this.type){var r=e.activeDrops,i=yt(r,(function(e){var n=e.dropzone,r=e.element;return n===t.dropzone&&r===t.target}));e.activeDrops.splice(i,1);var o=new n(e,this.dragEvent,\"dropdeactivate\");o.dropzone=this.dropzone,o.target=this.target,this.dropzone.fire(o)}else this.dropzone.fire(new n(e,this.dragEvent,\"dragleave\"))}},{key:\"preventDefault\",value:function(){}},{key:\"stopPropagation\",value:function(){this.propagationStopped=!0}},{key:\"stopImmediatePropagation\",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),n}(vt);function wt(t,e){for(var n=0,r=t.slice();n<r.length;n++){var i=r[n],o=i.dropzone,a=i.element;e.dropzone=o,e.target=a,o.fire(e),e.propagationStopped=e.immediatePropagationStopped=!1}}function Et(t,e){for(var n=function(t,e){for(var n=[],r=0,i=t.interactables.list;r<i.length;r++){var o=i[r];if(o.options.drop.enabled){var a=o.options.drop.accept;if(!(w.element(a)&&a!==e||w.string(a)&&!R(e,a)||w.func(a)&&!a({dropzone:o,draggableElement:e})))for(var s=0,c=o.getAllElements();s<c.length;s++){var l=c[s];l!==e&&n.push({dropzone:o,element:l,rect:o.getRect(l)})}}}return n}(t,e),r=0;r<n.length;r++){var i=n[r];i.rect=i.dropzone.getRect(i.element)}return n}function Tt(t,e,n){for(var r=t.dropState,i=t.interactable,o=t.element,a=[],s=0,c=r.activeDrops;s<c.length;s++){var l=c[s],u=l.dropzone,p=l.element,f=l.rect,d=u.dropCheck(e,n,i,o,p,f);a.push(d?p:null)}var h=function(t){for(var e,n,r,i=[],o=0;o<t.length;o++){var a=t[o],s=t[e];if(a&&o!==e)if(s){var c=C(a),l=C(s);if(c!==a.ownerDocument)if(l!==a.ownerDocument)if(c!==l){i=i.length?i:j(s);var u=void 0;if(s instanceof k.HTMLElement&&a instanceof k.SVGElement&&!(a instanceof k.SVGSVGElement)){if(a===l)continue;u=a.ownerSVGElement}else u=a;for(var p=j(u,s.ownerDocument),f=0;p[f]&&p[f]===i[f];)f++;var d=[p[f-1],p[f],i[f]];if(d[0])for(var h=d[0].lastChild;h;){if(h===d[1]){e=o,i=p;break}if(h===d[2])break;h=h.previousSibling}}else r=s,void 0,void 0,(parseInt(y(n=a).getComputedStyle(n).zIndex,10)||0)>=(parseInt(y(r).getComputedStyle(r).zIndex,10)||0)&&(e=o);else e=o}else e=o}return e}(a);return r.activeDrops[h]||null}function St(t,e,n){var r=t.dropState,i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return\"dragstart\"===n.type&&(i.activate=new xt(r,n,\"dropactivate\"),i.activate.target=null,i.activate.dropzone=null),\"dragend\"===n.type&&(i.deactivate=new xt(r,n,\"dropdeactivate\"),i.deactivate.target=null,i.deactivate.dropzone=null),r.rejected||(r.cur.element!==r.prev.element&&(r.prev.dropzone&&(i.leave=new xt(r,n,\"dragleave\"),n.dragLeave=i.leave.target=r.prev.element,n.prevDropzone=i.leave.dropzone=r.prev.dropzone),r.cur.dropzone&&(i.enter=new xt(r,n,\"dragenter\"),n.dragEnter=r.cur.element,n.dropzone=r.cur.dropzone)),\"dragend\"===n.type&&r.cur.dropzone&&(i.drop=new xt(r,n,\"drop\"),n.dropzone=r.cur.dropzone,n.relatedTarget=r.cur.element),\"dragmove\"===n.type&&r.cur.dropzone&&(i.move=new xt(r,n,\"dropmove\"),n.dropzone=r.cur.dropzone)),i}function _t(t,e){var n=t.dropState,r=n.activeDrops,i=n.cur,o=n.prev;e.leave&&o.dropzone.fire(e.leave),e.enter&&i.dropzone.fire(e.enter),e.move&&i.dropzone.fire(e.move),e.drop&&i.dropzone.fire(e.drop),e.deactivate&&wt(r,e.deactivate),n.prev.dropzone=i.dropzone,n.prev.element=i.element}function Pt(t,e){var n=t.interaction,r=t.iEvent,i=t.event;if(\"dragmove\"===r.type||\"dragend\"===r.type){var o=n.dropState;e.dynamicDrop&&(o.activeDrops=Et(e,n.element));var a=r,s=Tt(n,a,i);o.rejected=o.rejected&&!!s&&s.dropzone===o.cur.dropzone&&s.element===o.cur.element,o.cur.dropzone=s&&s.dropzone,o.cur.element=s&&s.element,o.events=St(n,0,a)}}var Ot={id:\"actions/drop\",install:function(t){var e=t.actions,n=t.interactStatic,r=t.Interactable,i=t.defaults;t.usePlugin(_),r.prototype.dropzone=function(t){return function(t,e){if(w.object(e)){if(t.options.drop.enabled=!1!==e.enabled,e.listeners){var n=$(e.listeners),r=Object.keys(n).reduce((function(t,e){return t[/^(enter|leave)/.test(e)?\"drag\".concat(e):/^(activate|deactivate|move)/.test(e)?\"drop\".concat(e):e]=n[e],t}),{}),i=t.options.drop.listeners;i&&t.off(i),t.on(r),t.options.drop.listeners=r}return w.func(e.ondrop)&&t.on(\"drop\",e.ondrop),w.func(e.ondropactivate)&&t.on(\"dropactivate\",e.ondropactivate),w.func(e.ondropdeactivate)&&t.on(\"dropdeactivate\",e.ondropdeactivate),w.func(e.ondragenter)&&t.on(\"dragenter\",e.ondragenter),w.func(e.ondragleave)&&t.on(\"dragleave\",e.ondragleave),w.func(e.ondropmove)&&t.on(\"dropmove\",e.ondropmove),/^(pointer|center)$/.test(e.overlap)?t.options.drop.overlap=e.overlap:w.number(e.overlap)&&(t.options.drop.overlap=Math.max(Math.min(1,e.overlap),0)),\"accept\"in e&&(t.options.drop.accept=e.accept),\"checker\"in e&&(t.options.drop.checker=e.checker),t}if(w.bool(e))return t.options.drop.enabled=e,t;return t.options.drop}(this,t)},r.prototype.dropCheck=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,a){var s=!1;if(!(a=a||t.getRect(o)))return!!t.options.drop.checker&&t.options.drop.checker(e,n,s,t,o,r,i);var c=t.options.drop.overlap;if(\"pointer\"===c){var l=K(r,i,\"drag\"),u=ot(e);u.x+=l.x,u.y+=l.y;var p=u.x>a.left&&u.x<a.right,f=u.y>a.top&&u.y<a.bottom;s=p&&f}var d=r.getRect(i);if(d&&\"center\"===c){var h=d.left+d.width/2,v=d.top+d.height/2;s=h>=a.left&&h<=a.right&&v>=a.top&&v<=a.bottom}if(d&&w.number(c)){s=Math.max(0,Math.min(a.right,d.right)-Math.max(a.left,d.left))*Math.max(0,Math.min(a.bottom,d.bottom)-Math.max(a.top,d.top))/(d.width*d.height)>=c}t.options.drop.checker&&(s=t.options.drop.checker(e,n,s,t,o,r,i));return s}(this,t,e,n,r,i,o)},n.dynamicDrop=function(e){return w.bool(e)?(t.dynamicDrop=e,n):t.dynamicDrop},V(e.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),e.methodDict.drop=\"dropzone\",t.dynamicDrop=!1,i.actions.drop=Ot.defaults},listeners:{\"interactions:before-action-start\":function(t){var e=t.interaction;\"drag\"===e.prepared.name&&(e.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},\"interactions:after-action-start\":function(t,e){var n=t.interaction,r=(t.event,t.iEvent);if(\"drag\"===n.prepared.name){var i=n.dropState;i.activeDrops=[],i.events={},i.activeDrops=Et(e,n.element),i.events=St(n,0,r),i.events.activate&&(wt(i.activeDrops,i.events.activate),e.fire(\"actions/drop:start\",{interaction:n,dragEvent:r}))}},\"interactions:action-move\":Pt,\"interactions:after-action-move\":function(t,e){var n=t.interaction,r=t.iEvent;if(\"drag\"===n.prepared.name){var i=n.dropState;_t(n,i.events),e.fire(\"actions/drop:move\",{interaction:n,dragEvent:r}),i.events={}}},\"interactions:action-end\":function(t,e){if(\"drag\"===t.interaction.prepared.name){var n=t.interaction,r=t.iEvent;Pt(t,e),_t(n,n.dropState.events),e.fire(\"actions/drop:end\",{interaction:n,dragEvent:r})}},\"interactions:stop\":function(t){var e=t.interaction;if(\"drag\"===e.prepared.name){var n=e.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:Et,getDrop:Tt,getDropEvents:St,fireDropEvents:_t,filterEventType:function(t){return 0===t.search(\"drag\")||0===t.search(\"drop\")},defaults:{enabled:!1,accept:null,overlap:\"pointer\"}},kt=Ot;function Dt(t){var e=t.interaction,n=t.iEvent,r=t.phase;if(\"gesture\"===e.prepared.name){var i=e.pointers.map((function(t){return t.pointer})),o=\"start\"===r,a=\"end\"===r,s=e.interactable.options.deltaSource;if(n.touches=[i[0],i[1]],o)n.distance=pt(i,s),n.box=ut(i),n.scale=1,n.ds=0,n.angle=ft(i,s),n.da=0,e.gesture.startDistance=n.distance,e.gesture.startAngle=n.angle;else if(a||e.pointers.length<2){var c=e.prevEvent;n.distance=c.distance,n.box=c.box,n.scale=c.scale,n.ds=0,n.angle=c.angle,n.da=0}else n.distance=pt(i,s),n.box=ut(i),n.scale=n.distance/e.gesture.startDistance,n.angle=ft(i,s),n.ds=n.scale-e.gesture.scale,n.da=n.angle-e.gesture.angle;e.gesture.distance=n.distance,e.gesture.angle=n.angle,w.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(e.gesture.scale=n.scale)}}var It={id:\"actions/gesture\",before:[\"actions/drag\",\"actions/resize\"],install:function(t){var e=t.actions,n=t.Interactable,r=t.defaults;n.prototype.gesturable=function(t){return w.object(t)?(this.options.gesture.enabled=!1!==t.enabled,this.setPerAction(\"gesture\",t),this.setOnEvents(\"gesture\",t),this):w.bool(t)?(this.options.gesture.enabled=t,this):this.options.gesture},e.map.gesture=It,e.methodDict.gesture=\"gesturable\",r.actions.gesture=It.defaults},listeners:{\"interactions:action-start\":Dt,\"interactions:action-move\":Dt,\"interactions:action-end\":Dt,\"interactions:new\":function(t){t.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},\"auto-start:check\":function(t){if(!(t.interaction.pointers.length<2)){var e=t.interactable.options.gesture;if(e&&e.enabled)return t.action={name:\"gesture\"},!1}}},defaults:{},getCursor:function(){return\"\"},filterEventType:function(t){return 0===t.search(\"gesture\")}},Mt=It;function zt(t,e,n,r,i,o,a){if(!e)return!1;if(!0===e){var s=w.number(o.width)?o.width:o.right-o.left,c=w.number(o.height)?o.height:o.bottom-o.top;if(a=Math.min(a,Math.abs((\"left\"===t||\"right\"===t?s:c)/2)),s<0&&(\"left\"===t?t=\"right\":\"right\"===t&&(t=\"left\")),c<0&&(\"top\"===t?t=\"bottom\":\"bottom\"===t&&(t=\"top\")),\"left\"===t){var l=s>=0?o.left:o.right;return n.x<l+a}if(\"top\"===t){var u=c>=0?o.top:o.bottom;return n.y<u+a}if(\"right\"===t)return n.x>(s>=0?o.right:o.left)-a;if(\"bottom\"===t)return n.y>(c>=0?o.bottom:o.top)-a}return!!w.element(r)&&(w.element(e)?e===r:F(r,e,i))}function At(t){var e=t.iEvent,n=t.interaction;if(\"resize\"===n.prepared.name&&n.resizeAxes){var r=e;n.interactable.options.resize.square?(\"y\"===n.resizeAxes?r.delta.x=r.delta.y:r.delta.y=r.delta.x,r.axes=\"xy\"):(r.axes=n.resizeAxes,\"x\"===n.resizeAxes?r.delta.y=0:\"y\"===n.resizeAxes&&(r.delta.x=0))}}var Rt,Ct,jt={id:\"actions/resize\",before:[\"actions/drag\"],install:function(t){var e=t.actions,n=t.browser,r=t.Interactable,i=t.defaults;jt.cursors=function(t){return t.isIe9?{x:\"e-resize\",y:\"s-resize\",xy:\"se-resize\",top:\"n-resize\",left:\"w-resize\",bottom:\"s-resize\",right:\"e-resize\",topleft:\"se-resize\",bottomright:\"se-resize\",topright:\"ne-resize\",bottomleft:\"ne-resize\"}:{x:\"ew-resize\",y:\"ns-resize\",xy:\"nwse-resize\",top:\"ns-resize\",left:\"ew-resize\",bottom:\"ns-resize\",right:\"ew-resize\",topleft:\"nwse-resize\",bottomright:\"nwse-resize\",topright:\"nesw-resize\",bottomleft:\"nesw-resize\"}}(n),jt.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,r.prototype.resizable=function(e){return function(t,e,n){if(w.object(e))return t.options.resize.enabled=!1!==e.enabled,t.setPerAction(\"resize\",e),t.setOnEvents(\"resize\",e),w.string(e.axis)&&/^x$|^y$|^xy$/.test(e.axis)?t.options.resize.axis=e.axis:null===e.axis&&(t.options.resize.axis=n.defaults.actions.resize.axis),w.bool(e.preserveAspectRatio)?t.options.resize.preserveAspectRatio=e.preserveAspectRatio:w.bool(e.square)&&(t.options.resize.square=e.square),t;if(w.bool(e))return t.options.resize.enabled=e,t;return t.options.resize}(this,e,t)},e.map.resize=jt,e.methodDict.resize=\"resizable\",i.actions.resize=jt.defaults},listeners:{\"interactions:new\":function(t){t.interaction.resizeAxes=\"xy\"},\"interactions:action-start\":function(t){!function(t){var e=t.iEvent,n=t.interaction;if(\"resize\"===n.prepared.name&&n.prepared.edges){var r=e,i=n.rect;n._rects={start:V({},i),corrected:V({},i),previous:V({},i),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}}(t),At(t)},\"interactions:action-move\":function(t){!function(t){var e=t.iEvent,n=t.interaction;if(\"resize\"===n.prepared.name&&n.prepared.edges){var r=e,i=n.interactable.options.resize.invert,o=\"reposition\"===i||\"negate\"===i,a=n.rect,s=n._rects,c=s.start,l=s.corrected,u=s.delta,p=s.previous;if(V(p,l),o){if(V(l,a),\"reposition\"===i){if(l.top>l.bottom){var f=l.top;l.top=l.bottom,l.bottom=f}if(l.left>l.right){var d=l.left;l.left=l.right,l.right=d}}}else l.top=Math.min(a.top,c.bottom),l.bottom=Math.max(a.bottom,c.top),l.left=Math.min(a.left,c.right),l.right=Math.max(a.right,c.left);for(var h in l.width=l.right-l.left,l.height=l.bottom-l.top,l)u[h]=l[h]-p[h];r.edges=n.prepared.edges,r.rect=l,r.deltaRect=u}}(t),At(t)},\"interactions:action-end\":function(t){var e=t.iEvent,n=t.interaction;if(\"resize\"===n.prepared.name&&n.prepared.edges){var r=e;r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}},\"auto-start:check\":function(t){var e=t.interaction,n=t.interactable,r=t.element,i=t.rect,o=t.buttons;if(i){var a=V({},e.coords.cur.page),s=n.options.resize;if(s&&s.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||0!=(o&s.mouseButtons))){if(w.object(s.edges)){var c={left:!1,right:!1,top:!1,bottom:!1};for(var l in c)c[l]=zt(l,s.edges[l],a,e._latestPointer.eventTarget,r,i,s.margin||jt.defaultMargin);c.left=c.left&&!c.right,c.top=c.top&&!c.bottom,(c.left||c.right||c.top||c.bottom)&&(t.action={name:\"resize\",edges:c})}else{var u=\"y\"!==s.axis&&a.x>i.right-jt.defaultMargin,p=\"x\"!==s.axis&&a.y>i.bottom-jt.defaultMargin;(u||p)&&(t.action={name:\"resize\",axes:(u?\"x\":\"\")+(p?\"y\":\"\")})}return!t.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:\"xy\",margin:NaN,edges:null,invert:\"none\"},cursors:null,getCursor:function(t){var e=t.edges,n=t.axis,r=t.name,i=jt.cursors,o=null;if(n)o=i[r+n];else if(e){for(var a=\"\",s=0,c=[\"top\",\"bottom\",\"left\",\"right\"];s<c.length;s++){var l=c[s];e[l]&&(a+=l)}o=i[a]}return o},filterEventType:function(t){return 0===t.search(\"resize\")},defaultMargin:null},Ft=jt,Xt={id:\"actions\",install:function(t){t.usePlugin(Mt),t.usePlugin(Ft),t.usePlugin(_),t.usePlugin(kt)}},Yt=0;var Lt={request:function(t){return Rt(t)},cancel:function(t){return Ct(t)},init:function(t){if(Rt=t.requestAnimationFrame,Ct=t.cancelAnimationFrame,!Rt)for(var e=[\"ms\",\"moz\",\"webkit\",\"o\"],n=0;n<e.length;n++){var r=e[n];Rt=t[\"\".concat(r,\"RequestAnimationFrame\")],Ct=t[\"\".concat(r,\"CancelAnimationFrame\")]||t[\"\".concat(r,\"CancelRequestAnimationFrame\")]}Rt=Rt&&Rt.bind(t),Ct=Ct&&Ct.bind(t),Rt||(Rt=function(e){var n=Date.now(),r=Math.max(0,16-(n-Yt)),i=t.setTimeout((function(){e(n+r)}),r);return Yt=n+r,i},Ct=function(t){return clearTimeout(t)})}};var qt={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(t){qt.isScrolling=!0,Lt.cancel(qt.i),t.autoScroll=qt,qt.interaction=t,qt.prevTime=qt.now(),qt.i=Lt.request(qt.scroll)},stop:function(){qt.isScrolling=!1,qt.interaction&&(qt.interaction.autoScroll=null),Lt.cancel(qt.i)},scroll:function(){var t=qt.interaction,e=t.interactable,n=t.element,r=t.prepared.name,i=e.options[r].autoScroll,o=Bt(i.container,e,n),a=qt.now(),s=(a-qt.prevTime)/1e3,c=i.speed*s;if(c>=1){var l={x:qt.x*c,y:qt.y*c};if(l.x||l.y){var u=Vt(o);w.window(o)?o.scrollBy(l.x,l.y):o&&(o.scrollLeft+=l.x,o.scrollTop+=l.y);var p=Vt(o),f={x:p.x-u.x,y:p.y-u.y};(f.x||f.y)&&e.fire({type:\"autoscroll\",target:n,interactable:e,delta:f,interaction:t,container:o})}qt.prevTime=a}qt.isScrolling&&(Lt.cancel(qt.i),qt.i=Lt.request(qt.scroll))},check:function(t,e){var n;return null==(n=t.options[e].autoScroll)?void 0:n.enabled},onInteractionMove:function(t){var e=t.interaction,n=t.pointer;if(e.interacting()&&qt.check(e.interactable,e.prepared.name))if(e.simulation)qt.x=qt.y=0;else{var r,i,o,a,s=e.interactable,c=e.element,l=e.prepared.name,u=s.options[l].autoScroll,p=Bt(u.container,s,c);if(w.window(p))a=n.clientX<qt.margin,r=n.clientY<qt.margin,i=n.clientX>p.innerWidth-qt.margin,o=n.clientY>p.innerHeight-qt.margin;else{var f=Y(p);a=n.clientX<f.left+qt.margin,r=n.clientY<f.top+qt.margin,i=n.clientX>f.right-qt.margin,o=n.clientY>f.bottom-qt.margin}qt.x=i?1:a?-1:0,qt.y=o?1:r?-1:0,qt.isScrolling||(qt.margin=u.margin,qt.speed=u.speed,qt.start(e))}}};function Bt(t,e,n){return(w.string(t)?W(t,e,n):t)||y(n)}function Vt(t){return w.window(t)&&(t=window.document.body),{x:t.scrollLeft,y:t.scrollTop}}var Wt={id:\"auto-scroll\",install:function(t){var e=t.defaults,n=t.actions;t.autoScroll=qt,qt.now=function(){return t.now()},n.phaselessTypes.autoscroll=!0,e.perAction.autoScroll=qt.defaults},listeners:{\"interactions:new\":function(t){t.interaction.autoScroll=null},\"interactions:destroy\":function(t){t.interaction.autoScroll=null,qt.stop(),qt.interaction&&(qt.interaction=null)},\"interactions:stop\":qt.stop,\"interactions:action-move\":function(t){return qt.onInteractionMove(t)}}},Gt=Wt;function Nt(t,e){var n=!1;return function(){return n||(g.console.warn(e),n=!0),t.apply(this,arguments)}}function Ut(t,e){return t.name=e.name,t.axis=e.axis,t.edges=e.edges,t}function Ht(t){return w.bool(t)?(this.options.styleCursor=t,this):null===t?(delete this.options.styleCursor,this):this.options.styleCursor}function Kt(t){return w.func(t)?(this.options.actionChecker=t,this):null===t?(delete this.options.actionChecker,this):this.options.actionChecker}var $t={id:\"auto-start/interactableMethods\",install:function(t){var e=t.Interactable;e.prototype.getAction=function(e,n,r,i){var o=function(t,e,n,r,i){var o=t.getRect(r),a=e.buttons||{0:1,1:4,3:8,4:16}[e.button],s={action:null,interactable:t,interaction:n,element:r,rect:o,buttons:a};return i.fire(\"auto-start:check\",s),s.action}(this,n,r,i,t);return this.options.actionChecker?this.options.actionChecker(e,n,o,this,i,r):o},e.prototype.ignoreFrom=Nt((function(t){return this._backCompatOption(\"ignoreFrom\",t)}),\"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue}).\"),e.prototype.allowFrom=Nt((function(t){return this._backCompatOption(\"allowFrom\",t)}),\"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue}).\"),e.prototype.actionChecker=Kt,e.prototype.styleCursor=Ht}};function Jt(t,e,n,r,i){return e.testIgnoreAllow(e.options[t.name],n,r)&&e.options[t.name].enabled&&ee(e,n,t,i)?t:null}function Qt(t,e,n,r,i,o,a){for(var s=0,c=r.length;s<c;s++){var l=r[s],u=i[s],p=l.getAction(e,n,t,u);if(p){var f=Jt(p,l,u,o,a);if(f)return{action:f,interactable:l,element:u}}}return{action:null,interactable:null,element:null}}function Zt(t,e,n,r,i){var o=[],a=[],s=r;function c(t){o.push(t),a.push(s)}for(;w.element(s);){o=[],a=[],i.interactables.forEachMatch(s,c);var l=Qt(t,e,n,o,a,r,i);if(l.action&&!l.interactable.options[l.action.name].manualStart)return l;s=A(s)}return{action:null,interactable:null,element:null}}function te(t,e,n){var r=e.action,i=e.interactable,o=e.element;r=r||{name:null},t.interactable=i,t.element=o,Ut(t.prepared,r),t.rect=i&&r.name?i.getRect(o):null,ie(t,n),n.fire(\"autoStart:prepared\",{interaction:t})}function ee(t,e,n,r){var i=t.options,o=i[n.name].max,a=i[n.name].maxPerElement,s=r.autoStart.maxInteractions,c=0,l=0,u=0;if(!(o&&a&&s))return!1;for(var p=0,f=r.interactions.list;p<f.length;p++){var d=f[p],h=d.prepared.name;if(d.interacting()){if(++c>=s)return!1;if(d.interactable===t){if((l+=h===n.name?1:0)>=o)return!1;if(d.element===e&&(u++,h===n.name&&u>=a))return!1}}}return s>0}function ne(t,e){return w.number(t)?(e.autoStart.maxInteractions=t,this):e.autoStart.maxInteractions}function re(t,e,n){var r=n.autoStart.cursorElement;r&&r!==t&&(r.style.cursor=\"\"),t.ownerDocument.documentElement.style.cursor=e,t.style.cursor=e,n.autoStart.cursorElement=e?t:null}function ie(t,e){var n=t.interactable,r=t.element,i=t.prepared;if(\"mouse\"===t.pointerType&&n&&n.options.styleCursor){var o=\"\";if(i.name){var a=n.options[i.name].cursorChecker;o=w.func(a)?a(i,n,r,t._interacting):e.actions.map[i.name].getCursor(i)}re(t.element,o||\"\",e)}else e.autoStart.cursorElement&&re(e.autoStart.cursorElement,\"\",e)}var oe={id:\"auto-start/base\",before:[\"actions\"],install:function(t){var e=t.interactStatic,n=t.defaults;t.usePlugin($t),n.base.actionChecker=null,n.base.styleCursor=!0,V(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),e.maxInteractions=function(e){return ne(e,t)},t.autoStart={maxInteractions:1/0,withinInteractionLimit:ee,cursorElement:null}},listeners:{\"interactions:down\":function(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget;n.interacting()||te(n,Zt(n,r,i,o,e),e)},\"interactions:move\":function(t,e){!function(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget;\"mouse\"!==n.pointerType||n.pointerIsDown||n.interacting()||te(n,Zt(n,r,i,o,e),e)}(t,e),function(t,e){var n=t.interaction;if(n.pointerIsDown&&!n.interacting()&&n.pointerWasMoved&&n.prepared.name){e.fire(\"autoStart:before-start\",t);var r=n.interactable,i=n.prepared.name;i&&r&&(r.options[i].manualStart||!ee(r,n.element,n.prepared,e)?n.stop():(n.start(n.prepared,r,n.element),ie(n,e)))}}(t,e)},\"interactions:stop\":function(t,e){var n=t.interaction,r=n.interactable;r&&r.options.styleCursor&&re(n.element,\"\",e)}},maxInteractions:ne,withinInteractionLimit:ee,validateAction:Jt},ae=oe;var se={id:\"auto-start/dragAxis\",listeners:{\"autoStart:before-start\":function(t,e){var n=t.interaction,r=t.eventTarget,i=t.dx,o=t.dy;if(\"drag\"===n.prepared.name){var a=Math.abs(i),s=Math.abs(o),c=n.interactable.options.drag,l=c.startAxis,u=a>s?\"x\":a<s?\"y\":\"xy\";if(n.prepared.axis=\"start\"===c.lockAxis?u[0]:c.lockAxis,\"xy\"!==u&&\"xy\"!==l&&l!==u){n.prepared.name=null;for(var p=r,f=function(t){if(t!==n.interactable){var i=n.interactable.options.drag;if(!i.manualStart&&t.testIgnoreAllow(i,p,r)){var o=t.getAction(n.downPointer,n.downEvent,n,p);if(o&&\"drag\"===o.name&&function(t,e){if(!e)return!1;var n=e.options.drag.startAxis;return\"xy\"===t||\"xy\"===n||n===t}(u,t)&&ae.validateAction(o,t,p,r,e))return t}}};w.element(p);){var d=e.interactables.forEachMatch(p,f);if(d){n.prepared.name=\"drag\",n.interactable=d,n.element=p;break}p=A(p)}}}}}};function ce(t){var e=t.prepared&&t.prepared.name;if(!e)return null;var n=t.interactable.options;return n[e].hold||n[e].delay}var le={id:\"auto-start/hold\",install:function(t){var e=t.defaults;t.usePlugin(ae),e.perAction.hold=0,e.perAction.delay=0},listeners:{\"interactions:new\":function(t){t.interaction.autoStartHoldTimer=null},\"autoStart:prepared\":function(t){var e=t.interaction,n=ce(e);n>0&&(e.autoStartHoldTimer=setTimeout((function(){e.start(e.prepared,e.interactable,e.element)}),n))},\"interactions:move\":function(t){var e=t.interaction,n=t.duplicate;e.autoStartHoldTimer&&e.pointerWasMoved&&!n&&(clearTimeout(e.autoStartHoldTimer),e.autoStartHoldTimer=null)},\"autoStart:before-start\":function(t){var e=t.interaction;ce(e)>0&&(e.prepared.name=null)}},getHoldDuration:ce},ue=le,pe={id:\"auto-start\",install:function(t){t.usePlugin(ae),t.usePlugin(ue),t.usePlugin(se)}},fe=function(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):w.bool(t)?(this.options.preventDefault=t?\"always\":\"never\",this):this.options.preventDefault};function de(t){var e=t.interaction,n=t.event;e.interactable&&e.interactable.checkAndPreventDefault(n)}var he={id:\"core/interactablePreventDefault\",install:function(t){var e=t.Interactable;e.prototype.preventDefault=fe,e.prototype.checkAndPreventDefault=function(e){return function(t,e,n){var r=t.options.preventDefault;if(\"never\"!==r)if(\"always\"!==r){if(e.events.supportsPassive&&/^touch(start|move)$/.test(n.type)){var i=y(n.target).document,o=e.getDocOptions(i);if(!o||!o.events||!1!==o.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(n.type)||w.element(n.target)&&R(n.target,\"input,select,textarea,[contenteditable=true],[contenteditable=true] *\")||n.preventDefault()}else n.preventDefault()}(this,t,e)},t.interactions.docEvents.push({type:\"dragstart\",listener:function(e){for(var n=0,r=t.interactions.list;n<r.length;n++){var i=r[n];if(i.element&&(i.element===e.target||M(i.element,e.target)))return void i.interactable.checkAndPreventDefault(e)}}})},listeners:[\"down\",\"move\",\"up\",\"cancel\"].reduce((function(t,e){return t[\"interactions:\".concat(e)]=de,t}),{})};function ve(t,e){if(e.phaselessTypes[t])return!0;for(var n in e.map)if(0===t.indexOf(n)&&t.substr(n.length)in e.phases)return!0;return!1}function ge(t){var e={};for(var n in t){var r=t[n];w.plainObject(r)?e[n]=ge(r):w.array(r)?e[n]=mt(r):e[n]=r}return e}var me=function(){function t(e){r(this,t),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=e,this.result=ye(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return o(t,[{key:\"start\",value:function(t,e){var n,r,i=t.phase,o=this.interaction,a=function(t){var e=t.interactable.options[t.prepared.name],n=e.modifiers;if(n&&n.length)return n;return[\"snap\",\"snapSize\",\"snapEdges\",\"restrict\",\"restrictEdges\",\"restrictSize\"].map((function(t){var n=e[t];return n&&n.enabled&&{options:n,methods:n._methods}})).filter((function(t){return!!t}))}(o);this.prepareStates(a),this.startEdges=V({},o.edges),this.edges=V({},this.startEdges),this.startOffset=(n=o.rect,r=e,n?{left:r.x-n.left,top:r.y-n.top,right:n.right-r.x,bottom:n.bottom-r.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var s=this.fillArg({phase:i,pageCoords:e,preEnd:!1});return this.result=ye(),this.startAll(s),this.result=this.setAll(s)}},{key:\"fillArg\",value:function(t){var e=this.interaction;return t.interaction=e,t.interactable=e.interactable,t.element=e.element,t.rect||(t.rect=e.rect),t.edges||(t.edges=this.startEdges),t.startOffset=this.startOffset,t}},{key:\"startAll\",value:function(t){for(var e=0,n=this.states;e<n.length;e++){var r=n[e];r.methods.start&&(t.state=r,r.methods.start(t))}}},{key:\"setAll\",value:function(t){var e=t.phase,n=t.preEnd,r=t.skipModifiers,i=t.rect,o=t.edges;t.coords=V({},t.pageCoords),t.rect=V({},i),t.edges=V({},o);for(var a=r?this.states.slice(r):this.states,s=ye(t.coords,t.rect),c=0;c<a.length;c++){var l,u=a[c],p=u.options,f=V({},t.coords),d=null;null!=(l=u.methods)&&l.set&&this.shouldDo(p,n,e)&&(t.state=u,d=u.methods.set(t),H(t.edges,t.rect,{x:t.coords.x-f.x,y:t.coords.y-f.y})),s.eventProps.push(d)}V(this.edges,t.edges),s.delta.x=t.coords.x-t.pageCoords.x,s.delta.y=t.coords.y-t.pageCoords.y,s.rectDelta.left=t.rect.left-i.left,s.rectDelta.right=t.rect.right-i.right,s.rectDelta.top=t.rect.top-i.top,s.rectDelta.bottom=t.rect.bottom-i.bottom;var h=this.result.coords,v=this.result.rect;if(h&&v){var g=s.rect.left!==v.left||s.rect.right!==v.right||s.rect.top!==v.top||s.rect.bottom!==v.bottom;s.changed=g||h.x!==s.coords.x||h.y!==s.coords.y}return s}},{key:\"applyToInteraction\",value:function(t){var e=this.interaction,n=t.phase,r=e.coords.cur,i=e.coords.start,o=this.result,a=this.startDelta,s=o.delta;\"start\"===n&&V(this.startDelta,o.delta);for(var c=0,l=[[i,a],[r,s]];c<l.length;c++){var u=l[c],p=u[0],f=u[1];p.page.x+=f.x,p.page.y+=f.y,p.client.x+=f.x,p.client.y+=f.y}var d=this.result.rectDelta,h=t.rect||e.rect;h.left+=d.left,h.right+=d.right,h.top+=d.top,h.bottom+=d.bottom,h.width=h.right-h.left,h.height=h.bottom-h.top}},{key:\"setAndApply\",value:function(t){var e=this.interaction,n=t.phase,r=t.preEnd,i=t.skipModifiers,o=this.setAll(this.fillArg({preEnd:r,phase:n,pageCoords:t.modifiedCoords||e.coords.cur.page}));if(this.result=o,!o.changed&&(!i||i<this.states.length)&&e.interacting())return!1;if(t.modifiedCoords){var a=e.coords.cur.page,s={x:t.modifiedCoords.x-a.x,y:t.modifiedCoords.y-a.y};o.coords.x+=s.x,o.coords.y+=s.y,o.delta.x+=s.x,o.delta.y+=s.y}this.applyToInteraction(t)}},{key:\"beforeEnd\",value:function(t){var e=t.interaction,n=t.event,r=this.states;if(r&&r.length){for(var i=!1,o=0;o<r.length;o++){var a=r[o];t.state=a;var s=a.options,c=a.methods,l=c.beforeEnd&&c.beforeEnd(t);if(l)return this.endResult=l,!1;i=i||!i&&this.shouldDo(s,!0,t.phase,!0)}i&&e.move({event:n,preEnd:!0})}}},{key:\"stop\",value:function(t){var e=t.interaction;if(this.states&&this.states.length){var n=V({states:this.states,interactable:e.interactable,element:e.element,rect:null},t);this.fillArg(n);for(var r=0,i=this.states;r<i.length;r++){var o=i[r];n.state=o,o.methods.stop&&o.methods.stop(n)}this.states=null,this.endResult=null}}},{key:\"prepareStates\",value:function(t){this.states=[];for(var e=0;e<t.length;e++){var n=t[e],r=n.options,i=n.methods,o=n.name;this.states.push({options:r,methods:i,index:e,name:o})}return this.states}},{key:\"restoreInteractionCoords\",value:function(t){var e=t.interaction,n=e.coords,r=e.rect,i=e.modification;if(i.result){for(var o=i.startDelta,a=i.result,s=a.delta,c=a.rectDelta,l=0,u=[[n.start,o],[n.cur,s]];l<u.length;l++){var p=u[l],f=p[0],d=p[1];f.page.x-=d.x,f.page.y-=d.y,f.client.x-=d.x,f.client.y-=d.y}r.left-=c.left,r.right-=c.right,r.top-=c.top,r.bottom-=c.bottom}}},{key:\"shouldDo\",value:function(t,e,n,r){return!(!t||!1===t.enabled||r&&!t.endOnly||t.endOnly&&!e||\"start\"===n&&!t.setStart)}},{key:\"copyFrom\",value:function(t){this.startOffset=t.startOffset,this.startDelta=t.startDelta,this.startEdges=t.startEdges,this.edges=t.edges,this.states=t.states.map((function(t){return ge(t)})),this.result=ye(V({},t.result.coords),V({},t.result.rect))}},{key:\"destroy\",value:function(){for(var t in this)this[t]=null}}]),t}();function ye(t,e){return{rect:e,coords:t,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function be(t,e){var n=t.defaults,r={start:t.start,set:t.set,beforeEnd:t.beforeEnd,stop:t.stop},i=function(t){var i=t||{};for(var o in i.enabled=!1!==i.enabled,n)o in i||(i[o]=n[o]);var a={options:i,methods:r,name:e,enable:function(){return i.enabled=!0,a},disable:function(){return i.enabled=!1,a}};return a};return e&&\"string\"==typeof e&&(i._defaults=n,i._methods=r),i}function xe(t){var e=t.iEvent,n=t.interaction.modification.result;n&&(e.modifiers=n.eventProps)}var we={id:\"modifiers/base\",before:[\"actions\"],install:function(t){t.defaults.perAction.modifiers=[]},listeners:{\"interactions:new\":function(t){var e=t.interaction;e.modification=new me(e)},\"interactions:before-action-start\":function(t){var e=t.interaction,n=t.interaction.modification;n.start(t,e.coords.start.page),e.edges=n.edges,n.applyToInteraction(t)},\"interactions:before-action-move\":function(t){var e=t.interaction,n=e.modification,r=n.setAndApply(t);return e.edges=n.edges,r},\"interactions:before-action-end\":function(t){var e=t.interaction,n=e.modification,r=n.beforeEnd(t);return e.edges=n.startEdges,r},\"interactions:action-start\":xe,\"interactions:action-move\":xe,\"interactions:action-end\":xe,\"interactions:after-action-start\":function(t){return t.interaction.modification.restoreInteractionCoords(t)},\"interactions:after-action-move\":function(t){return t.interaction.modification.restoreInteractionCoords(t)},\"interactions:stop\":function(t){return t.interaction.modification.stop(t)}}},Ee=we,Te={base:{preventDefault:\"auto\",deltaSource:\"page\"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},Se=function(t){s(n,t);var e=p(n);function n(t,i,o,a,s,c,l){var p;r(this,n),(p=e.call(this,t)).relatedTarget=null,p.screenX=void 0,p.screenY=void 0,p.button=void 0,p.buttons=void 0,p.ctrlKey=void 0,p.shiftKey=void 0,p.altKey=void 0,p.metaKey=void 0,p.page=void 0,p.client=void 0,p.delta=void 0,p.rect=void 0,p.x0=void 0,p.y0=void 0,p.t0=void 0,p.dt=void 0,p.duration=void 0,p.clientX0=void 0,p.clientY0=void 0,p.velocity=void 0,p.speed=void 0,p.swipe=void 0,p.axes=void 0,p.preEnd=void 0,s=s||t.element;var f=t.interactable,d=(f&&f.options||Te).deltaSource,h=K(f,s,o),v=\"start\"===a,g=\"end\"===a,m=v?u(p):t.prevEvent,y=v?t.coords.start:g?{page:m.page,client:m.client,timeStamp:t.coords.cur.timeStamp}:t.coords.cur;return p.page=V({},y.page),p.client=V({},y.client),p.rect=V({},t.rect),p.timeStamp=y.timeStamp,g||(p.page.x-=h.x,p.page.y-=h.y,p.client.x-=h.x,p.client.y-=h.y),p.ctrlKey=i.ctrlKey,p.altKey=i.altKey,p.shiftKey=i.shiftKey,p.metaKey=i.metaKey,p.button=i.button,p.buttons=i.buttons,p.target=s,p.currentTarget=s,p.preEnd=c,p.type=l||o+(a||\"\"),p.interactable=f,p.t0=v?t.pointers[t.pointers.length-1].downTime:m.t0,p.x0=t.coords.start.page.x-h.x,p.y0=t.coords.start.page.y-h.y,p.clientX0=t.coords.start.client.x-h.x,p.clientY0=t.coords.start.client.y-h.y,p.delta=v||g?{x:0,y:0}:{x:p[d].x-m[d].x,y:p[d].y-m[d].y},p.dt=t.coords.delta.timeStamp,p.duration=p.timeStamp-p.t0,p.velocity=V({},t.coords.velocity[d]),p.speed=Q(p.velocity.x,p.velocity.y),p.swipe=g||\"inertiastart\"===a?p.getSwipe():null,p}return o(n,[{key:\"getSwipe\",value:function(){var t=this._interaction;if(t.prevEvent.speed<600||this.timeStamp-t.prevEvent.timeStamp>150)return null;var e=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;e<0&&(e+=360);var n=112.5<=e&&e<247.5,r=202.5<=e&&e<337.5;return{up:r,down:!r&&22.5<=e&&e<157.5,left:n,right:!n&&(292.5<=e||e<67.5),angle:e,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}},{key:\"preventDefault\",value:function(){}},{key:\"stopImmediatePropagation\",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:\"stopPropagation\",value:function(){this.propagationStopped=!0}}]),n}(vt);Object.defineProperties(Se.prototype,{pageX:{get:function(){return this.page.x},set:function(t){this.page.x=t}},pageY:{get:function(){return this.page.y},set:function(t){this.page.y=t}},clientX:{get:function(){return this.client.x},set:function(t){this.client.x=t}},clientY:{get:function(){return this.client.y},set:function(t){this.client.y=t}},dx:{get:function(){return this.delta.x},set:function(t){this.delta.x=t}},dy:{get:function(){return this.delta.y},set:function(t){this.delta.y=t}},velocityX:{get:function(){return this.velocity.x},set:function(t){this.velocity.x=t}},velocityY:{get:function(){return this.velocity.y},set:function(t){this.velocity.y=t}}});var _e=o((function t(e,n,i,o,a){r(this,t),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=e,this.pointer=n,this.event=i,this.downTime=o,this.downTarget=a})),Pe=function(t){return t.interactable=\"\",t.element=\"\",t.prepared=\"\",t.pointerIsDown=\"\",t.pointerWasMoved=\"\",t._proxy=\"\",t}({}),Oe=function(t){return t.start=\"\",t.move=\"\",t.end=\"\",t.stop=\"\",t.interacting=\"\",t}({}),ke=0,De=function(){function t(e){var n=this,i=e.pointerType,o=e.scopeFire;r(this,t),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=Nt((function(t){this.move(t)}),\"The interaction.doMove() method has been renamed to interaction.move()\"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=ke++,this._scopeFire=o,this.pointerType=i;var a=this;this._proxy={};var s=function(t){Object.defineProperty(n._proxy,t,{get:function(){return a[t]}})};for(var c in Pe)s(c);var l=function(t){Object.defineProperty(n._proxy,t,{value:function(){return a[t].apply(a,arguments)}})};for(var u in Oe)l(u);this._scopeFire(\"interactions:new\",{interaction:this})}return o(t,[{key:\"pointerMoveTolerance\",get:function(){return 1}},{key:\"pointerDown\",value:function(t,e,n){var r=this.updatePointer(t,e,n,!0),i=this.pointers[r];this._scopeFire(\"interactions:down\",{pointer:t,event:e,eventTarget:n,pointerIndex:r,pointerInfo:i,type:\"down\",interaction:this})}},{key:\"start\",value:function(t,e,n){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(\"gesture\"===t.name?2:1)||!e.options[t.name].enabled)&&(Ut(this.prepared,t),this.interactable=e,this.element=n,this.rect=e.getRect(n),this.edges=this.prepared.edges?V({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:\"start\"})&&!this._stopped,this._interacting)}},{key:\"pointerMove\",value:function(t,e,n){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(t,e,n,!1);var r,i,o=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(r=this.coords.cur.client.x-this.coords.start.client.x,i=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=Q(r,i)>this.pointerMoveTolerance);var a,s,c,l=this.getPointerIndex(t),u={pointer:t,pointerIndex:l,pointerInfo:this.pointers[l],event:e,type:\"move\",eventTarget:n,dx:r,dy:i,duplicate:o,interaction:this};o||(a=this.coords.velocity,s=this.coords.delta,c=Math.max(s.timeStamp/1e3,.001),a.page.x=s.page.x/c,a.page.y=s.page.y/c,a.client.x=s.client.x/c,a.client.y=s.client.y/c,a.timeStamp=c),this._scopeFire(\"interactions:move\",u),o||this.simulation||(this.interacting()&&(u.type=null,this.move(u)),this.pointerWasMoved&&et(this.coords.prev,this.coords.cur))}},{key:\"move\",value:function(t){t&&t.event||nt(this.coords.delta),(t=V({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{})).phase=\"move\",this._doPhase(t)}},{key:\"pointerUp\",value:function(t,e,n,r){var i=this.getPointerIndex(t);-1===i&&(i=this.updatePointer(t,e,n,!1));var o=/cancel$/i.test(e.type)?\"cancel\":\"up\";this._scopeFire(\"interactions:\".concat(o),{pointer:t,pointerIndex:i,pointerInfo:this.pointers[i],event:e,eventTarget:n,type:o,curEventTarget:r,interaction:this}),this.simulation||this.end(e),this.removePointer(t,e)}},{key:\"documentBlur\",value:function(t){this.end(t),this._scopeFire(\"interactions:blur\",{event:t,type:\"blur\",interaction:this})}},{key:\"end\",value:function(t){var e;this._ending=!0,t=t||this._latestPointer.event,this.interacting()&&(e=this._doPhase({event:t,interaction:this,phase:\"end\"})),this._ending=!1,!0===e&&this.stop()}},{key:\"currentAction\",value:function(){return this._interacting?this.prepared.name:null}},{key:\"interacting\",value:function(){return this._interacting}},{key:\"stop\",value:function(){this._scopeFire(\"interactions:stop\",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:\"getPointerIndex\",value:function(t){var e=at(t);return\"mouse\"===this.pointerType||\"pen\"===this.pointerType?this.pointers.length-1:yt(this.pointers,(function(t){return t.id===e}))}},{key:\"getPointerInfo\",value:function(t){return this.pointers[this.getPointerIndex(t)]}},{key:\"updatePointer\",value:function(t,e,n,r){var i,o,a,s=at(t),c=this.getPointerIndex(t),l=this.pointers[c];return r=!1!==r&&(r||/(down|start)$/i.test(e.type)),l?l.pointer=t:(l=new _e(s,t,e,null,null),c=this.pointers.length,this.pointers.push(l)),st(this.coords.cur,this.pointers.map((function(t){return t.pointer})),this._now()),i=this.coords.delta,o=this.coords.prev,a=this.coords.cur,i.page.x=a.page.x-o.page.x,i.page.y=a.page.y-o.page.y,i.client.x=a.client.x-o.client.x,i.client.y=a.client.y-o.client.y,i.timeStamp=a.timeStamp-o.timeStamp,r&&(this.pointerIsDown=!0,l.downTime=this.coords.cur.timeStamp,l.downTarget=n,tt(this.downPointer,t),this.interacting()||(et(this.coords.start,this.coords.cur),et(this.coords.prev,this.coords.cur),this.downEvent=e,this.pointerWasMoved=!1)),this._updateLatestPointer(t,e,n),this._scopeFire(\"interactions:update-pointer\",{pointer:t,event:e,eventTarget:n,down:r,pointerInfo:l,pointerIndex:c,interaction:this}),c}},{key:\"removePointer\",value:function(t,e){var n=this.getPointerIndex(t);if(-1!==n){var r=this.pointers[n];this._scopeFire(\"interactions:remove-pointer\",{pointer:t,event:e,eventTarget:null,pointerIndex:n,pointerInfo:r,interaction:this}),this.pointers.splice(n,1),this.pointerIsDown=!1}}},{key:\"_updateLatestPointer\",value:function(t,e,n){this._latestPointer.pointer=t,this._latestPointer.event=e,this._latestPointer.eventTarget=n}},{key:\"destroy\",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:\"_createPreparedEvent\",value:function(t,e,n,r){return new Se(this,t,this.prepared.name,e,this.element,n,r)}},{key:\"_fireEvent\",value:function(t){var e;null==(e=this.interactable)||e.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)}},{key:\"_doPhase\",value:function(t){var e=t.event,n=t.phase,r=t.preEnd,i=t.type,o=this.rect;if(o&&\"move\"===n&&(H(this.edges,o,this.coords.delta[this.interactable.options.deltaSource]),o.width=o.right-o.left,o.height=o.bottom-o.top),!1===this._scopeFire(\"interactions:before-action-\".concat(n),t))return!1;var a=t.iEvent=this._createPreparedEvent(e,n,r,i);return this._scopeFire(\"interactions:action-\".concat(n),t),\"start\"===n&&(this.prevEvent=a),this._fireEvent(a),this._scopeFire(\"interactions:after-action-\".concat(n),t),!0}},{key:\"_now\",value:function(){return Date.now()}}]),t}();function Ie(t){Me(t.interaction)}function Me(t){if(!function(t){return!(!t.offset.pending.x&&!t.offset.pending.y)}(t))return!1;var e=t.offset.pending;return Ae(t.coords.cur,e),Ae(t.coords.delta,e),H(t.edges,t.rect,e),e.x=0,e.y=0,!0}function ze(t){var e=t.x,n=t.y;this.offset.pending.x+=e,this.offset.pending.y+=n,this.offset.total.x+=e,this.offset.total.y+=n}function Ae(t,e){var n=t.page,r=t.client,i=e.x,o=e.y;n.x+=i,n.y+=o,r.x+=i,r.y+=o}Oe.offsetBy=\"\";var Re={id:\"offset\",before:[\"modifiers\",\"pointer-events\",\"actions\",\"inertia\"],install:function(t){t.Interaction.prototype.offsetBy=ze},listeners:{\"interactions:new\":function(t){t.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},\"interactions:update-pointer\":function(t){return function(t){t.pointerIsDown&&(Ae(t.coords.cur,t.offset.total),t.offset.pending.x=0,t.offset.pending.y=0)}(t.interaction)},\"interactions:before-action-start\":Ie,\"interactions:before-action-move\":Ie,\"interactions:before-action-end\":function(t){var e=t.interaction;if(Me(e))return e.move({offset:!0}),e.end(),!1},\"interactions:stop\":function(t){var e=t.interaction;e.offset.total.x=0,e.offset.total.y=0,e.offset.pending.x=0,e.offset.pending.y=0}}},Ce=Re;var je=function(){function t(e){r(this,t),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=e}return o(t,[{key:\"start\",value:function(t){var e=this.interaction,n=Fe(e);if(!n||!n.enabled)return!1;var r=e.coords.velocity.client,i=Q(r.x,r.y),o=this.modification||(this.modification=new me(e));if(o.copyFrom(e.modification),this.t0=e._now(),this.allowResume=n.allowResume,this.v0=i,this.currentOffset={x:0,y:0},this.startCoords=e.coords.cur.page,this.modifierArg=o.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:\"inertiastart\"}),this.t0-e.coords.cur.timeStamp<50&&i>n.minSpeed&&i>n.endSpeed)this.startInertia();else{if(o.result=o.setAll(this.modifierArg),!o.result.changed)return!1;this.startSmoothEnd()}return e.modification.result.rect=null,e.offsetBy(this.targetOffset),e._doPhase({interaction:e,event:t,phase:\"inertiastart\"}),e.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),e.modification.result.rect=null,this.active=!0,e.simulation=this,!0}},{key:\"startInertia\",value:function(){var t=this,e=this.interaction.coords.velocity.client,n=Fe(this.interaction),r=n.resistance,i=-Math.log(n.endSpeed/this.v0)/r;this.targetOffset={x:(e.x-i)/r,y:(e.y-i)/r},this.te=i,this.lambda_v0=r/this.v0,this.one_ve_v0=1-n.endSpeed/this.v0;var o=this.modification,a=this.modifierArg;a.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},o.result=o.setAll(a),o.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+o.result.delta.x,y:this.targetOffset.y+o.result.delta.y}),this.onNextFrame((function(){return t.inertiaTick()}))}},{key:\"startSmoothEnd\",value:function(){var t=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame((function(){return t.smoothEndTick()}))}},{key:\"onNextFrame\",value:function(t){var e=this;this.timeout=Lt.request((function(){e.active&&t()}))}},{key:\"inertiaTick\",value:function(){var t,e,n,r,i,o,a,s=this,c=this.interaction,l=Fe(c).resistance,u=(c._now()-this.t0)/1e3;if(u<this.te){var p,f=1-(Math.exp(-l*u)-this.lambda_v0)/this.one_ve_v0;this.isModified?(t=0,e=0,n=this.targetOffset.x,r=this.targetOffset.y,i=this.modifiedOffset.x,o=this.modifiedOffset.y,p={x:Ye(a=f,t,n,i),y:Ye(a,e,r,o)}):p={x:this.targetOffset.x*f,y:this.targetOffset.y*f};var d={x:p.x-this.currentOffset.x,y:p.y-this.currentOffset.y};this.currentOffset.x+=d.x,this.currentOffset.y+=d.y,c.offsetBy(d),c.move(),this.onNextFrame((function(){return s.inertiaTick()}))}else c.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:\"smoothEndTick\",value:function(){var t=this,e=this.interaction,n=e._now()-this.t0,r=Fe(e).smoothEndDuration;if(n<r){var i={x:Le(n,0,this.targetOffset.x,r),y:Le(n,0,this.targetOffset.y,r)},o={x:i.x-this.currentOffset.x,y:i.y-this.currentOffset.y};this.currentOffset.x+=o.x,this.currentOffset.y+=o.y,e.offsetBy(o),e.move({skipModifiers:this.modifierCount}),this.onNextFrame((function(){return t.smoothEndTick()}))}else e.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:\"resume\",value:function(t){var e=t.pointer,n=t.event,r=t.eventTarget,i=this.interaction;i.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),i.updatePointer(e,n,r,!0),i._doPhase({interaction:i,event:n,phase:\"resume\"}),et(i.coords.prev,i.coords.cur),this.stop()}},{key:\"end\",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:\"stop\",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Lt.cancel(this.timeout)}}]),t}();function Fe(t){var e=t.interactable,n=t.prepared;return e&&e.options&&n.name&&e.options[n.name].inertia}var Xe={id:\"inertia\",before:[\"modifiers\",\"actions\"],install:function(t){var e=t.defaults;t.usePlugin(Ce),t.usePlugin(Ee),t.actions.phases.inertiastart=!0,t.actions.phases.resume=!0,e.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{\"interactions:new\":function(t){var e=t.interaction;e.inertia=new je(e)},\"interactions:before-action-end\":function(t){var e=t.interaction,n=t.event;return(!e._interacting||e.simulation||!e.inertia.start(n))&&null},\"interactions:down\":function(t){var e=t.interaction,n=t.eventTarget,r=e.inertia;if(r.active)for(var i=n;w.element(i);){if(i===e.element){r.resume(t);break}i=A(i)}},\"interactions:stop\":function(t){var e=t.interaction.inertia;e.active&&e.stop()},\"interactions:before-action-resume\":function(t){var e=t.interaction.modification;e.stop(t),e.start(t,t.interaction.coords.cur.page),e.applyToInteraction(t)},\"interactions:before-action-inertiastart\":function(t){return t.interaction.modification.setAndApply(t)},\"interactions:action-resume\":xe,\"interactions:action-inertiastart\":xe,\"interactions:after-action-inertiastart\":function(t){return t.interaction.modification.restoreInteractionCoords(t)},\"interactions:after-action-resume\":function(t){return t.interaction.modification.restoreInteractionCoords(t)}}};function Ye(t,e,n,r){var i=1-t;return i*i*e+2*i*t*n+t*t*r}function Le(t,e,n,r){return-n*(t/=r)*(t-2)+e}var qe=Xe;function Be(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(t.immediatePropagationStopped)break;r(t)}}var Ve=function(){function t(e){r(this,t),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=V({},e||{})}return o(t,[{key:\"fire\",value:function(t){var e,n=this.global;(e=this.types[t.type])&&Be(t,e),!t.propagationStopped&&n&&(e=n[t.type])&&Be(t,e)}},{key:\"on\",value:function(t,e){var n=$(t,e);for(t in n)this.types[t]=gt(this.types[t]||[],n[t])}},{key:\"off\",value:function(t,e){var n=$(t,e);for(t in n){var r=this.types[t];if(r&&r.length)for(var i=0,o=n[t];i<o.length;i++){var a=o[i],s=r.indexOf(a);-1!==s&&r.splice(s,1)}}}},{key:\"getRect\",value:function(t){return null}}]),t}();var We=function(){function t(e){r(this,t),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=e,tt(this,e)}return o(t,[{key:\"preventOriginalDefault\",value:function(){this.originalEvent.preventDefault()}},{key:\"stopPropagation\",value:function(){this.originalEvent.stopPropagation()}},{key:\"stopImmediatePropagation\",value:function(){this.originalEvent.stopImmediatePropagation()}}]),t}();function Ge(t){return w.object(t)?{capture:!!t.capture,passive:!!t.passive}:{capture:!!t,passive:!1}}function Ne(t,e){return t===e||(\"boolean\"==typeof t?!!e.capture===t&&!1==!!e.passive:!!t.capture==!!e.capture&&!!t.passive==!!e.passive)}var Ue={id:\"events\",install:function(t){var e,n=[],r={},i=[],o={add:a,remove:s,addDelegate:function(t,e,n,o,s){var u=Ge(s);if(!r[n]){r[n]=[];for(var p=0;p<i.length;p++){var f=i[p];a(f,n,c),a(f,n,l,!0)}}var d=r[n],h=bt(d,(function(n){return n.selector===t&&n.context===e}));h||(h={selector:t,context:e,listeners:[]},d.push(h));h.listeners.push({func:o,options:u})},removeDelegate:function(t,e,n,i,o){var a,u=Ge(o),p=r[n],f=!1;if(!p)return;for(a=p.length-1;a>=0;a--){var d=p[a];if(d.selector===t&&d.context===e){for(var h=d.listeners,v=h.length-1;v>=0;v--){var g=h[v];if(g.func===i&&Ne(g.options,u)){h.splice(v,1),h.length||(p.splice(a,1),s(e,n,c),s(e,n,l,!0)),f=!0;break}}if(f)break}}},delegateListener:c,delegateUseCapture:l,delegatedEvents:r,documents:i,targets:n,supportsOptions:!1,supportsPassive:!1};function a(t,e,r,i){if(t.addEventListener){var a=Ge(i),s=bt(n,(function(e){return e.eventTarget===t}));s||(s={eventTarget:t,events:{}},n.push(s)),s.events[e]||(s.events[e]=[]),bt(s.events[e],(function(t){return t.func===r&&Ne(t.options,a)}))||(t.addEventListener(e,r,o.supportsOptions?a:a.capture),s.events[e].push({func:r,options:a}))}}function s(t,e,r,i){if(t.addEventListener&&t.removeEventListener){var a=yt(n,(function(e){return e.eventTarget===t})),c=n[a];if(c&&c.events)if(\"all\"!==e){var l=!1,u=c.events[e];if(u){if(\"all\"===r){for(var p=u.length-1;p>=0;p--){var f=u[p];s(t,e,f.func,f.options)}return}for(var d=Ge(i),h=0;h<u.length;h++){var v=u[h];if(v.func===r&&Ne(v.options,d)){t.removeEventListener(e,r,o.supportsOptions?d:d.capture),u.splice(h,1),0===u.length&&(delete c.events[e],l=!0);break}}}l&&!Object.keys(c.events).length&&n.splice(a,1)}else for(e in c.events)c.events.hasOwnProperty(e)&&s(t,e,\"all\")}}function c(t,e){for(var n=Ge(e),i=new We(t),o=r[t.type],a=ht(t)[0],s=a;w.element(s);){for(var c=0;c<o.length;c++){var l=o[c],u=l.selector,p=l.context;if(R(s,u)&&M(p,a)&&M(p,s)){var f=l.listeners;i.currentTarget=s;for(var d=0;d<f.length;d++){var h=f[d];Ne(h.options,n)&&h.func(i)}}}s=A(s)}}function l(t){return c(t,!0)}return null==(e=t.document)||e.createElement(\"div\").addEventListener(\"test\",null,{get capture(){return o.supportsOptions=!0},get passive(){return o.supportsPassive=!0}}),t.events=o,o}},He={methodOrder:[\"simulationResume\",\"mouseOrPen\",\"hasPointer\",\"idle\"],search:function(t){for(var e=0,n=He.methodOrder;e<n.length;e++){var r=n[e],i=He[r](t);if(i)return i}return null},simulationResume:function(t){var e=t.pointerType,n=t.eventType,r=t.eventTarget,i=t.scope;if(!/down|start/i.test(n))return null;for(var o=0,a=i.interactions.list;o<a.length;o++){var s=a[o],c=r;if(s.simulation&&s.simulation.allowResume&&s.pointerType===e)for(;c;){if(c===s.element)return s;c=A(c)}}return null},mouseOrPen:function(t){var e,n=t.pointerId,r=t.pointerType,i=t.eventType,o=t.scope;if(\"mouse\"!==r&&\"pen\"!==r)return null;for(var a=0,s=o.interactions.list;a<s.length;a++){var c=s[a];if(c.pointerType===r){if(c.simulation&&!Ke(c,n))continue;if(c.interacting())return c;e||(e=c)}}if(e)return e;for(var l=0,u=o.interactions.list;l<u.length;l++){var p=u[l];if(!(p.pointerType!==r||/down/i.test(i)&&p.simulation))return p}return null},hasPointer:function(t){for(var e=t.pointerId,n=0,r=t.scope.interactions.list;n<r.length;n++){var i=r[n];if(Ke(i,e))return i}return null},idle:function(t){for(var e=t.pointerType,n=0,r=t.scope.interactions.list;n<r.length;n++){var i=r[n];if(1===i.pointers.length){var o=i.interactable;if(o&&(!o.options.gesture||!o.options.gesture.enabled))continue}else if(i.pointers.length>=2)continue;if(!i.interacting()&&e===i.pointerType)return i}return null}};function Ke(t,e){return t.pointers.some((function(t){return t.id===e}))}var $e=He,Je=[\"pointerDown\",\"pointerMove\",\"pointerUp\",\"updatePointer\",\"removePointer\",\"windowBlur\"];function Qe(t,e){return function(n){var r=e.interactions.list,i=dt(n),o=ht(n),a=o[0],s=o[1],c=[];if(/^touch/.test(n.type)){e.prevTouchTime=e.now();for(var l=0,u=n.changedTouches;l<u.length;l++){var p=u[l],f={pointer:p,pointerId:at(p),pointerType:i,eventType:n.type,eventTarget:a,curEventTarget:s,scope:e},d=Ze(f);c.push([f.pointer,f.eventTarget,f.curEventTarget,d])}}else{var h=!1;if(!I.supportsPointerEvent&&/mouse/.test(n.type)){for(var v=0;v<r.length&&!h;v++)h=\"mouse\"!==r[v].pointerType&&r[v].pointerIsDown;h=h||e.now()-e.prevTouchTime<500||0===n.timeStamp}if(!h){var g={pointer:n,pointerId:at(n),pointerType:i,eventType:n.type,curEventTarget:s,eventTarget:a,scope:e},m=Ze(g);c.push([g.pointer,g.eventTarget,g.curEventTarget,m])}}for(var y=0;y<c.length;y++){var b=c[y],x=b[0],w=b[1],E=b[2];b[3][t](x,n,w,E)}}}function Ze(t){var e=t.pointerType,n=t.scope,r={interaction:$e.search(t),searchDetails:t};return n.fire(\"interactions:find\",r),r.interaction||n.interactions.new({pointerType:e})}function tn(t,e){var n=t.doc,r=t.scope,i=t.options,o=r.interactions.docEvents,a=r.events,s=a[e];for(var c in r.browser.isIOS&&!i.events&&(i.events={passive:!1}),a.delegatedEvents)s(n,c,a.delegateListener),s(n,c,a.delegateUseCapture,!0);for(var l=i&&i.events,u=0;u<o.length;u++){var p=o[u];s(n,p.type,p.listener,l)}}var en={id:\"core/interactions\",install:function(t){for(var e={},n=0;n<Je.length;n++){var i=Je[n];e[i]=Qe(i,t)}var a,c=I.pEventTypes;function l(){for(var e=0,n=t.interactions.list;e<n.length;e++){var r=n[e];if(r.pointerIsDown&&\"touch\"===r.pointerType&&!r._interacting)for(var i=function(){var e=a[o];t.documents.some((function(t){return M(t.doc,e.downTarget)}))||r.removePointer(e.pointer,e.event)},o=0,a=r.pointers;o<a.length;o++)i()}}(a=k.PointerEvent?[{type:c.down,listener:l},{type:c.down,listener:e.pointerDown},{type:c.move,listener:e.pointerMove},{type:c.up,listener:e.pointerUp},{type:c.cancel,listener:e.pointerUp}]:[{type:\"mousedown\",listener:e.pointerDown},{type:\"mousemove\",listener:e.pointerMove},{type:\"mouseup\",listener:e.pointerUp},{type:\"touchstart\",listener:l},{type:\"touchstart\",listener:e.pointerDown},{type:\"touchmove\",listener:e.pointerMove},{type:\"touchend\",listener:e.pointerUp},{type:\"touchcancel\",listener:e.pointerUp}]).push({type:\"blur\",listener:function(e){for(var n=0,r=t.interactions.list;n<r.length;n++){r[n].documentBlur(e)}}}),t.prevTouchTime=0,t.Interaction=function(e){s(i,e);var n=p(i);function i(){return r(this,i),n.apply(this,arguments)}return o(i,[{key:\"pointerMoveTolerance\",get:function(){return t.interactions.pointerMoveTolerance},set:function(e){t.interactions.pointerMoveTolerance=e}},{key:\"_now\",value:function(){return t.now()}}]),i}(De),t.interactions={list:[],new:function(e){e.scopeFire=function(e,n){return t.fire(e,n)};var n=new t.Interaction(e);return t.interactions.list.push(n),n},listeners:e,docEvents:a,pointerMoveTolerance:1},t.usePlugin(he)},listeners:{\"scope:add-document\":function(t){return tn(t,\"add\")},\"scope:remove-document\":function(t){return tn(t,\"remove\")},\"interactable:unset\":function(t,e){for(var n=t.interactable,r=e.interactions.list.length-1;r>=0;r--){var i=e.interactions.list[r];i.interactable===n&&(i.stop(),e.fire(\"interactions:destroy\",{interaction:i}),i.destroy(),e.interactions.list.length>2&&e.interactions.list.splice(r,1))}}},onDocSignal:tn,doOnInteractions:Qe,methodNames:Je},nn=en,rn=function(t){return t[t.On=0]=\"On\",t[t.Off=1]=\"Off\",t}(rn||{}),on=function(){function t(e,n,i,o){r(this,t),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new Ve,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=n.actions,this.target=e,this._context=n.context||i,this._win=y(B(e)?this._context:e),this._doc=this._win.document,this._scopeEvents=o,this.set(n)}return o(t,[{key:\"_defaults\",get:function(){return{base:{},perAction:{},actions:{}}}},{key:\"setOnEvents\",value:function(t,e){return w.func(e.onstart)&&this.on(\"\".concat(t,\"start\"),e.onstart),w.func(e.onmove)&&this.on(\"\".concat(t,\"move\"),e.onmove),w.func(e.onend)&&this.on(\"\".concat(t,\"end\"),e.onend),w.func(e.oninertiastart)&&this.on(\"\".concat(t,\"inertiastart\"),e.oninertiastart),this}},{key:\"updatePerActionListeners\",value:function(t,e,n){var r,i=this,o=null==(r=this._actions.map[t])?void 0:r.filterEventType,a=function(t){return(null==o||o(t))&&ve(t,i._actions)};(w.array(e)||w.object(e))&&this._onOff(rn.Off,t,e,void 0,a),(w.array(n)||w.object(n))&&this._onOff(rn.On,t,n,void 0,a)}},{key:\"setPerAction\",value:function(t,e){var n=this._defaults;for(var r in e){var i=r,o=this.options[t],a=e[i];\"listeners\"===i&&this.updatePerActionListeners(t,o.listeners,a),w.array(a)?o[i]=mt(a):w.plainObject(a)?(o[i]=V(o[i]||{},ge(a)),w.object(n.perAction[i])&&\"enabled\"in n.perAction[i]&&(o[i].enabled=!1!==a.enabled)):w.bool(a)&&w.object(n.perAction[i])?o[i].enabled=a:o[i]=a}}},{key:\"getRect\",value:function(t){return t=t||(w.element(this.target)?this.target:null),w.string(this.target)&&(t=t||this._context.querySelector(this.target)),L(t)}},{key:\"rectChecker\",value:function(t){var e=this;return w.func(t)?(this.getRect=function(n){var r=V({},t.apply(e,n));return\"width\"in r||(r.width=r.right-r.left,r.height=r.bottom-r.top),r},this):null===t?(delete this.getRect,this):this.getRect}},{key:\"_backCompatOption\",value:function(t,e){if(B(e)||w.object(e)){for(var n in this.options[t]=e,this._actions.map)this.options[n][t]=e;return this}return this.options[t]}},{key:\"origin\",value:function(t){return this._backCompatOption(\"origin\",t)}},{key:\"deltaSource\",value:function(t){return\"page\"===t||\"client\"===t?(this.options.deltaSource=t,this):this.options.deltaSource}},{key:\"getAllElements\",value:function(){var t=this.target;return w.string(t)?Array.from(this._context.querySelectorAll(t)):w.func(t)&&t.getAllElements?t.getAllElements():w.element(t)?[t]:[]}},{key:\"context\",value:function(){return this._context}},{key:\"inContext\",value:function(t){return this._context===t.ownerDocument||M(this._context,t)}},{key:\"testIgnoreAllow\",value:function(t,e,n){return!this.testIgnore(t.ignoreFrom,e,n)&&this.testAllow(t.allowFrom,e,n)}},{key:\"testAllow\",value:function(t,e,n){return!t||!!w.element(n)&&(w.string(t)?F(n,t,e):!!w.element(t)&&M(t,n))}},{key:\"testIgnore\",value:function(t,e,n){return!(!t||!w.element(n))&&(w.string(t)?F(n,t,e):!!w.element(t)&&M(t,n))}},{key:\"fire\",value:function(t){return this.events.fire(t),this}},{key:\"_onOff\",value:function(t,e,n,r,i){w.object(e)&&!w.array(e)&&(r=n,n=null);var o=$(e,n,i);for(var a in o){\"wheel\"===a&&(a=I.wheelEvent);for(var s=0,c=o[a];s<c.length;s++){var l=c[s];ve(a,this._actions)?this.events[t===rn.On?\"on\":\"off\"](a,l):w.string(this.target)?this._scopeEvents[t===rn.On?\"addDelegate\":\"removeDelegate\"](this.target,this._context,a,l,r):this._scopeEvents[t===rn.On?\"add\":\"remove\"](this.target,a,l,r)}}return this}},{key:\"on\",value:function(t,e,n){return this._onOff(rn.On,t,e,n)}},{key:\"off\",value:function(t,e,n){return this._onOff(rn.Off,t,e,n)}},{key:\"set\",value:function(t){var e=this._defaults;for(var n in w.object(t)||(t={}),this.options=ge(e.base),this._actions.methodDict){var r=n,i=this._actions.methodDict[r];this.options[r]={},this.setPerAction(r,V(V({},e.perAction),e.actions[r])),this[i](t[r])}for(var o in t)\"getRect\"!==o?w.func(this[o])&&this[o](t[o]):this.rectChecker(t.getRect);return this}},{key:\"unset\",value:function(){if(w.string(this.target))for(var t in this._scopeEvents.delegatedEvents)for(var e=this._scopeEvents.delegatedEvents[t],n=e.length-1;n>=0;n--){var r=e[n],i=r.selector,o=r.context,a=r.listeners;i===this.target&&o===this._context&&e.splice(n,1);for(var s=a.length-1;s>=0;s--)this._scopeEvents.removeDelegate(this.target,this._context,t,a[s][0],a[s][1])}else this._scopeEvents.remove(this.target,\"all\")}}]),t}(),an=function(){function t(e){var n=this;r(this,t),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=e,e.addListeners({\"interactable:unset\":function(t){var e=t.interactable,r=e.target,i=w.string(r)?n.selectorMap[r]:r[n.scope.id],o=yt(i,(function(t){return t===e}));i.splice(o,1)}})}return o(t,[{key:\"new\",value:function(t,e){e=V(e||{},{actions:this.scope.actions});var n=new this.scope.Interactable(t,e,this.scope.document,this.scope.events);return this.scope.addDocument(n._doc),this.list.push(n),w.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(n)):(n.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(n)),this.scope.fire(\"interactable:new\",{target:t,options:e,interactable:n,win:this.scope._win}),n}},{key:\"getExisting\",value:function(t,e){var n=e&&e.context||this.scope.document,r=w.string(t),i=r?this.selectorMap[t]:t[this.scope.id];if(i)return bt(i,(function(e){return e._context===n&&(r||e.inContext(t))}))}},{key:\"forEachMatch\",value:function(t,e){for(var n=0,r=this.list;n<r.length;n++){var i=r[n],o=void 0;if((w.string(i.target)?w.element(t)&&R(t,i.target):t===i.target)&&i.inContext(t)&&(o=e(i)),void 0!==o)return o}}}]),t}();var sn=function(){function t(){var e=this;r(this,t),this.id=\"__interact_scope_\".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=I,this.defaults=ge(Te),this.Eventable=Ve,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(t){var e=function e(n,r){var i=t.interactables.getExisting(n,r);return i||((i=t.interactables.new(n,r)).events.global=e.globalEvents),i};return e.getPointerAverage=lt,e.getTouchBBox=ut,e.getTouchDistance=pt,e.getTouchAngle=ft,e.getElementRect=L,e.getElementClientRect=Y,e.matchesSelector=R,e.closest=z,e.globalEvents={},e.version=\"1.10.27\",e.scope=t,e.use=function(t,e){return this.scope.usePlugin(t,e),this},e.isSet=function(t,e){return!!this.scope.interactables.get(t,e&&e.context)},e.on=Nt((function(t,e,n){if(w.string(t)&&-1!==t.search(\" \")&&(t=t.trim().split(/ +/)),w.array(t)){for(var r=0,i=t;r<i.length;r++){var o=i[r];this.on(o,e,n)}return this}if(w.object(t)){for(var a in t)this.on(a,t[a],e);return this}return ve(t,this.scope.actions)?this.globalEvents[t]?this.globalEvents[t].push(e):this.globalEvents[t]=[e]:this.scope.events.add(this.scope.document,t,e,{options:n}),this}),\"The interact.on() method is being deprecated\"),e.off=Nt((function(t,e,n){if(w.string(t)&&-1!==t.search(\" \")&&(t=t.trim().split(/ +/)),w.array(t)){for(var r=0,i=t;r<i.length;r++){var o=i[r];this.off(o,e,n)}return this}if(w.object(t)){for(var a in t)this.off(a,t[a],e);return this}var s;return ve(t,this.scope.actions)?t in this.globalEvents&&-1!==(s=this.globalEvents[t].indexOf(e))&&this.globalEvents[t].splice(s,1):this.scope.events.remove(this.scope.document,t,e,n),this}),\"The interact.off() method is being deprecated\"),e.debug=function(){return this.scope},e.supportsTouch=function(){return I.supportsTouch},e.supportsPointerEvent=function(){return I.supportsPointerEvent},e.stop=function(){for(var t=0,e=this.scope.interactions.list;t<e.length;t++)e[t].stop();return this},e.pointerMoveTolerance=function(t){return w.number(t)?(this.scope.interactions.pointerMoveTolerance=t,this):this.scope.interactions.pointerMoveTolerance},e.addDocument=function(t,e){this.scope.addDocument(t,e)},e.removeDocument=function(t){this.scope.removeDocument(t)},e}(this),this.InteractEvent=Se,this.Interactable=void 0,this.interactables=new an(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(t){return e.removeDocument(t.target)};var n=this;this.Interactable=function(t){s(i,t);var e=p(i);function i(){return r(this,i),e.apply(this,arguments)}return o(i,[{key:\"_defaults\",get:function(){return n.defaults}},{key:\"set\",value:function(t){return f(c(i.prototype),\"set\",this).call(this,t),n.fire(\"interactable:set\",{options:t,interactable:this}),this}},{key:\"unset\",value:function(){f(c(i.prototype),\"unset\",this).call(this);var t=n.interactables.list.indexOf(this);t<0||(n.interactables.list.splice(t,1),n.fire(\"interactable:unset\",{interactable:this}))}}]),i}(on)}return o(t,[{key:\"addListeners\",value:function(t,e){this.listenerMaps.push({id:e,map:t})}},{key:\"fire\",value:function(t,e){for(var n=0,r=this.listenerMaps;n<r.length;n++){var i=r[n].map[t];if(i&&!1===i(e,this,t))return!1}}},{key:\"init\",value:function(t){return this.isInitialized?this:function(t,e){t.isInitialized=!0,w.window(e)&&m(e);return k.init(e),I.init(e),Lt.init(e),t.window=e,t.document=e.document,t.usePlugin(nn),t.usePlugin(Ue),t}(this,t)}},{key:\"pluginIsInstalled\",value:function(t){var e=t.id;return e?!!this._plugins.map[e]:-1!==this._plugins.list.indexOf(t)}},{key:\"usePlugin\",value:function(t,e){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,e),t.listeners&&t.before){for(var n=0,r=this.listenerMaps.length,i=t.before.reduce((function(t,e){return t[e]=!0,t[cn(e)]=!0,t}),{});n<r;n++){var o=this.listenerMaps[n].id;if(o&&(i[o]||i[cn(o)]))break}this.listenerMaps.splice(n,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:\"addDocument\",value:function(t,e){if(-1!==this.getDocIndex(t))return!1;var n=y(t);e=e?V({},e):{},this.documents.push({doc:t,options:e}),this.events.documents.push(t),t!==this.document&&this.events.add(n,\"unload\",this.onWindowUnload),this.fire(\"scope:add-document\",{doc:t,window:n,scope:this,options:e})}},{key:\"removeDocument\",value:function(t){var e=this.getDocIndex(t),n=y(t),r=this.documents[e].options;this.events.remove(n,\"unload\",this.onWindowUnload),this.documents.splice(e,1),this.events.documents.splice(e,1),this.fire(\"scope:remove-document\",{doc:t,window:n,scope:this,options:r})}},{key:\"getDocIndex\",value:function(t){for(var e=0;e<this.documents.length;e++)if(this.documents[e].doc===t)return e;return-1}},{key:\"getDocOptions\",value:function(t){var e=this.getDocIndex(t);return-1===e?null:this.documents[e].options}},{key:\"now\",value:function(){return(this.window.Date||Date).now()}}]),t}();function cn(t){return t&&t.replace(/\\/.*$/,\"\")}var ln=new sn,un=ln.interactStatic,pn=\"undefined\"!=typeof globalThis?globalThis:window;ln.init(pn);var fn=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(t){var e=[[\"x\",\"y\"],[\"left\",\"top\"],[\"right\",\"bottom\"],[\"width\",\"height\"]].filter((function(e){var n=e[0],r=e[1];return n in t||r in t})),n=function(n,r){for(var i=t.range,o=t.limits,a=void 0===o?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:o,s=t.offset,c=void 0===s?{x:0,y:0}:s,l={range:i,grid:t,x:null,y:null},u=0;u<e.length;u++){var p=e[u],f=p[0],d=p[1],h=Math.round((n-c.x)/t[f]),v=Math.round((r-c.y)/t[d]);l[f]=Math.max(a.left,Math.min(a.right,h*t[f]+c.x)),l[d]=Math.max(a.top,Math.min(a.bottom,v*t[d]+c.y))}return l};return n.grid=t,n.coordFields=e,n}}),dn={id:\"snappers\",install:function(t){var e=t.interactStatic;e.snappers=V(e.snappers||{},fn),e.createSnapGrid=e.snappers.grid}},hn=dn,vn={start:function(t){var n=t.state,r=t.rect,i=t.edges,o=t.pageCoords,a=n.options,s=a.ratio,c=a.enabled,l=n.options,u=l.equalDelta,p=l.modifiers;\"preserve\"===s&&(s=r.width/r.height),n.startCoords=V({},o),n.startRect=V({},r),n.ratio=s,n.equalDelta=u;var f=n.linkedEdges={top:i.top||i.left&&!i.bottom,left:i.left||i.top&&!i.right,bottom:i.bottom||i.right&&!i.top,right:i.right||i.bottom&&!i.left};if(n.xIsPrimaryAxis=!(!i.left&&!i.right),n.equalDelta){var d=(f.left?1:-1)*(f.top?1:-1);n.edgeSign={x:d,y:d}}else n.edgeSign={x:f.left?-1:1,y:f.top?-1:1};if(!1!==c&&V(i,f),null!=p&&p.length){var h=new me(t.interaction);h.copyFrom(t.interaction.modification),h.prepareStates(p),n.subModification=h,h.startAll(e({},t))}},set:function(t){var n=t.state,r=t.rect,i=t.coords,o=n.linkedEdges,a=V({},i),s=n.equalDelta?gn:mn;if(V(t.edges,o),s(n,n.xIsPrimaryAxis,i,r),!n.subModification)return null;var c=V({},r);H(o,c,{x:i.x-a.x,y:i.y-a.y});var l=n.subModification.setAll(e(e({},t),{},{rect:c,edges:o,pageCoords:i,prevCoords:i,prevRect:c})),u=l.delta;l.changed&&(s(n,Math.abs(u.x)>Math.abs(u.y),l.coords,l.rect),V(i,l.coords));return l.eventProps},defaults:{ratio:\"preserve\",equalDelta:!1,modifiers:[],enabled:!1}};function gn(t,e,n){var r=t.startCoords,i=t.edgeSign;e?n.y=r.y+(n.x-r.x)*i.y:n.x=r.x+(n.y-r.y)*i.x}function mn(t,e,n,r){var i=t.startRect,o=t.startCoords,a=t.ratio,s=t.edgeSign;if(e){var c=r.width/a;n.y=o.y+(c-i.height)*s.y}else{var l=r.height*a;n.x=o.x+(l-i.width)*s.x}}var yn=be(vn,\"aspectRatio\"),bn=function(){};bn._defaults={};var xn=bn;function wn(t,e,n){return w.func(t)?G(t,e.interactable,e.element,[n.x,n.y,e]):G(t,e.interactable,e.element)}var En={start:function(t){var e=t.rect,n=t.startOffset,r=t.state,i=t.interaction,o=t.pageCoords,a=r.options,s=a.elementRect,c=V({left:0,top:0,right:0,bottom:0},a.offset||{});if(e&&s){var l=wn(a.restriction,i,o);if(l){var u=l.right-l.left-e.width,p=l.bottom-l.top-e.height;u<0&&(c.left+=u,c.right+=u),p<0&&(c.top+=p,c.bottom+=p)}c.left+=n.left-e.width*s.left,c.top+=n.top-e.height*s.top,c.right+=n.right-e.width*(1-s.right),c.bottom+=n.bottom-e.height*(1-s.bottom)}r.offset=c},set:function(t){var e=t.coords,n=t.interaction,r=t.state,i=r.options,o=r.offset,a=wn(i.restriction,n,e);if(a){var s=function(t){return!t||\"left\"in t&&\"top\"in t||((t=V({},t)).left=t.x||0,t.top=t.y||0,t.right=t.right||t.left+t.width,t.bottom=t.bottom||t.top+t.height),t}(a);e.x=Math.max(Math.min(s.right-o.right,e.x),s.left+o.left),e.y=Math.max(Math.min(s.bottom-o.bottom,e.y),s.top+o.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},Tn=be(En,\"restrict\"),Sn={top:1/0,left:1/0,bottom:-1/0,right:-1/0},_n={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Pn(t,e){for(var n=0,r=[\"top\",\"left\",\"bottom\",\"right\"];n<r.length;n++){var i=r[n];i in t||(t[i]=e[i])}return t}var On={noInner:Sn,noOuter:_n,start:function(t){var e,n=t.interaction,r=t.startOffset,i=t.state,o=i.options;o&&(e=N(wn(o.offset,n,n.coords.start.page))),e=e||{x:0,y:0},i.offset={top:e.y+r.top,left:e.x+r.left,bottom:e.y-r.bottom,right:e.x-r.right}},set:function(t){var e=t.coords,n=t.edges,r=t.interaction,i=t.state,o=i.offset,a=i.options;if(n){var s=V({},e),c=wn(a.inner,r,s)||{},l=wn(a.outer,r,s)||{};Pn(c,Sn),Pn(l,_n),n.top?e.y=Math.min(Math.max(l.top+o.top,s.y),c.top+o.top):n.bottom&&(e.y=Math.max(Math.min(l.bottom+o.bottom,s.y),c.bottom+o.bottom)),n.left?e.x=Math.min(Math.max(l.left+o.left,s.x),c.left+o.left):n.right&&(e.x=Math.max(Math.min(l.right+o.right,s.x),c.right+o.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},kn=be(On,\"restrictEdges\"),Dn=V({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(t){}},En.defaults),In=be({start:En.start,set:En.set,defaults:Dn},\"restrictRect\"),Mn={width:-1/0,height:-1/0},zn={width:1/0,height:1/0};var An=be({start:function(t){return On.start(t)},set:function(t){var e=t.interaction,n=t.state,r=t.rect,i=t.edges,o=n.options;if(i){var a=U(wn(o.min,e,t.coords))||Mn,s=U(wn(o.max,e,t.coords))||zn;n.options={endOnly:o.endOnly,inner:V({},On.noInner),outer:V({},On.noOuter)},i.top?(n.options.inner.top=r.bottom-a.height,n.options.outer.top=r.bottom-s.height):i.bottom&&(n.options.inner.bottom=r.top+a.height,n.options.outer.bottom=r.top+s.height),i.left?(n.options.inner.left=r.right-a.width,n.options.outer.left=r.right-s.width):i.right&&(n.options.inner.right=r.left+a.width,n.options.outer.right=r.left+s.width),On.set(t),n.options=o}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},\"restrictSize\");var Rn={start:function(t){var e,n=t.interaction,r=t.interactable,i=t.element,o=t.rect,a=t.state,s=t.startOffset,c=a.options,l=c.offsetWithOrigin?function(t){var e=t.interaction.element,n=N(G(t.state.options.origin,null,null,[e])),r=n||K(t.interactable,e,t.interaction.prepared.name);return r}(t):{x:0,y:0};if(\"startCoords\"===c.offset)e={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var u=G(c.offset,r,i,[n]);(e=N(u)||{x:0,y:0}).x+=l.x,e.y+=l.y}var p=c.relativePoints;a.offsets=o&&p&&p.length?p.map((function(t,n){return{index:n,relativePoint:t,x:s.left-o.width*t.x+e.x,y:s.top-o.height*t.y+e.y}})):[{index:0,relativePoint:null,x:e.x,y:e.y}]},set:function(t){var e=t.interaction,n=t.coords,r=t.state,i=r.options,o=r.offsets,a=K(e.interactable,e.element,e.prepared.name),s=V({},n),c=[];i.offsetWithOrigin||(s.x-=a.x,s.y-=a.y);for(var l=0,u=o;l<u.length;l++)for(var p=u[l],f=s.x-p.x,d=s.y-p.y,h=0,v=i.targets.length;h<v;h++){var g=i.targets[h],m=void 0;(m=w.func(g)?g(f,d,e._proxy,p,h):g)&&c.push({x:(w.number(m.x)?m.x:f)+p.x,y:(w.number(m.y)?m.y:d)+p.y,range:w.number(m.range)?m.range:i.range,source:g,index:h,offset:p})}for(var y={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},b=0;b<c.length;b++){var x=c[b],E=x.range,T=x.x-s.x,S=x.y-s.y,_=Q(T,S),P=_<=E;E===1/0&&y.inRange&&y.range!==1/0&&(P=!1),y.target&&!(P?y.inRange&&E!==1/0?_/E<y.distance/y.range:E===1/0&&y.range!==1/0||_<y.distance:!y.inRange&&_<y.distance)||(y.target=x,y.distance=_,y.range=E,y.inRange=P,y.delta.x=T,y.delta.y=S)}return y.inRange&&(n.x=y.target.x,n.y=y.target.y),r.closest=y,y},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},Cn=be(Rn,\"snap\");var jn={start:function(t){var e=t.state,n=t.edges,r=e.options;if(!n)return null;t.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:r.offset||\"self\",origin:{x:0,y:0},range:r.range}},e.targetFields=e.targetFields||[[\"width\",\"height\"],[\"x\",\"y\"]],Rn.start(t),e.offsets=t.state.offsets,t.state=e},set:function(t){var e=t.interaction,n=t.state,r=t.coords,i=n.options,o=n.offsets,a={x:r.x-o[0].x,y:r.y-o[0].y};n.options=V({},i),n.options.targets=[];for(var s=0,c=i.targets||[];s<c.length;s++){var l=c[s],u=void 0;if(u=w.func(l)?l(a.x,a.y,e):l){for(var p=0,f=n.targetFields;p<f.length;p++){var d=f[p],h=d[0],v=d[1];if(h in u||v in u){u.x=u[h],u.y=u[v];break}}n.options.targets.push(u)}}var g=Rn.set(t);return n.options=i,g},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},Fn=be(jn,\"snapSize\");var Xn={aspectRatio:yn,restrictEdges:kn,restrict:Tn,restrictRect:In,restrictSize:An,snapEdges:be({start:function(t){var e=t.edges;return e?(t.state.targetFields=t.state.targetFields||[[e.left?\"left\":\"right\",e.top?\"top\":\"bottom\"]],jn.start(t)):null},set:jn.set,defaults:V(ge(jn.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},\"snapEdges\"),snap:Cn,snapSize:Fn,spring:xn,avoid:xn,transform:xn,rubberband:xn},Yn={id:\"modifiers\",install:function(t){var e=t.interactStatic;for(var n in t.usePlugin(Ee),t.usePlugin(hn),e.modifiers=Xn,Xn){var r=Xn[n],i=r._defaults,o=r._methods;i._methods=o,t.defaults.perAction[n]=i}}},Ln=Yn,qn=function(t){s(n,t);var e=p(n);function n(t,i,o,a,s,c){var l;if(r(this,n),tt(u(l=e.call(this,s)),o),o!==i&&tt(u(l),i),l.timeStamp=c,l.originalEvent=o,l.type=t,l.pointerId=at(i),l.pointerType=dt(i),l.target=a,l.currentTarget=null,\"tap\"===t){var p=s.getPointerIndex(i);l.dt=l.timeStamp-s.pointers[p].downTime;var f=l.timeStamp-s.tapTime;l.double=!!s.prevTap&&\"doubletap\"!==s.prevTap.type&&s.prevTap.target===l.target&&f<500}else\"doubletap\"===t&&(l.dt=i.timeStamp-s.tapTime,l.double=!0);return l}return o(n,[{key:\"_subtractOrigin\",value:function(t){var e=t.x,n=t.y;return this.pageX-=e,this.pageY-=n,this.clientX-=e,this.clientY-=n,this}},{key:\"_addOrigin\",value:function(t){var e=t.x,n=t.y;return this.pageX+=e,this.pageY+=n,this.clientX+=e,this.clientY+=n,this}},{key:\"preventDefault\",value:function(){this.originalEvent.preventDefault()}}]),n}(vt),Bn={id:\"pointer-events/base\",before:[\"inertia\",\"modifiers\",\"auto-start\",\"actions\"],install:function(t){t.pointerEvents=Bn,t.defaults.actions.pointerEvents=Bn.defaults,V(t.actions.phaselessTypes,Bn.types)},listeners:{\"interactions:new\":function(t){var e=t.interaction;e.prevTap=null,e.tapTime=0},\"interactions:update-pointer\":function(t){var e=t.down,n=t.pointerInfo;if(!e&&n.hold)return;n.hold={duration:1/0,timeout:null}},\"interactions:move\":function(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget;t.duplicate||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&Gn(t),Vn({interaction:n,pointer:r,event:i,eventTarget:o,type:\"move\"},e))},\"interactions:down\":function(t,e){!function(t,e){for(var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget,a=t.pointerIndex,s=n.pointers[a].hold,c=q(o),l={interaction:n,pointer:r,event:i,eventTarget:o,type:\"hold\",targets:[],path:c,node:null},u=0;u<c.length;u++){var p=c[u];l.node=p,e.fire(\"pointerEvents:collect-targets\",l)}if(!l.targets.length)return;for(var f=1/0,d=0,h=l.targets;d<h.length;d++){var v=h[d].eventable.options.holdDuration;v<f&&(f=v)}s.duration=f,s.timeout=setTimeout((function(){Vn({interaction:n,eventTarget:o,pointer:r,event:i,type:\"hold\"},e)}),f)}(t,e),Vn(t,e)},\"interactions:up\":function(t,e){Gn(t),Vn(t,e),function(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget;n.pointerWasMoved||Vn({interaction:n,eventTarget:o,pointer:r,event:i,type:\"tap\"},e)}(t,e)},\"interactions:cancel\":function(t,e){Gn(t),Vn(t,e)}},PointerEvent:qn,fire:Vn,collectEventTargets:Wn,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Vn(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget,a=t.type,s=t.targets,c=void 0===s?Wn(t,e):s,l=new qn(a,r,i,o,n,e.now());e.fire(\"pointerEvents:new\",{pointerEvent:l});for(var u={interaction:n,pointer:r,event:i,eventTarget:o,targets:c,type:a,pointerEvent:l},p=0;p<c.length;p++){var f=c[p];for(var d in f.props||{})l[d]=f.props[d];var h=K(f.eventable,f.node);if(l._subtractOrigin(h),l.eventable=f.eventable,l.currentTarget=f.node,f.eventable.fire(l),l._addOrigin(h),l.immediatePropagationStopped||l.propagationStopped&&p+1<c.length&&c[p+1].node!==l.currentTarget)break}if(e.fire(\"pointerEvents:fired\",u),\"tap\"===a){var v=l.double?Vn({interaction:n,pointer:r,event:i,eventTarget:o,type:\"doubletap\"},e):l;n.prevTap=v,n.tapTime=v.timeStamp}return l}function Wn(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget,a=t.type,s=n.getPointerIndex(r),c=n.pointers[s];if(\"tap\"===a&&(n.pointerWasMoved||!c||c.downTarget!==o))return[];for(var l=q(o),u={interaction:n,pointer:r,event:i,eventTarget:o,type:a,path:l,targets:[],node:null},p=0;p<l.length;p++){var f=l[p];u.node=f,e.fire(\"pointerEvents:collect-targets\",u)}return\"hold\"===a&&(u.targets=u.targets.filter((function(t){var e,r;return t.eventable.options.holdDuration===(null==(e=n.pointers[s])||null==(r=e.hold)?void 0:r.duration)}))),u.targets}function Gn(t){var e=t.interaction,n=t.pointerIndex,r=e.pointers[n].hold;r&&r.timeout&&(clearTimeout(r.timeout),r.timeout=null)}var Nn=Object.freeze({__proto__:null,default:Bn});function Un(t){var e=t.interaction;e.holdIntervalHandle&&(clearInterval(e.holdIntervalHandle),e.holdIntervalHandle=null)}var Hn={id:\"pointer-events/holdRepeat\",install:function(t){t.usePlugin(Bn);var e=t.pointerEvents;e.defaults.holdRepeatInterval=0,e.types.holdrepeat=t.actions.phaselessTypes.holdrepeat=!0},listeners:[\"move\",\"up\",\"cancel\",\"endall\"].reduce((function(t,e){return t[\"pointerEvents:\".concat(e)]=Un,t}),{\"pointerEvents:new\":function(t){var e=t.pointerEvent;\"hold\"===e.type&&(e.count=(e.count||0)+1)},\"pointerEvents:fired\":function(t,e){var n=t.interaction,r=t.pointerEvent,i=t.eventTarget,o=t.targets;if(\"hold\"===r.type&&o.length){var a=o[0].eventable.options.holdRepeatInterval;a<=0||(n.holdIntervalHandle=setTimeout((function(){e.pointerEvents.fire({interaction:n,eventTarget:i,type:\"hold\",pointer:r,event:r},e)}),a))}}})},Kn=Hn;var $n={id:\"pointer-events/interactableTargets\",install:function(t){var e=t.Interactable;e.prototype.pointerEvents=function(t){return V(this.events.options,t),this};var n=e.prototype._backCompatOption;e.prototype._backCompatOption=function(t,e){var r=n.call(this,t,e);return r===this&&(this.events.options[t]=e),r}},listeners:{\"pointerEvents:collect-targets\":function(t,e){var n=t.targets,r=t.node,i=t.type,o=t.eventTarget;e.interactables.forEachMatch(r,(function(t){var e=t.events,a=e.options;e.types[i]&&e.types[i].length&&t.testIgnoreAllow(a,r,o)&&n.push({node:r,eventable:e,props:{interactable:t}})}))},\"interactable:new\":function(t){var e=t.interactable;e.events.getRect=function(t){return e.getRect(t)}},\"interactable:set\":function(t,e){var n=t.interactable,r=t.options;V(n.events.options,e.pointerEvents.defaults),V(n.events.options,r.pointerEvents||{})}}},Jn=$n,Qn={id:\"pointer-events\",install:function(t){t.usePlugin(Nn),t.usePlugin(Kn),t.usePlugin(Jn)}},Zn=Qn;var tr={id:\"reflow\",install:function(t){var e=t.Interactable;t.actions.phases.reflow=!0,e.prototype.reflow=function(e){return function(t,e,n){for(var r=t.getAllElements(),i=n.window.Promise,o=i?[]:null,a=function(){var a=r[s],c=t.getRect(a);if(!c)return 1;var l,u=bt(n.interactions.list,(function(n){return n.interacting()&&n.interactable===t&&n.element===a&&n.prepared.name===e.name}));if(u)u.move(),o&&(l=u._reflowPromise||new i((function(t){u._reflowResolve=t})));else{var p=U(c),f=function(t){return{coords:t,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:p.x,y:p.y},client:{x:p.x,y:p.y},timeStamp:n.now()});l=function(t,e,n,r,i){var o=t.interactions.new({pointerType:\"reflow\"}),a={interaction:o,event:i,pointer:i,eventTarget:n,phase:\"reflow\"};o.interactable=e,o.element=n,o.prevEvent=i,o.updatePointer(i,i,n,!0),nt(o.coords.delta),Ut(o.prepared,r),o._doPhase(a);var s=t.window,c=s.Promise,l=c?new c((function(t){o._reflowResolve=t})):void 0;o._reflowPromise=l,o.start(r,e,n),o._interacting?(o.move(a),o.end(i)):(o.stop(),o._reflowResolve());return o.removePointer(i,i),l}(n,t,a,e,f)}o&&o.push(l)},s=0;s<r.length&&!a();s++);return o&&i.all(o).then((function(){return t}))}(this,e,t)}},listeners:{\"interactions:stop\":function(t,e){var n=t.interaction;\"reflow\"===n.pointerType&&(n._reflowResolve&&n._reflowResolve(),function(t,e){t.splice(t.indexOf(e),1)}(e.interactions.list,n))}}},er=tr;if(un.use(he),un.use(Ce),un.use(Zn),un.use(qe),un.use(Ln),un.use(pe),un.use(Xt),un.use(Gt),un.use(er),un.default=un,\"object\"===(\"undefined\"==typeof module?\"undefined\":n(module))&&module)try{module.exports=un}catch(t){}return un.default=un,un}));\n//# sourceMappingURL=interact.min.js.map\n","!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs_plugin_utc=i()}(this,(function(){\"use strict\";var t=\"minute\",i=/[+-]\\d\\d(?::?\\d\\d)?/g,e=/([+-]|\\d\\d)/g;return function(s,f,n){var u=f.prototype;n.utc=function(t){var i={date:t,utc:!0,args:arguments};return new f(i)},u.utc=function(i){var e=n(this.toDate(),{locale:this.$L,utc:!0});return i?e.add(this.utcOffset(),t):e},u.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var r=u.parse;u.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),r.call(this,t)};var o=u.init;u.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else o.call(this)};var a=u.utcOffset;u.utcOffset=function(s,f){var n=this.$utils().u;if(n(s))return this.$u?0:n(this.$offset)?a.call(this):this.$offset;if(\"string\"==typeof s&&(s=function(t){void 0===t&&(t=\"\");var s=t.match(i);if(!s)return null;var f=(\"\"+s[0]).match(e)||[\"-\",0,0],n=f[0],u=60*+f[1]+ +f[2];return 0===u?0:\"+\"===n?u:-u}(s),null===s))return this;var u=Math.abs(s)<=16?60*s:s;if(0===u)return this.utc(f);var r=this.clone();if(f)return r.$offset=u,r.$u=!1,r;var o=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(r=this.local().add(u+o,t)).$offset=u,r.$x.$localOffset=o,r};var h=u.format;u.format=function(t){var i=t||(this.$u?\"YYYY-MM-DDTHH:mm:ss[Z]\":\"\");return h.call(this,i)},u.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var l=u.toDate;u.toDate=function(t){return\"s\"===t&&this.$offset?n(this.format(\"YYYY-MM-DD HH:mm:ss:SSS\")).toDate():l.call(this)};var c=u.diff;u.diff=function(t,i,e){if(t&&this.$u===t.$u)return c.call(this,t,i,e);var s=this.local(),f=n(t).local();return c.call(s,f,i,e)}}}));","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","import isEqual from 'lodash/isEqual'\n\n// so we could use both immutable.js objects and regular objects\n\ntype GetObject = {\n  get?: (key: string) => any\n  [key: string]: any\n}\n\nexport function _get(object: GetObject, key: string) {\n  return typeof object.get === 'function' ? object.get(key) : object[key]\n}\n\ninterface CountObject {\n  count?(): number;\n  length?: number;\n}\nexport function _length(object: CountObject) {\n  return typeof object.count === 'function' ? object.count() : object.length\n}\n\nexport function arraysEqual<T>(array1: T[], array2: T[]): boolean {\n  return (\n    _length(array1) === _length(array2) &&\n    array1.every((element, index) => {\n      return element === _get(array2, index.toString());\n    })\n  );\n}\n\nexport function deepObjectCompare(obj1: any, obj2: any): boolean {\n  return isEqual(obj1, obj2);\n}\n\nexport function keyBy<T>(value: T[], key: keyof T): Record<string, T> {\n  const obj: Record<string, T> = {};\n\n  value.forEach((element) => {\n    obj[element[key] as string] = element;\n  });\n\n  return obj;\n}\n\nexport function noop() {}\n","import { SyntheticEvent } from 'react'\n\ntype Fn<T> = (event: T, ...args: any) => void\nexport function composeEvents<T extends SyntheticEvent<any>>(...fns: (Fn<T> | undefined)[]) {\n    return (event: T, ...args: any ) => {\n        event.preventDefault()\n        fns.forEach(fn => fn && fn(event, ...args))\n    }\n}\n","\n\nimport { ItemRendererProps} from './Item'\nimport {  TimelineItemBase } from '../types/main'\n\n\nexport function defaultItemRenderer<CustomItem extends TimelineItemBase<number>>({ item, itemContext, getItemProps, getResizeProps }:  ItemRendererProps<CustomItem>) {\n  const { left: leftResizeProps, right: rightResizeProps } = getResizeProps()\n  const {key,ref,  ...rest} =getItemProps(item.itemProps??{})\n  const {useResizeHandle} = itemContext\n\n  return (\n    <div {...rest} ref={ref}  key={`${key}-outer`} >\n      {useResizeHandle ? <div  {...leftResizeProps} key={`${key}-lr`}  /> : null}\n\n      <div className=\"rct-item-content\" style={{ maxHeight: `${itemContext.dimensions.height}` }}  key={`${key}-content`}>\n        {itemContext.title}\n      </div>\n\n      {useResizeHandle ? <div {...rightResizeProps}  key={`${key}-rr`}/> : null}\n    </div>\n  )\n}\n","/* eslint-disable no-var */\nimport dayjs, { Dayjs } from 'dayjs'\nimport { _get } from './generic'\nimport { Dimension, ItemDimension } from '../types/dimension'\nimport {\n  GroupedItem,\n  GroupOrders,\n  GroupStack,\n  Id,\n  TimelineGroupBase,\n  TimelineItemBase,\n  TimelineKeys,\n  TimelineTimeSteps,\n} from '../types/main'\nimport { ReactCalendarTimelineProps, ReactCalendarTimelineState } from '../Timeline'\n\n/**\n * Calculate the ms / pixel ratio of the timeline state\n * @param {number} canvasTimeStart\n * @param {number} canvasTimeEnd\n * @param {number} canvasWidth\n * @returns {number}\n */\nexport function coordinateToTimeRatio(canvasTimeStart: number, canvasTimeEnd: number, canvasWidth: number): number {\n  return (canvasTimeEnd - canvasTimeStart) / canvasWidth\n}\n\n/**\n * For a given time, calculate the pixel position given timeline state\n * (timeline width in px, canvas time range)\n * @param {number} canvasTimeStart\n * @param {number} canvasTimeEnd\n * @param {number} canvasWidth\n * @param {number} time\n * @returns {number}\n */\nexport function calculateXPositionForTime(\n  canvasTimeStart: number,\n  canvasTimeEnd: number,\n  canvasWidth: number,\n  time: number,\n): number {\n  const widthToZoomRatio = canvasWidth / (canvasTimeEnd - canvasTimeStart)\n  const timeOffset = time - canvasTimeStart\n\n  return timeOffset * widthToZoomRatio\n}\n\n/**\n * For a given x position (leftOffset) in pixels, calculate time based on\n * timeline state (timeline width in px, canvas time range)\n * @param {number} canvasTimeStart\n * @param {number} canvasTimeEnd\n * @param {number} canvasWidth\n * @param {number} leftOffset\n * @returns {number}\n */\nexport function calculateTimeForXPosition(\n  canvasTimeStart: number,\n  canvasTimeEnd: number,\n  canvasWidth: number,\n  leftOffset: number,\n): number {\n  const timeToPxRatio = (canvasTimeEnd - canvasTimeStart) / canvasWidth\n\n  const timeFromCanvasTimeStart = timeToPxRatio * leftOffset\n\n  return timeFromCanvasTimeStart + canvasTimeStart\n}\n\nexport function iterateTimes(\n  start: number,\n  end: number,\n  unit: keyof TimelineTimeSteps,\n  timeSteps: TimelineTimeSteps,\n  callback: (time: Dayjs, nextTime: Dayjs) => void,\n) {\n  let time = dayjs(start).startOf(unit)\n\n  if (timeSteps[unit] && timeSteps[unit] > 1) {\n    const value = time.get(unit)\n    time = time.set(unit, value - (value % timeSteps[unit]))\n  }\n\n  while (time.valueOf() < end) {\n    let nextTime = dayjs(time)\n      .add(timeSteps[unit] || 1, unit)\n      .startOf(unit)\n\n    if (nextTime.valueOf() <= time.valueOf()) {\n      nextTime = nextTime.add(timeSteps[unit] || 1, unit)\n    }\n\n    callback(time, nextTime)\n    time = nextTime\n  }\n}\n\n// this function is VERY HOT as its used in Timeline.js render function\n// TODO: check if there are performance implications here\n// when \"weeks\" feature is implemented, this function will be modified heavily\n\n/** determine the current rendered time unit based on timeline time span\n *\n * zoom: (in milliseconds) difference between time start and time end of timeline canvas\n * width: (in pixels) pixel width of timeline canvas\n * timeSteps: map of timeDividers with number to indicate step of each divider\n */\n\n// the smallest cell we want to render is 17px\n// this can be manipulated to make the breakpoints change more/less\n// i.e. on zoom how often do we switch to the next unit of time\n// i think this is the distance between cell lines\nexport const minCellWidth = 17\n\nexport function getMinUnit(zoom: number, width: number, timeSteps: TimelineTimeSteps) {\n  // for supporting weeks, its important to remember that each of these\n  // units has a natural progression to the other. i.e. a year is 12 months\n  // a month is 24 days, a day is 24 hours.\n  // with weeks this isnt the case so weeks needs to be handled specially\n  const timeDividers: Record<keyof TimelineTimeSteps, number> = {\n    second: 1000,\n    minute: 60,\n    hour: 60,\n    day: 24,\n    month: 30,\n    year: 12,\n  }\n\n  let minUnit: keyof TimelineTimeSteps = 'year'\n\n  // this timespan is in ms initially\n  let nextTimeSpanInUnitContext = zoom\n\n  Object.keys(timeDividers).some((unit) => {\n    const unitKey = unit as keyof TimelineTimeSteps\n    // converts previous time span to current unit\n    // (e.g. milliseconds to seconds, seconds to minutes, etc)\n    nextTimeSpanInUnitContext = nextTimeSpanInUnitContext / timeDividers[unitKey]\n\n    // timeSteps is \"\n    // With what step to display different units. E.g. 15 for minute means only minutes 0, 15, 30 and 45 will be shown.\"\n    // how many cells would be rendered given this time span, for this unit?\n    // e.g. for time span of 60 minutes, and time step of 1, we would render 60 cells\n    const cellsToBeRenderedForCurrentUnit = nextTimeSpanInUnitContext / timeSteps[unitKey]\n\n    // what is happening here? why 3 if time steps are greater than 1??\n    const cellWidthToUse = timeSteps[unitKey] && timeSteps[unitKey] > 1 ? 3 * minCellWidth : minCellWidth\n\n    // for the minWidth of a cell, how many cells would be rendered given\n    // the current pixel width\n    // i.e. f\n    const minimumCellsToRenderUnit = width / cellWidthToUse\n\n    if (cellsToBeRenderedForCurrentUnit < minimumCellsToRenderUnit) {\n      // for the current zoom, the number of cells we'd need to render all parts of this unit\n      // is less than the minimum number of cells needed at minimum cell width\n      minUnit = unit as keyof TimelineTimeSteps\n      return true\n    }\n  })\n\n  return minUnit\n}\n\nexport type SelectUnits = 'second' | 'minute' | 'hour' | 'day' | 'month' | 'year'\nexport type SelectUnitsRes = Exclude<SelectUnits, 'second'>\n\nexport const NEXT_UNITS: Record<SelectUnits, SelectUnitsRes> = {\n  second: 'minute',\n  minute: 'hour',\n  hour: 'day',\n  day: 'month',\n  month: 'year',\n  year: 'year',\n}\n\nexport function getNextUnit(unit: SelectUnits): SelectUnitsRes {\n  if (!NEXT_UNITS[unit]) {\n    throw new Error(`unit ${unit} is not acceptable`)\n  }\n  return NEXT_UNITS[unit]\n}\n\n/**\n * get the new start and new end time of item that is being\n * dragged or resized\n * @param {*} itemTimeStart original item time in milliseconds\n * @param {*} itemTimeEnd original item time in milliseconds\n * @param {*} dragTime new start time if item is dragged in milliseconds\n * @param {*} isDragging is item being dragged\n * @param {*} isResizing is item being resized\n * @param {`right` or `left`} resizingEdge resize edge\n * @param {*} resizeTime new resize time in milliseconds\n */\nexport function calculateInteractionNewTimes({\n  itemTimeStart,\n  itemTimeEnd,\n  dragTime,\n  isDragging,\n  isResizing,\n  resizingEdge,\n  resizeTime,\n}: {\n  itemTimeStart: number\n  itemTimeEnd: number\n  dragTime: number | null\n  isDragging: boolean\n  isResizing: boolean\n  resizingEdge: 'left' | 'right' | null\n  resizeTime: number | null\n}): [number, number] {\n  const originalItemRange = itemTimeEnd - itemTimeStart\n  const itemStart = isResizing && resizingEdge === 'left' && resizeTime ? resizeTime : itemTimeStart\n  const itemEnd = isResizing && resizingEdge === 'right' && resizeTime ? resizeTime : itemTimeEnd\n  return [\n    isDragging && dragTime ? dragTime : itemStart,\n    isDragging && dragTime ? dragTime + originalItemRange : itemEnd,\n  ]\n}\n\nexport function calculateDimensions({\n  itemTimeStart,\n  itemTimeEnd,\n  canvasTimeStart,\n  canvasTimeEnd,\n  canvasWidth,\n}: {\n  itemTimeStart: number\n  itemTimeEnd: number\n  canvasTimeStart: number\n  canvasTimeEnd: number\n  canvasWidth: number\n}): Partial<Dimension> {\n  const itemTimeRange = itemTimeEnd - itemTimeStart\n\n  // restrict startTime and endTime to be bounded by canvasTimeStart and canvasTimeEnd\n  const effectiveStartTime = Math.max(itemTimeStart, canvasTimeStart)\n  const effectiveEndTime = Math.min(itemTimeEnd, canvasTimeEnd)\n\n  const left = calculateXPositionForTime(canvasTimeStart, canvasTimeEnd, canvasWidth, effectiveStartTime)\n  const right = calculateXPositionForTime(canvasTimeStart, canvasTimeEnd, canvasWidth, effectiveEndTime)\n  const itemWidth = right - left\n\n  return {\n    left: left,\n    width: Math.max(itemWidth, 3),\n    collisionLeft: itemTimeStart,\n    collisionWidth: itemTimeRange,\n  }\n}\n\n/**\n * Get the order of groups based on their keys\n * @param {*} groups array of groups\n * @param {*} keys the keys object\n * @returns Ordered hash of objects with their array index and group\n */\nexport function getGroupOrders(groups: TimelineGroupBase[], keys: TimelineKeys) {\n  const { groupIdKey } = keys\n\n  const groupOrders: GroupOrders = {}\n\n  for (let i = 0; i < groups.length; i++) {\n    groupOrders[_get(groups[i], groupIdKey) as string] = {\n      index: i,\n      group: groups[i],\n    }\n  }\n\n  return groupOrders\n}\n\n/**\n * Adds items relevant to each group to the result of getGroupOrders\n * @param {*} items list of all items\n * @param {*} groupOrders the result of getGroupOrders\n */\nexport function getGroupedItems(items: ItemDimension[], groupOrders: GroupOrders) {\n  const groupedItems: Record<number, GroupedItem> = {}\n  const keys = Object.keys(groupOrders)\n  // Initialize with result object for each group\n  for (let i = 0; i < keys.length; i++) {\n    const groupOrder = groupOrders[keys[i]]\n    groupedItems[i] = {\n      index: groupOrder.index,\n      group: groupOrder.group,\n      items: [],\n    }\n  }\n\n  // Populate groups\n  for (let i = 0; i < items.length; i++) {\n    if (items[i].dimensions !== undefined && items[i].dimensions?.order !== undefined) {\n      const groupItem = groupedItems[items[i].dimensions?.order.index ?? 0]\n      if (groupItem) {\n        groupItem.items.push(items[i])\n      }\n    }\n  }\n\n  return groupedItems\n}\n\nexport function getVisibleItems<\n  CustomItem extends TimelineItemBase<any> = TimelineItemBase<number>,\n  // CustomGroup extends TimelineGroupBase = TimelineGroupBase,\n>(items: CustomItem[], canvasTimeStart: number, canvasTimeEnd: number, keys: TimelineKeys) {\n  const { itemTimeStartKey, itemTimeEndKey } = keys\n\n  return items.filter((item) => {\n    const afterStart = dayjs(_get(item, itemTimeStartKey)).valueOf() <= canvasTimeEnd\n    const beforeEnd = dayjs(_get(item, itemTimeEndKey)).valueOf() >= canvasTimeStart\n\n    return afterStart && beforeEnd\n  })\n}\n\nconst EPSILON = 0.001\n\nexport function collision(a: Dimension, b: Dimension, verticalMargin : number, collisionPadding: number = EPSILON) {\n  // 2d collisions detection - https://developer.mozilla.org/en-US/docs/Games/Techniques/2D_collision_detection\n\n  return (\n    a.collisionLeft + collisionPadding < b.collisionLeft + b.collisionWidth &&\n    a.collisionLeft + a.collisionWidth - collisionPadding > b.collisionLeft &&\n    a.top! - verticalMargin + collisionPadding < b.top! + b.height &&\n    a.top! + a.height + verticalMargin - collisionPadding > b.top!\n  )\n}\n\n/**\n * Calculate the position of a given item for a group that\n * is being stacked\n */\nexport function groupStack(\n  lineHeight: number,\n  item: ItemDimension,\n  group: ItemDimension[],\n  groupHeight: number,\n  groupTop: number,\n  itemIndex: number,\n  itemVerticalGap: number | undefined,\n): GroupStack {\n  // calculate non-overlapping positions\n  let curHeight = groupHeight\n  const verticalMargin = itemVerticalGap ?? (lineHeight - item.dimensions.height) / 2\n  if (item.dimensions.stack && item.dimensions.top === null) {\n    item.dimensions.top = groupTop + verticalMargin\n    curHeight = Math.max(curHeight, lineHeight, item.dimensions.height + verticalMargin * 2)\n    do {\n      // converting it to a const create an infinite loop (why?)\n      // noinspection ES6ConvertVarToLetConst\n      var collidingItem: null | ItemDimension = null\n      //Items are placed from i=0 onwards, only check items with index < i\n      for (let j = itemIndex - 1, jj = 0; j >= jj; j--) {\n        const other = group[j]\n        if (other.dimensions.top !== null && other.dimensions.stack && collision(item.dimensions, other.dimensions, verticalMargin)) {\n          collidingItem = other\n          break\n        } else {\n          // console.log('dont test', other.top !== null, other !== item, other.stack);\n        }\n      }\n\n      if (collidingItem != null) {\n        // There is a collision. Reposition the items above the colliding element\n        item.dimensions.top =\n          collidingItem.dimensions.top! +\n          collidingItem.dimensions.height +\n          /* backward compatibility where gap between items is 2 */\n          verticalMargin * (itemVerticalGap !== undefined ? 1 : 2)\n        curHeight = Math.max(curHeight, item.dimensions.top + item.dimensions.height + verticalMargin - groupTop)\n      }\n    } while (collidingItem)\n  }\n  return {\n    groupHeight: curHeight,\n    verticalMargin,\n    itemTop: item.dimensions.top!,\n  }\n}\n\n// Calculate the position of this item for a group that is not being stacked\nexport function groupNoStack(\n  lineHeight: number,\n  item: ItemDimension,\n  groupHeight: number,\n  groupTop: number,\n  itemVerticalGap: number | undefined,\n): GroupStack {\n  const verticalMargin = itemVerticalGap ?? (lineHeight - (item.dimensions?.height ?? 1)) / 2\n  if (item.dimensions && item.dimensions.top === null) {\n    item.dimensions.top = groupTop + verticalMargin\n    groupHeight = Math.max(groupHeight, lineHeight, item.dimensions.height + verticalMargin);\n  }\n  return { groupHeight, verticalMargin: 0, itemTop: item.dimensions?.top ?? 0 }\n}\n\nfunction sum(arr: number[] = []) {\n  return arr.reduce((acc, i) => acc + i, 0)\n}\n\n/**\n * Stack all groups\n * @param itemsDimensions\n * @param {*} groupOrders the groupOrders object\n * @param {*} lineHeight\n * @param {*} stackItems should items be stacked?\n */\nexport function stackAll(\n  itemsDimensions: ItemDimension[],\n  groupOrders: GroupOrders,\n  lineHeight: number,\n  stackItems: boolean,\n  itemVerticalGap: number | undefined,\n) {\n  const groupHeights: number[] = []\n  const groupTops: number[] = []\n\n  const groupedItems = getGroupedItems(itemsDimensions, groupOrders)\n\n  for (const index in groupedItems) {\n    const groupItems = groupedItems[index]\n    const { items: itemsDimensions, group } = groupItems\n    const groupTop = sum(groupHeights)\n\n    // Is group being stacked?\n    const isGroupStacked = group.stackItems !== undefined ? group.stackItems : stackItems\n    const { groupHeight } = stackGroup(itemsDimensions, isGroupStacked, lineHeight, groupTop, itemVerticalGap)\n    // If group height is overridden, push new height\n    // Do this late as item position still needs to be calculated\n    groupTops.push(groupTop)\n    if (group.height) {\n      groupHeights.push(group.height)\n    } else {\n      groupHeights.push(Math.max(groupHeight, lineHeight))\n    }\n  }\n\n  return {\n    height: sum(groupHeights),\n    groupHeights,\n    groupTops,\n  }\n}\n\n/**\n *\n * @param {*} itemsDimensions\n * @param {*} isGroupStacked\n * @param {*} lineHeight\n * @param {*} groupTop\n */\nexport function stackGroup(\n  itemsDimensions: ItemDimension[],\n  isGroupStacked: boolean,\n  lineHeight: number,\n  groupTop: number,\n  itemVerticalGap: number | undefined,\n) {\n  let groupHeight = 0\n  let verticalMargin = 0\n  // Find positions for each item in group\n  for (let itemIndex = 0; itemIndex < itemsDimensions.length; itemIndex++) {\n    const r = isGroupStacked\n      ? groupStack(lineHeight, itemsDimensions[itemIndex], itemsDimensions, groupHeight, groupTop, itemIndex, itemVerticalGap)\n      : groupNoStack(lineHeight, itemsDimensions[itemIndex], groupHeight, groupTop, itemVerticalGap)\n\n    groupHeight = r.groupHeight\n    verticalMargin = r.verticalMargin\n  }\n  return { groupHeight, verticalMargin }\n}\n\n/**\n * Stack the items that will be visible\n * within the canvas area\n * @param {item[]} items\n * @param {group[]} groups\n * @param {number} canvasWidth\n * @param {number} canvasTimeStart\n * @param {number} canvasTimeEnd\n * @param {*} keys\n * @param {number} lineHeight\n * @param {number} itemHeightRatio\n * @param {boolean} stackItems\n * @param {*} draggingItem\n * @param {*} resizingItem\n * @param {number} dragTime\n * @param {left or right} resizingEdge\n * @param {number} resizeTime\n * @param {number} newGroupOrder\n * @param {number} itemVerticalGap\n */\nexport function stackTimelineItems<\n  CustomItem extends TimelineItemBase<any> = TimelineItemBase<number>,\n  CustomGroup extends TimelineGroupBase = TimelineGroupBase,\n>(\n  items: CustomItem[],\n  groups: CustomGroup[],\n  canvasWidth: number,\n  canvasTimeStart: number,\n  canvasTimeEnd: number,\n  keys: TimelineKeys,\n  lineHeight: number,\n  itemHeightRatio: number,\n  stackItems: boolean,\n  draggingItem: Id | null | undefined,\n  resizingItem: Id | null | undefined,\n  dragTime: number | null,\n  resizingEdge: 'left' | 'right' | null,\n  resizeTime: number | null,\n  newGroupOrder: number,\n  itemVerticalGap: number | undefined,\n) {\n  const visibleItems = getVisibleItems(items, canvasTimeStart, canvasTimeEnd, keys)\n  const visibleItemsWithInteraction = visibleItems.map((item) =>\n    getItemWithInteractions({\n      item,\n      keys,\n      draggingItem,\n      resizingItem,\n      dragTime,\n      resizingEdge,\n      resizeTime,\n      groups,\n      newGroupOrder,\n    }),\n  )\n\n  // if there are no groups return an empty array of dimensions\n  if (groups.length === 0) {\n    return {\n      dimensionItems: [],\n      height: 0,\n      groupHeights: [],\n      groupTops: [],\n    }\n  }\n\n  // Get the order of groups based on their id key\n  const groupOrders = getGroupOrders(groups, keys)\n  const dimensionItems = visibleItemsWithInteraction\n    .map((item) =>\n      getItemDimensions({\n        item,\n        keys,\n        canvasTimeStart,\n        canvasTimeEnd,\n        canvasWidth,\n        groupOrders,\n        lineHeight,\n        itemHeightRatio,\n        itemVerticalGap,\n      }),\n    )\n    .filter((item) => !!item) as ItemDimension[]\n  // Get a new array of groupOrders holding the stacked items\n  const { height, groupHeights, groupTops } = stackAll(dimensionItems, groupOrders, lineHeight, stackItems, itemVerticalGap)\n  return { dimensionItems, height, groupHeights, groupTops }\n}\n\n/**\n * get canvas width from visible width\n * @param {*} width\n * @param {*} buffer\n */\nexport function getCanvasWidth(width: number, buffer: number) {\n  return width * buffer\n}\n\n/**\n * get item's position, dimensions and collisions\n * @param {*} item\n * @param {*} keys\n * @param {*} canvasTimeStart\n * @param {*} canvasTimeEnd\n * @param {*} canvasWidth\n * @param {*} groupOrders\n * @param {*} lineHeight\n * @param {*} itemHeightRatio\n */\nexport function getItemDimensions<CustomItem extends TimelineItemBase<any>>({\n  item,\n  keys,\n  canvasTimeStart,\n  canvasTimeEnd,\n  canvasWidth,\n  groupOrders,\n  lineHeight,\n  itemHeightRatio,\n  itemVerticalGap,\n}: {\n  item: CustomItem\n  keys: TimelineKeys\n  canvasTimeStart: number\n  canvasTimeEnd: number\n  canvasWidth: number\n  groupOrders: GroupOrders\n  lineHeight: number\n  itemHeightRatio: number\n  itemVerticalGap: number | undefined\n}): ItemDimension | undefined {\n  const itemId = _get(item, keys.itemIdKey)\n  const dimension = calculateDimensions({\n    itemTimeStart: _get(item, keys.itemTimeStartKey),\n    itemTimeEnd: _get(item, keys.itemTimeEndKey),\n    canvasTimeStart,\n    canvasTimeEnd,\n    canvasWidth,\n  })\n  if (dimension) {\n    dimension.top = null\n    dimension.order = groupOrders[_get(item, keys.itemGroupKey)]\n    dimension.stack = !item.isOverlay\n    dimension.height = (item.height || lineHeight) * (typeof itemVerticalGap === 'undefined' ? itemHeightRatio : 1)\n    return {\n      id: itemId,\n      dimensions: dimension as Dimension,\n    }\n  }\n}\n\n/**\n * get new item with changed  `itemTimeStart` , `itemTimeEnd` and `itemGroupKey` according to user interaction\n * user interaction is dragging an item and resize left and right\n * @param {*} item\n * @param {*} keys\n * @param {*} draggingItem\n * @param {*} resizingItem\n * @param {*} dragTime\n * @param {*} resizingEdge\n * @param {*} resizeTime\n * @param {*} groups\n * @param {*} newGroupOrder\n */\nexport function getItemWithInteractions<\n  CustomItem extends TimelineItemBase<any>,\n  CustomGroup extends TimelineGroupBase = TimelineGroupBase,\n>({\n  item,\n  keys,\n  draggingItem,\n  resizingItem,\n  dragTime,\n  resizingEdge,\n  resizeTime,\n  groups,\n  newGroupOrder,\n}: {\n  item: CustomItem\n  keys: TimelineKeys\n  draggingItem: Id | null | undefined\n  resizingItem: Id | null | undefined\n  dragTime: number | null\n  resizingEdge: 'left' | 'right' | null\n  resizeTime: number | null\n  groups: CustomGroup[]\n  newGroupOrder: number\n}) {\n  if (!resizingItem && !draggingItem) return item\n  const itemId = _get(item, keys.itemIdKey)\n  const isDragging = itemId === draggingItem\n  const isResizing = itemId === resizingItem\n  const [itemTimeStart, itemTimeEnd] = calculateInteractionNewTimes({\n    itemTimeStart: _get(item, keys.itemTimeStartKey),\n    itemTimeEnd: _get(item, keys.itemTimeEndKey),\n    isDragging,\n    isResizing,\n    dragTime,\n    resizingEdge,\n    resizeTime,\n  })\n  return {\n    ...item,\n    [keys.itemTimeStartKey]: itemTimeStart,\n    [keys.itemTimeEndKey]: itemTimeEnd,\n    [keys.itemGroupKey]: isDragging ? _get(groups[newGroupOrder], keys.groupIdKey) : _get(item, keys.itemGroupKey),\n  }\n}\n\n/**\n * get canvas start and end time from visible start and end time\n * @param {number} visibleTimeStart\n * @param {number} visibleTimeEnd\n * @param buffer\n */\nexport function getCanvasBoundariesFromVisibleTime(visibleTimeStart: number, visibleTimeEnd: number, buffer: number) {\n  const zoom = visibleTimeEnd - visibleTimeStart\n  // buffer - 1 (1 is visible area) divided by 2 (2 is the buffer split on the right and left of the timeline)\n  const canvasTimeStart = visibleTimeStart - zoom * (buffer - 1) / 2\n  const canvasTimeEnd = canvasTimeStart + zoom * buffer\n  return [canvasTimeStart, canvasTimeEnd]\n}\n\n/**\n * Get the the canvas area for a given visible time\n * Will shift the start/end of the canvas if the visible time\n * does not fit within the existing\n * @param {number} visibleTimeStart\n * @param {number} visibleTimeEnd\n * @param {boolean} forceUpdateDimensions\n * @param {*} items\n * @param {*} groups\n * @param {*} props\n * @param {*} state\n */\nexport function calculateScrollCanvas<\n  P extends ReactCalendarTimelineProps<any, any>,\n  S extends ReactCalendarTimelineState<any, any>,\n>(\n  visibleTimeStart: number,\n  visibleTimeEnd: number,\n  forceUpdateDimensions: boolean,\n  items: any,\n  groups: any,\n  props: P,\n  state: S,\n): S {\n  const buffer = props.buffer\n  const oldCanvasTimeStart = state.canvasTimeStart\n  const oldCanvasTimeEnd = state.canvasTimeEnd\n  const oldZoom = state.visibleTimeEnd - state.visibleTimeStart\n  const newZoom = visibleTimeEnd - visibleTimeStart\n  const newState: S = {\n    ...state,\n    visibleTimeStart,\n    visibleTimeEnd,\n  }\n\n  // Calculate half of the buffer size on each side = 1/4 of the (buffer - viewport)\n  const halfBuffer = oldZoom * (buffer! - 1) * 0.25\n\n  // Check if the current canvas covers the new times\n  const shouldCreateNewCanvas =\n    newZoom !== oldZoom ||\n    visibleTimeStart <= oldCanvasTimeStart + halfBuffer ||\n    visibleTimeEnd >= oldCanvasTimeEnd - halfBuffer\n\n  if (shouldCreateNewCanvas || forceUpdateDimensions) {\n    const [canvasTimeStart, canvasTimeEnd] = getCanvasBoundariesFromVisibleTime(\n      visibleTimeStart,\n      visibleTimeEnd,\n      buffer!,\n    )\n    newState.canvasTimeStart = canvasTimeStart\n    newState.canvasTimeEnd = canvasTimeEnd\n    const mergedState = {\n      ...state,\n      ...newState,\n    }\n\n    const canvasWidth = getCanvasWidth(mergedState.width, props.buffer!)\n\n    // The canvas cannot be kept, so calculate the new items position\n    Object.assign(\n      newState,\n      stackTimelineItems(\n        items,\n        groups,\n        canvasWidth,\n        mergedState.canvasTimeStart,\n        mergedState.canvasTimeEnd,\n        props.keys,\n        props.lineHeight,\n        props.itemHeightRatio,\n        props.stackItems,\n        mergedState.draggingItem,\n        mergedState.resizingItem,\n        mergedState.dragTime,\n        mergedState.resizingEdge,\n        mergedState.resizeTime,\n        mergedState.newGroupOrder,\n        props.itemVerticalGap,\n      ),\n    )\n  }\n  return newState\n}\n","export const overridableStyles = {\n  fontSize: 12,\n  color: 'white',\n  cursor: 'pointer',\n  background: '#2196f3',\n  borderTopWidth:\"1px\",\n  borderBottomWidth:\"1px\",\n  borderLeftWidth:\"1px\",\n  borderRightWidth:\"1px\",\n  borderStyle:\"solid\",\n  borderColor:\"#1a6fb3\",\n  zIndex: 80,\n}\nexport const selectedStyle = {\n  background: '#ffc107',\n  borderTopWidth:\"1px\",\n  borderLeftWidth:\"1px\",\n  borderRightWidth:\"1px\",\n  borderBottomWidth:\"1px\",\n  borderStyle:\"solid\",\n  borderColor:\"#ff9800\",\n  zIndex: 82,\n}\nexport const selectedAndCanMove = {\n  willChange: 'left, top, width',\n  cursor: 'move',\n}\nexport const selectedAndCanResizeLeft = {\n  borderLeftWidth: 3,\n}\nexport const selectedAndCanResizeLeftAndDragLeft = {\n  cursor: 'w-resize',\n}\nexport const selectedAndCanResizeRight = {\n  borderRightWidth: \"3px\",\n}\nexport const selectedAndCanResizeRightAndDragRight = {\n  cursor: 'e-resize',\n}\n\nexport const leftResizeStyle = {\n  position: 'absolute',\n  width: 24,\n  maxWidth: '20%',\n  minWidth: 2,\n  height: '100%',\n  top: 0,\n  left: 0,\n  cursor: 'pointer',\n  zIndex: 88,\n}\n\nexport const rightResizeStyle = {\n  position: 'absolute',\n  width: 24,\n  maxWidth: '20%',\n  minWidth: 2,\n  height: '100%',\n  top: 0,\n  right: 0,\n  cursor: 'pointer',\n  zIndex: 88,\n}\n","import React, { PropsWithChildren, useContext } from 'react'\n\nimport { calculateXPositionForTime, calculateTimeForXPosition, SelectUnits } from '../utility/calendar'\nimport { TimelineContext as TimelineContextValue } from '../types/main'\nimport { Dayjs } from 'dayjs'\n\n/* this context will hold all information regarding timeline state:\n  1. timeline width\n  2. visible time start and end\n  3. canvas time start and end\n  4. helpers for calculating left offset of items (and really...anything)\n*/\n\n/* eslint-disable no-console */\nconst defaultContextState: TimelineContextType = {\n  getTimelineState: () => {\n    console.warn('\"getTimelineState\" default func is being used')\n    return {} as TimelineContextValue\n  },\n  getLeftOffsetFromDate: () => {\n    console.warn('\"getLeftOffsetFromDate\" default func is being used')\n    return 0\n  },\n  getDateFromLeftOffsetPosition: () => {\n    console.warn('\"getDateFromLeftOffsetPosition\" default func is being used')\n    return 0\n  },\n  showPeriod: () => {\n    console.warn('\"showPeriod\" default func is being used')\n  },\n}\n/* eslint-enable */\n\nexport const TimelineContext = React.createContext<TimelineContextType>(defaultContextState)\nconst { Consumer, Provider } = TimelineContext\n\ntype TimelineStartProps = {\n  visibleTimeStart: number\n  visibleTimeEnd: number\n  canvasTimeStart: number\n  canvasTimeEnd: number\n  canvasWidth: number\n  showPeriod: (from: Dayjs, to: Dayjs) => void\n  timelineUnit: SelectUnits\n  timelineWidth: number\n}\nexport type TimelineContextType = {\n  getTimelineState: () => TimelineContextValue\n  getLeftOffsetFromDate: (date: number) => number\n  getDateFromLeftOffsetPosition: (leftOffset: number) => number\n  showPeriod: (from: Dayjs, to: Dayjs) => void\n}\n\ntype TimelineState = {\n  timelineContext: TimelineContextType\n}\n\nexport class TimelineStateProvider extends React.Component<PropsWithChildren<TimelineStartProps>, TimelineState> {\n  constructor(props: PropsWithChildren<TimelineStartProps>) {\n    super(props)\n\n    this.state = {\n      timelineContext: {\n        getTimelineState: this.getTimelineState,\n        getLeftOffsetFromDate: this.getLeftOffsetFromDate,\n        getDateFromLeftOffsetPosition: this.getDateFromLeftOffsetPosition,\n        showPeriod: this.props.showPeriod,\n      },\n    }\n  }\n\n  getTimelineState = () => {\n    const {\n      visibleTimeStart,\n      visibleTimeEnd,\n      canvasTimeStart,\n      canvasTimeEnd,\n      canvasWidth,\n      timelineUnit,\n      timelineWidth,\n    } = this.props\n    return {\n      visibleTimeStart,\n      visibleTimeEnd,\n      canvasTimeStart,\n      canvasTimeEnd,\n      canvasWidth,\n      timelineUnit,\n      timelineWidth,\n    } as TimelineContextValue // REVIEW,\n  }\n\n  getLeftOffsetFromDate = (date: number): number => {\n    const { canvasTimeStart, canvasTimeEnd, canvasWidth } = this.props\n    return calculateXPositionForTime(canvasTimeStart, canvasTimeEnd, canvasWidth, date)\n  }\n\n  getDateFromLeftOffsetPosition = (leftOffset: number) => {\n    const { canvasTimeStart, canvasTimeEnd, canvasWidth } = this.props\n    return calculateTimeForXPosition(canvasTimeStart, canvasTimeEnd, canvasWidth, leftOffset)\n  }\n\n  render() {\n    return <Provider value={this.state.timelineContext}>{this.props.children}</Provider>\n  }\n}\n\nexport const TimelineStateConsumer = Consumer\nexport const useTimelineState = () => useContext(TimelineContext)\n","import {\n  Component, createRef,\n  CSSProperties,\n  HTMLAttributes,\n  LegacyRef,\n  MouseEvent,\n  MouseEventHandler,\n  ReactNode,\n  TouchEvent,\n  TouchEventHandler,\n} from 'react'\nimport interact from 'interactjs'\nimport dayjs from 'dayjs'\nimport utc from 'dayjs/plugin/utc'\nimport { _get } from '../utility/generic'\nimport { composeEvents } from '../utility/events'\nimport { defaultItemRenderer } from './defaultItemRenderer'\nimport { coordinateToTimeRatio } from '../utility/calendar'\nimport { getSumOffset, getSumScroll } from '../utility/dom-helpers'\nimport {\n  leftResizeStyle,\n  overridableStyles,\n  rightResizeStyle,\n  selectedAndCanMove,\n  selectedAndCanResizeLeft,\n  selectedAndCanResizeLeftAndDragLeft,\n  selectedAndCanResizeRight,\n  selectedAndCanResizeRightAndDragRight,\n  selectedStyle,\n} from './styles'\nimport { Id, ItemContext, TimelineItemBase, TimelineKeys } from '../types/main'\nimport { TimelineContext, TimelineContextType } from '../timeline/TimelineStateContext'\nimport isEqual from 'lodash/isEqual'\n\ndayjs.extend(utc)\n\nexport type ResizeEdge = 'left' | 'right'\n\ntype OnSelect = (\n  itemId: string | null,\n  clickType: 'click' | 'touch',\n  event: MouseEvent<HTMLElement> | TouchEvent<HTMLElement>,\n) => void\n\nexport type ItemProps<CustomItem extends TimelineItemBase<number>> = {\n  canvasTimeStart: number\n  canvasTimeEnd: number\n  canvasWidth: number\n  minResizeWidth?: number\n  order: { index: number }\n  dragSnap?: number\n  itemProps?: HTMLAttributes<HTMLDivElement>\n  onDrag: (itemId: string, dragTime: number, newGroupOrder: number) => void\n  onDrop: (itemId: string, dragTime: number, newGroupOrder: number) => void\n  onResizing: (itemId: string, time: number, resizeEdge: ResizeEdge | null) => void\n  onResized: (itemId: string, time: number, resizeEdge: ResizeEdge | null, delta: number) => void\n  moveResizeValidator?: (\n    action: 'move' | 'resize',\n    item: TimelineItemBase<any>,\n    time: number,\n    resizeEdge?: ResizeEdge | null,\n  ) => number\n  itemRenderer?: (props: ItemRendererProps<CustomItem>) => ReactNode\n  selected: boolean\n  canChangeGroup?: boolean\n  canMove?: boolean\n  canSelect?: boolean\n  dimensions?: ItemContext['dimensions']\n  useResizeHandle?: boolean\n  canResizeLeft: any\n  canResizeRight: any\n\n  keys: TimelineKeys\n  item: CustomItem\n\n  onSelect: OnSelect\n  onContextMenu?: (i: Id, e: MouseEvent<HTMLDivElement>) => void\n  groupTops: any\n  onItemDoubleClick: (i: Id, e: MouseEvent<HTMLDivElement>) => void\n  scrollRef: HTMLElement | null\n}\n\ntype DragProps = { offset: number; x: number; y: number }\n\ninterface ItemState {\n  interactMounted: boolean\n  dragging: boolean\n  dragStart: null | DragProps\n  preDragPosition: { x: number; y: number } | null\n  dragTime: null | number\n  dragGroupDelta: null | number\n  resizing: boolean\n  resizeEdge: null | 'left' | 'right'\n  resizeStart: null | number\n  resizeTime: null | number\n}\n\nexport type GetItemPropsParams = HTMLAttributes<HTMLDivElement> & {\n  leftClassName?: string\n  rightClassName?: string\n  leftStyle?: CSSProperties\n  rightStyle?: CSSProperties\n}\n\nexport interface ItemRendererProps<CustomItem extends TimelineItemBase<number>> {\n  item: CustomItem\n  timelineContext: TimelineContextType\n  itemContext: ItemContext\n  getItemProps: (params: GetItemPropsParams) => HTMLAttributes<HTMLDivElement> & { key:string, ref:LegacyRef<HTMLDivElement> }\n  getResizeProps: GetResizeProps\n}\ntype GetResizePropsDirection = {\n  ref: LegacyRef<HTMLDivElement>\n  className: string\n  style: CSSProperties\n}\nexport type GetResizeProps = (params?: GetItemPropsParams) => {\n  right: GetResizePropsDirection\n  left: GetResizePropsDirection\n}\n\nexport default class Item<CustomItem extends TimelineItemBase<number>> extends Component<\n  ItemProps<CustomItem>,\n  ItemState\n> {\n  static defaultProps = {\n    selected: false,\n    itemRenderer: defaultItemRenderer,\n  }\n  declare context: TimelineContextType\n  static contextType = TimelineContext\n\n  state: ItemState = {\n    interactMounted: false,\n\n    dragging: false,\n    dragStart: null,\n    preDragPosition: null,\n    dragTime: null,\n    dragGroupDelta: null,\n\n    resizing: false,\n    resizeEdge: null,\n    resizeStart: null,\n    resizeTime: null,\n  }\n  private itemId: string = ''\n  private itemTitle: string = ''\n  private itemDivTitle?: string\n  private itemTimeStart?: number\n  private itemTimeEnd?: number\nprivate itemRef  = createRef<HTMLDivElement>();\n  private dragLeft?: HTMLElement\n  private dragRight?: HTMLElement\n  private startedClicking: boolean = false\n  private startedTouching: boolean = false\n  private dragInProgress: boolean = false\n\n  constructor(props: ItemProps<CustomItem>) {\n    super(props)\n\n    this.cacheDataFromProps(props)\n  }\n\n  shouldComponentUpdate(nextProps: ItemProps<CustomItem>, nextState: ItemState) {\n    /*const shouldUpdate =\n      nextState.dragging !== this.state.dragging ||\n      nextState.dragTime !== this.state.dragTime ||\n      nextState.dragGroupDelta !== this.state.dragGroupDelta ||\n      nextState.resizing !== this.state.resizing ||\n      nextState.resizeTime !== this.state.resizeTime ||\n      nextProps.keys !== this.props.keys ||\n      !deepObjectCompare(nextProps.itemProps, this.props.itemProps) ||\n      nextProps.selected !== this.props.selected ||\n      nextProps.item !== this.props.item ||\n      nextProps.canvasTimeStart !== this.props.canvasTimeStart ||\n      nextProps.canvasTimeEnd !== this.props.canvasTimeEnd ||\n      nextProps.canvasWidth !== this.props.canvasWidth ||\n      (nextProps.order ? nextProps.order.index : undefined) !==\n        (this.props.order ? this.props.order.index : undefined) ||\n      nextProps.dragSnap !== this.props.dragSnap ||\n      nextProps.minResizeWidth !== this.props.minResizeWidth ||\n      nextProps.canChangeGroup !== this.props.canChangeGroup ||\n      nextProps.canSelect !== this.props.canSelect ||\n      nextProps.canMove !== this.props.canMove ||\n      nextProps.canResizeLeft !== this.props.canResizeLeft ||\n      nextProps.canResizeRight !== this.props.canResizeRight ||\n      nextProps.dimensions !== this.props.dimensions*/\n    return !isEqual(this.props, nextProps) || !isEqual(this.state, nextState)\n  }\n\n  cacheDataFromProps(props: ItemProps<CustomItem>) {\n    this.itemId = _get(props.item, props.keys.itemIdKey)\n    this.itemTitle = _get(props.item, props.keys.itemTitleKey)\n    this.itemDivTitle = props.keys.itemDivTitleKey ? _get(props.item, props.keys.itemDivTitleKey) : this.itemTitle\n    this.itemTimeStart = _get(props.item, props.keys.itemTimeStartKey)\n    this.itemTimeEnd = _get(props.item, props.keys.itemTimeEndKey)\n  }\n\n  getTimeRatio() {\n    const { canvasTimeStart, canvasTimeEnd, canvasWidth } = this.props\n    return coordinateToTimeRatio(canvasTimeStart, canvasTimeEnd, canvasWidth)\n  }\n\n  dragTimeSnap(dragTime: number, considerOffset?: boolean) {\n    const { dragSnap } = this.props\n    if (dragSnap) {\n      const offset = considerOffset ? dayjs().utcOffset() * 60 * 1000 : 0\n      return Math.round(dragTime / dragSnap) * dragSnap - (offset % dragSnap)\n    } else {\n      return dragTime\n    }\n  }\n\n  resizeTimeSnap(dragTime: number) {\n    const { dragSnap } = this.props\n    if (dragSnap) {\n      const endTime = this.itemTimeEnd! % dragSnap\n      return Math.round((dragTime - endTime) / dragSnap) * dragSnap + endTime\n    } else {\n      return dragTime\n    }\n  }\n\n  dragTime(e: MouseEvent) {\n    const startTime = dayjs(this.itemTimeStart)\n\n    if (this.state.dragging) {\n      return this.dragTimeSnap(this.timeFor(e) + this.state.dragStart!.offset, true)\n    } else {\n      return startTime.valueOf()\n    }\n  }\n\n  timeFor(e: MouseEvent) {\n    const ratio = coordinateToTimeRatio(this.props.canvasTimeStart, this.props.canvasTimeEnd, this.props.canvasWidth)\n\n    const offset = getSumOffset(this.props.scrollRef!).offsetLeft\n    const scrolls = getSumScroll(this.props.scrollRef!)\n\n    return (e.pageX - offset + scrolls.scrollLeft) * ratio + this.props.canvasTimeStart\n  }\n\n  dragGroupDelta(e: MouseEvent) {\n    const { groupTops, order } = this.props\n    if (this.state.dragging) {\n      if (!this.props.canChangeGroup) {\n        return 0\n      }\n      let groupDelta = 0\n\n      const offset = getSumOffset(this.props.scrollRef!).offsetTop\n      const scrolls = getSumScroll(this.props.scrollRef!)\n\n      for (const key of Object.keys(groupTops)) {\n        const groupTop = groupTops[key]\n        if (e.pageY - offset + scrolls.scrollTop > groupTop) {\n          groupDelta = parseInt(key, 10) - order!.index\n        } else {\n          break\n        }\n      }\n\n      if (this.props.order!.index + groupDelta < 0) {\n        return 0 - this.props.order.index\n      } else {\n        return groupDelta\n      }\n    } else {\n      return 0\n    }\n  }\n\n  resizeTimeDelta(e: MouseEvent, resizeEdge: ResizeEdge | null) {\n    const length = this.itemTimeEnd! - this.itemTimeStart!\n    const timeDelta = this.dragTimeSnap((e.pageX - this.state.resizeStart!) * this.getTimeRatio())\n\n    if (length + (resizeEdge === 'left' ? -timeDelta : timeDelta) < (this.props.dragSnap || 1000)) {\n      if (resizeEdge === 'left') {\n        return length - (this.props.dragSnap || 1000)\n      } else {\n        return (this.props.dragSnap || 1000) - length\n      }\n    } else {\n      return timeDelta\n    }\n  }\n\n  mountInteract() {\n    const leftResize = this.props.useResizeHandle ? '.rct-item-handler-resize-left' : true\n    const rightResize = this.props.useResizeHandle ? '.rct-item-handler-resize-right' : true\n\n    interact(this.itemRef.current!)\n      .resizable({\n        edges: {\n          left: this.canResizeLeft() && leftResize,\n          right: this.canResizeRight() && rightResize,\n          top: false,\n          bottom: false,\n        },\n        enabled: this.props.selected && (this.canResizeLeft() || this.canResizeRight()),\n      })\n      .draggable({\n        enabled: this.props.selected && this.canMove(),\n      })\n      .styleCursor(false)\n      .on('dragstart', (e) => {\n        if (this.props.selected) {\n          this.dragInProgress = true\n          this.fireInteractEvent(true)\n          const clickTime = this.timeFor(e)\n          this.setState({\n            dragging: true,\n            dragStart: {\n              x: e.pageX,\n              y: e.pageY,\n              offset: this.itemTimeStart! - clickTime,\n            },\n            preDragPosition: { x: e.target.offsetLeft, y: e.target.offsetTop },\n            dragTime: this.itemTimeStart!,\n            dragGroupDelta: 0,\n          })\n        } else {\n          return false\n        }\n      })\n      .on('dragmove', (e) => {\n        if (this.state.dragging) {\n          this.setState((state) => {\n            // stop updating when dropped already\n            if (!this.dragInProgress) {\n              return { ...state }\n            }\n            let dragTime = this.dragTime(e)\n            const dragGroupDelta = this.dragGroupDelta(e)\n            if (this.props.moveResizeValidator) {\n              dragTime = this.props.moveResizeValidator('move', this.props.item, dragTime)\n            }\n\n            if (this.props.onDrag) {\n              this.props.onDrag(this.itemId!, dragTime, this.props.order.index + dragGroupDelta)\n            }\n\n            return {\n              dragTime: dragTime,\n              dragGroupDelta: dragGroupDelta,\n            }\n          })\n        }\n      })\n      .on('dragend', (e) => {\n        if (this.state.dragging) {\n          if (this.props.onDrop) {\n            this.dragInProgress = false\n            this.fireInteractEvent(false)\n            let dragTime = this.dragTime(e)\n\n            if (this.props.moveResizeValidator) {\n              dragTime = this.props.moveResizeValidator('move', this.props.item, dragTime)\n            }\n\n            this.props.onDrop(this.itemId!, dragTime, this.props.order.index + this.dragGroupDelta(e))\n          }\n\n          this.setState({\n            dragging: false,\n            dragStart: null,\n            preDragPosition: null,\n            dragTime: null,\n            dragGroupDelta: null,\n          })\n        }\n      })\n      .on('resizestart', (e) => {\n        if (this.props.selected) {\n          this.fireInteractEvent(true)\n          this.setState({\n            resizing: true,\n            resizeEdge: null, // we don't know yet\n            resizeStart: e.pageX,\n            resizeTime: 0,\n          })\n        } else {\n          return false\n        }\n      })\n      .on('resizemove', (e) => {\n        if (this.state.resizing) {\n          let resizeEdge = this.state.resizeEdge\n\n          if (!resizeEdge) {\n            resizeEdge = e.deltaRect.left !== 0 ? 'left' : 'right'\n            this.setState({ resizeEdge })\n          }\n          let resizeTime = this.resizeTimeSnap(this.timeFor(e))\n\n          if (this.props.moveResizeValidator) {\n            resizeTime = this.props.moveResizeValidator('resize', this.props.item, resizeTime, resizeEdge)\n          }\n\n          if (this.props.onResizing) {\n            this.props.onResizing(this.itemId, resizeTime, resizeEdge)\n          }\n\n          this.setState({\n            resizeTime,\n          })\n        }\n      })\n      .on('resizeend', (e) => {\n        if (this.state.resizing) {\n          this.fireInteractEvent(false)\n          const { resizeEdge } = this.state\n          let resizeTime = this.resizeTimeSnap(this.timeFor(e))\n\n          if (this.props.moveResizeValidator) {\n            resizeTime = this.props.moveResizeValidator('resize', this.props.item, resizeTime, resizeEdge)\n          }\n\n          if (this.props.onResized) {\n            this.props.onResized(this.itemId, resizeTime, resizeEdge, this.resizeTimeDelta(e, resizeEdge))\n          }\n          this.setState({\n            resizing: false,\n            resizeStart: null,\n            resizeEdge: null,\n            resizeTime: null,\n          })\n        }\n      })\n      .on('tap', (e) => {\n        this.actualClick(e, e.pointerType === 'mouse' ? 'click' : 'touch')\n      })\n\n    this.setState({\n      interactMounted: true,\n    })\n  }\n\n  canResizeLeft(props = this.props) {\n    if (!props.canResizeLeft || props.minResizeWidth === undefined) {\n      return false\n    }\n    const width = parseInt(props.dimensions!.width?.toString(), 10)\n    return width >= props.minResizeWidth\n  }\n\n  canResizeRight(props = this.props) {\n    if (!props.canResizeRight || props.minResizeWidth === undefined) {\n      return false\n    }\n    const width = parseInt(props.dimensions!.width?.toString(), 10)\n    return width >= props.minResizeWidth\n  }\n\n  canMove(props = this.props) {\n    return !!props.canMove\n  }\n  fireInteractEvent = (itemInteraction: boolean) => {\n    if (this.itemRef && this.itemRef.current) {\n      const event = new CustomEvent('itemInteraction', {\n        bubbles: true,\n        detail: {\n          itemInteraction,\n        },\n      })\n      this.itemRef.current?.dispatchEvent(event)\n    }\n  }\n\n  componentDidUpdate(prevProps: ItemProps<CustomItem>) {\n    this.cacheDataFromProps(this.props)\n    let { interactMounted } = this.state\n    const couldDrag = prevProps.selected && this.canMove(prevProps)\n    const couldResizeLeft = prevProps.selected && this.canResizeLeft(prevProps)\n    const couldResizeRight = prevProps.selected && this.canResizeRight(prevProps)\n    const willBeAbleToDrag = this.props.selected && this.canMove(this.props)\n    const willBeAbleToResizeLeft = this.props.selected && this.canResizeLeft(this.props)\n    const willBeAbleToResizeRight = this.props.selected && this.canResizeRight(this.props)\n\n    if (this.itemRef && this.itemRef.current) {\n      if (this.props.selected && !interactMounted) {\n        this.mountInteract()\n        interactMounted = true\n      }\n      if (\n        interactMounted &&\n        (couldResizeLeft !== willBeAbleToResizeLeft || couldResizeRight !== willBeAbleToResizeRight)\n      ) {\n        const leftResize = this.props.useResizeHandle ? this.dragLeft : true\n        const rightResize = this.props.useResizeHandle ? this.dragRight : true\n\n        interact(this.itemRef.current).resizable({\n          enabled: willBeAbleToResizeLeft || willBeAbleToResizeRight,\n          edges: {\n            top: false,\n            bottom: false,\n            left: willBeAbleToResizeLeft && leftResize,\n            right: willBeAbleToResizeRight && rightResize,\n          },\n        })\n      }\n      if (interactMounted && couldDrag !== willBeAbleToDrag) {\n        interact(this.itemRef.current).draggable({ enabled: willBeAbleToDrag })\n      }\n    } else {\n      interactMounted = false\n    }\n    if (interactMounted !== this.state.interactMounted) {\n      this.setState({\n        interactMounted,\n      })\n    }\n  }\n\n  onMouseDown: MouseEventHandler<HTMLDivElement> = (e) => {\n    if (!this.state.interactMounted) {\n      e.preventDefault()\n      this.startedClicking = true\n    }\n  }\n\n  onMouseUp: MouseEventHandler<HTMLDivElement> = (e) => {\n    if (!this.state.interactMounted && this.startedClicking) {\n      this.startedClicking = false\n      this.actualClick(e, 'click')\n    }\n  }\n\n  onTouchStart: TouchEventHandler<HTMLDivElement> = (e) => {\n    if (!this.state.interactMounted) {\n      e.preventDefault()\n      this.startedTouching = true\n    }\n  }\n\n  onTouchEnd: TouchEventHandler<HTMLDivElement> = (e) => {\n    if (!this.state.interactMounted && this.startedTouching) {\n      this.startedTouching = false\n      this.actualClick(e, 'touch')\n    }\n  }\n\n  handleDoubleClick: MouseEventHandler<HTMLDivElement> = (e) => {\n    e.stopPropagation()\n    if (this.props.onItemDoubleClick) {\n      this.props.onItemDoubleClick(this.itemId, e)\n    }\n  }\n\n  handleContextMenu: MouseEventHandler<HTMLDivElement> = (e) => {\n    if (this.props.onContextMenu) {\n      e.preventDefault()\n      e.stopPropagation()\n      this.props.onContextMenu(this.itemId, e)\n    }\n  }\n\n  actualClick(e: MouseEvent<HTMLElement> | TouchEvent<HTMLElement>, clickType: 'click' | 'touch') {\n    if (this.props.canSelect && this.props.onSelect) {\n      this.props.onSelect(this.itemId!, clickType, e)\n    }\n  }\n\n\n  //getItemRef = (el: HTMLElement) => (this.item = el)\n  getDragLeftRef = (el: HTMLElement) => (this.dragLeft = el)\n  getDragRightRef = (el: HTMLElement) => (this.dragRight = el)\n\n  getItemProps = (props: GetItemPropsParams = {}) => {\n    //TODO: maybe shouldnt include all of these classes\n    const classNames = 'rct-item' + (this.props.item.className ? ` ${this.props.item.className}` : '')\n\n    return {\n      key: this.itemId,\n      ref: this.itemRef,\n      title: this.itemDivTitle,\n      className: classNames + ` ${props.className ? props.className : ''}`,\n      onMouseDown: composeEvents(this.onMouseDown, props.onMouseDown),\n      onMouseUp: composeEvents(this.onMouseUp, props.onMouseUp),\n      onTouchStart: composeEvents(this.onTouchStart, props.onTouchStart),\n      onTouchEnd: composeEvents(this.onTouchEnd, props.onTouchEnd),\n      onDoubleClick: composeEvents(this.handleDoubleClick, props.onDoubleClick),\n      onContextMenu: composeEvents(this.handleContextMenu, props.onContextMenu),\n      style: Object.assign({}, this.getItemStyle(props)),\n    }\n  }\n\n  getResizeProps = (props: GetItemPropsParams = {} as GetItemPropsParams) => {\n    let leftName = 'rct-item-handler rct-item-handler-left rct-item-handler-resize-left'\n    if (props.leftClassName) {\n      leftName += ` ${props.leftClassName}`\n    }\n\n    let rightName = 'rct-item-handler rct-item-handler-right rct-item-handler-resize-right'\n    if (props.rightClassName) {\n      rightName += ` ${props.rightClassName}`\n    }\n    return {\n      left: {\n        ref: this.getDragLeftRef,\n        className: leftName,\n        style: Object.assign({}, leftResizeStyle, props.leftStyle),\n      },\n      right: {\n        ref: this.getDragRightRef,\n        className: rightName,\n        style: Object.assign({}, rightResizeStyle, props.rightStyle),\n      },\n    } as ReturnType<GetResizeProps>\n  }\n\n  getItemStyle(props: GetItemPropsParams) {\n    const dimensions = this.props.dimensions!\n\n    const baseStyles = {\n      position: 'absolute',\n      boxSizing: 'border-box',\n      left: `${dimensions.left}px`,\n      top: `${dimensions.top}px`,\n      width: `${dimensions.width}px`,\n      height: `${dimensions.height}px`,\n      lineHeight: `${dimensions.height}px`,\n    }\n\n    const finalStyle = Object.assign(\n      {},\n      overridableStyles,\n      this.props.selected ? selectedStyle : {},\n      this.props.selected && this.canMove(this.props) ? selectedAndCanMove : {},\n      this.props.selected && this.canResizeLeft(this.props) ? selectedAndCanResizeLeft : {},\n      this.props.selected && this.canResizeLeft(this.props) && this.state.dragging\n        ? selectedAndCanResizeLeftAndDragLeft\n        : {},\n      this.props.selected && this.canResizeRight(this.props) ? selectedAndCanResizeRight : {},\n      this.props.selected && this.canResizeRight(this.props) && this.state.dragging\n        ? selectedAndCanResizeRightAndDragRight\n        : {},\n      props.style,\n      baseStyles,\n    )\n    return finalStyle\n  }\n\n  render() {\n    if (typeof this.props.order === 'undefined' || this.props.order === null) {\n      return null\n    }\n\n    const timelineContext = this.context\n    const itemContext: ItemContext = {\n      dimensions: this.props.dimensions!,\n      useResizeHandle: !!this.props.useResizeHandle,\n      title: this.itemTitle,\n      canMove: this.canMove(this.props),\n      canResizeLeft: this.canResizeLeft(this.props),\n      canResizeRight: this.canResizeRight(this.props),\n      selected: this.props.selected,\n      dragging: this.state.dragging,\n      dragStart: this.state.dragStart,\n      dragTime: this.state.dragTime,\n      dragGroupDelta: this.state.dragGroupDelta,\n      resizing: this.state.resizing,\n      resizeEdge: this.state.resizeEdge,\n      resizeStart: this.state.resizeStart,\n      resizeTime: this.state.resizeTime,\n    }\n    if(!this.props.itemRenderer){\n      return defaultItemRenderer({\n        item: this.props.item,\n        timelineContext,\n        itemContext,\n        getItemProps: this.getItemProps,\n        getResizeProps: this.getResizeProps,\n      })\n    } else return this.props.itemRenderer({\n      item: this.props.item,\n      timelineContext,\n      itemContext,\n      getItemProps: this.getItemProps,\n      getResizeProps: this.getResizeProps,\n    })\n  }\n}\n","import { Component } from 'react'\nimport Item, { ItemProps } from './Item'\nimport { _get, arraysEqual, keyBy } from '../utility/generic'\nimport { getGroupOrders, getVisibleItems } from '../utility/calendar'\nimport { Id, TimelineGroupBase, TimelineItemBase, TimelineKeys } from '../types/main'\nimport { ItemDimension } from '../types/dimension'\n\nexport type CanResize = true | false | 'left' | 'right' | 'both'\ntype ItemsProps<CustomItem extends TimelineItemBase<number>> = {\n  groups: TimelineGroupBase[]\n  items: CustomItem[]\n  dimensionItems: ItemDimension[]\n  selected?: Id[]\n\n  canvasTimeStart: number\n  canvasTimeEnd: number\n  canvasWidth: number\n\n  dragSnap?: number\n  minResizeWidth?: number\n  selectedItem?: Id\n\n  canChangeGroup?: boolean\n  canMove?: boolean\n  canResize?: CanResize\n  canSelect?: boolean\n  keys: TimelineKeys\n  moveResizeValidator?: ItemProps<CustomItem>['moveResizeValidator']\n  itemSelect: ItemProps<CustomItem>['onSelect']\n  itemDrag: ItemProps<CustomItem>['onDrag']\n  itemDrop: ItemProps<CustomItem>['onDrop']\n  itemResizing: ItemProps<CustomItem>['onResizing']\n  itemResized: ItemProps<CustomItem>['onResized']\n  onItemDoubleClick: ItemProps<CustomItem>['onItemDoubleClick']\n  onItemContextMenu?: ItemProps<CustomItem>['onContextMenu']\n  itemRenderer?: ItemProps<CustomItem>['itemRenderer']\n  groupTops: number[]\n  useResizeHandle?: boolean\n  scrollRef: HTMLElement | null\n  // Add more props if needed\n}\n\ntype ItemsState = object\n\nfunction canResizeLeft<CustomItem extends TimelineItemBase<number>>(item: CustomItem, canResize?: CanResize) {\n  const value = _get(item, 'canResize') !== undefined ? _get(item, 'canResize') : canResize\n  return value === 'left' || value === 'both'\n}\n\nfunction canResizeRight<CustomItem extends TimelineItemBase<number>>(item: CustomItem, canResize?: CanResize) {\n  const value = _get(item, 'canResize') !== undefined ? _get(item, 'canResize') : canResize\n  return value === 'right' || value === 'both' || value === true\n}\n\nexport default class Items<CustomItem extends TimelineItemBase<number>> extends Component<\n  ItemsProps<CustomItem>,\n  ItemsState\n> {\n  shouldComponentUpdate(nextProps: ItemsProps<CustomItem>) {\n    return !(\n      arraysEqual(nextProps.groups, this.props.groups) &&\n      arraysEqual(nextProps.items, this.props.items) &&\n      arraysEqual(nextProps.dimensionItems, this.props.dimensionItems) &&\n      nextProps.keys === this.props.keys &&\n      nextProps.canvasTimeStart === this.props.canvasTimeStart &&\n      nextProps.canvasTimeEnd === this.props.canvasTimeEnd &&\n      nextProps.canvasWidth === this.props.canvasWidth &&\n      nextProps.selectedItem === this.props.selectedItem &&\n      nextProps.selected === this.props.selected &&\n      nextProps.dragSnap === this.props.dragSnap &&\n      nextProps.minResizeWidth === this.props.minResizeWidth &&\n      nextProps.canChangeGroup === this.props.canChangeGroup &&\n      nextProps.canMove === this.props.canMove &&\n      nextProps.canResize === this.props.canResize &&\n      nextProps.canSelect === this.props.canSelect\n    )\n  }\n\n  isSelected(item: CustomItem, itemIdKey: string) {\n    if (!this.props.selected) {\n      return this.props.selectedItem === _get(item, itemIdKey)\n    } else {\n      const target = _get(item, itemIdKey) as string | number\n      return this.props.selected.includes(target)\n    }\n  }\n\n  getVisibleItems(canvasTimeStart: number, canvasTimeEnd: number) {\n    const { keys, items } = this.props\n\n    return getVisibleItems(items, canvasTimeStart, canvasTimeEnd, keys)\n  }\n\n  render() {\n    const { canvasTimeStart, canvasTimeEnd, dimensionItems, keys, groups } = this.props\n    const { itemIdKey, itemGroupKey } = keys\n\n    const groupOrders = getGroupOrders(groups, keys)\n    const visibleItems = this.getVisibleItems(canvasTimeStart, canvasTimeEnd)\n    const sortedDimensionItems = keyBy(dimensionItems, 'id')\n\n    return (\n      <div className=\"rct-items\">\n        {visibleItems\n          .filter((item) => sortedDimensionItems[_get(item, itemIdKey)])\n          .map((item) => (\n            <Item\n              itemProps={item.itemProps}\n              key={_get(item, itemIdKey)}\n              item={item}\n              keys={this.props.keys}\n              order={groupOrders[_get(item, itemGroupKey)]}\n              dimensions={sortedDimensionItems[_get(item, itemIdKey)].dimensions}\n              selected={this.isSelected(item, itemIdKey)}\n              canChangeGroup={\n                _get(item, 'canChangeGroup') !== undefined ? _get(item, 'canChangeGroup') : this.props.canChangeGroup\n              }\n              canMove={_get(item, 'canMove') !== undefined ? _get(item, 'canMove') : this.props.canMove}\n              canResizeLeft={canResizeLeft(item, this.props.canResize)}\n              canResizeRight={canResizeRight(item, this.props.canResize)}\n              canSelect={_get(item, 'canSelect') !== undefined ? _get(item, 'canSelect') : this.props.canSelect}\n              useResizeHandle={this.props.useResizeHandle}\n              groupTops={this.props.groupTops}\n              canvasTimeStart={this.props.canvasTimeStart}\n              canvasTimeEnd={this.props.canvasTimeEnd}\n              canvasWidth={this.props.canvasWidth}\n              dragSnap={this.props.dragSnap}\n              minResizeWidth={this.props.minResizeWidth}\n              onResizing={this.props.itemResizing}\n              onResized={this.props.itemResized}\n              moveResizeValidator={this.props.moveResizeValidator}\n              onDrag={this.props.itemDrag}\n              onDrop={this.props.itemDrop}\n              onItemDoubleClick={this.props.onItemDoubleClick}\n              onContextMenu={this.props.onItemContextMenu}\n              onSelect={this.props.itemSelect}\n              itemRenderer={this.props.itemRenderer}\n              scrollRef={this.props.scrollRef}\n            />\n          ))}\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nimport { _get, arraysEqual } from '../utility/generic'\nimport { ReactCalendarGroupRendererProps, TimelineGroupBase, TimelineKeys } from '../types/main'\n\ntype Props<CustomGroup extends TimelineGroupBase = TimelineGroupBase> = {\n  groups: CustomGroup[]\n  width: number\n  height: number\n  groupHeights: number[]\n  keys: TimelineKeys\n  groupRenderer?: (props: ReactCalendarGroupRendererProps<CustomGroup>) => React.ReactNode\n  isRightSidebar?: boolean\n}\n\nexport default class Sidebar<CustomGroup extends TimelineGroupBase = TimelineGroupBase> extends Component<Props<CustomGroup>> {\n  shouldComponentUpdate(nextProps: Props<CustomGroup>) {\n    return !(nextProps.keys === this.props.keys && nextProps.width === this.props.width && nextProps.height === this.props.height && arraysEqual(nextProps.groups, this.props.groups) && arraysEqual(nextProps.groupHeights, this.props.groupHeights))\n  }\n\n  renderGroupContent(group: CustomGroup, isRightSidebar: boolean = false, groupTitleKey: string, groupRightTitleKey: string) {\n    if (this.props.groupRenderer) {\n      return React.createElement(this.props.groupRenderer, {\n        group,\n        isRightSidebar,\n      })\n    } else {\n      return _get(group, isRightSidebar ? groupRightTitleKey : groupTitleKey)\n    }\n  }\n\n  render() {\n    const { width, groupHeights, height, isRightSidebar } = this.props\n\n    const { groupIdKey, groupTitleKey, groupRightTitleKey } = this.props.keys\n\n    const sidebarStyle = {\n      width: `${width}px`,\n      height: `${height}px`,\n    }\n\n    const groupsStyle = {\n      width: `${width}px`,\n    }\n\n    const groupLines = this.props.groups.map((group, index) => {\n      const elementStyle = {\n        height: `${groupHeights[index]}px`,\n        lineHeight: `${groupHeights[index]}px`,\n      }\n\n      return (\n        <div key={_get(group, groupIdKey)} className={'rct-sidebar-row rct-sidebar-row-' + (index % 2 === 0 ? 'even' : 'odd')} style={elementStyle}>\n          {this.renderGroupContent(group, isRightSidebar, groupTitleKey, groupRightTitleKey)}\n        </div>\n      )\n    })\n\n    return (\n      <div className={'rct-sidebar' + (isRightSidebar ? ' rct-sidebar-right' : '')} style={sidebarStyle}>\n        <div style={groupsStyle}>{groupLines}</div>\n      </div>\n    )\n  }\n}\n","import React, { Component, FC } from 'react'\n\nimport { iterateTimes } from '../utility/calendar'\nimport { TimelineStateConsumer } from '../timeline/TimelineStateContext'\nimport { TimelineTimeSteps } from '../types/main'\n\ntype WrapperColumnsProps = {\n  canvasTimeStart: number\n  canvasTimeEnd: number\n  canvasWidth: number\n  lineCount: number\n  minUnit: keyof TimelineTimeSteps\n  timeSteps: TimelineTimeSteps\n  height: number\n  verticalLineClassNamesForTime?: (a: number, b: number) => string[]\n}\n\ntype ColumnsProps = WrapperColumnsProps & {\n  getLeftOffsetFromDate: (time: number) => number\n}\n\nclass Columns extends Component<ColumnsProps> {\n  shouldComponentUpdate(nextProps: ColumnsProps) {\n    return !(\n      nextProps.canvasTimeStart === this.props.canvasTimeStart &&\n      nextProps.canvasTimeEnd === this.props.canvasTimeEnd &&\n      nextProps.canvasWidth === this.props.canvasWidth &&\n      nextProps.lineCount === this.props.lineCount &&\n      nextProps.minUnit === this.props.minUnit &&\n      nextProps.timeSteps === this.props.timeSteps &&\n      nextProps.height === this.props.height &&\n      nextProps.verticalLineClassNamesForTime === this.props.verticalLineClassNamesForTime\n    )\n  }\n\n  render() {\n    const {\n      canvasTimeStart,\n      canvasTimeEnd,\n      // canvasWidth,\n      minUnit,\n      timeSteps,\n      height,\n      verticalLineClassNamesForTime,\n      getLeftOffsetFromDate,\n    } = this.props\n    //const ratio = canvasWidth / (canvasTimeEnd - canvasTimeStart)\n\n    const lines: React.JSX.Element[] = []\n\n    iterateTimes(canvasTimeStart, canvasTimeEnd, minUnit, timeSteps, (time, nextTime) => {\n      const minUnitValue = time.get(minUnit === 'day' ? 'date' : minUnit)\n      const firstOfType = minUnitValue === (minUnit === 'day' ? 1 : 0)\n\n      let classNamesForTime: string[] = []\n      if (verticalLineClassNamesForTime) {\n        classNamesForTime = verticalLineClassNamesForTime(\n          time.unix() * 1000, // turn into ms, which is what verticalLineClassNamesForTime expects\n          nextTime.unix() * 1000 - 1,\n        )\n      }\n\n      // TODO: rename or remove class that has reference to vertical-line\n      const classNames =\n        'rct-vl' +\n        (firstOfType ? ' rct-vl-first' : '') +\n        (minUnit === 'day' || minUnit === 'hour' || minUnit === 'minute' ? ` rct-day-${time.day()} ` : ' ') +\n        classNamesForTime.join(' ')\n\n      const left = getLeftOffsetFromDate(time.valueOf())\n      const right = getLeftOffsetFromDate(nextTime.valueOf())\n      lines.push(\n        <div\n          key={`line-${time.valueOf()}`}\n          className={classNames}\n          style={{\n            pointerEvents: 'none',\n            top: '0px',\n            left: `${left}px`,\n            width: `${right - left}px`,\n            height: `${height}px`,\n          }}\n        />,\n      )\n    })\n\n    return <div className=\"rct-vertical-lines\">{lines}</div>\n  }\n}\n\nconst ColumnsWrapper: FC<WrapperColumnsProps> = ({ ...props }) => {\n  return (\n    <TimelineStateConsumer>\n      {({ getLeftOffsetFromDate }) => <Columns getLeftOffsetFromDate={getLeftOffsetFromDate} {...props} />}\n    </TimelineStateConsumer>\n  )\n}\n\nexport default ColumnsWrapper\n","import React, { Component, MouseEventHandler } from 'react'\n\ntype Props = {\n  children: React.ReactElement\n  onClick: MouseEventHandler<HTMLElement>\n  clickTolerance?: number\n}\nclass PreventClickOnDrag extends Component<Props> {\n  handleMouseDown: MouseEventHandler<HTMLElement> = (evt) => {\n    this.originClickX = evt.clientX\n  }\n\n  handleMouseUp: MouseEventHandler<HTMLElement> = (evt) => {\n    if (\n      this.props.clickTolerance !== undefined &&\n      Math.abs(this.originClickX - evt.clientX) > this.props.clickTolerance\n    ) {\n      this.cancelClick = true\n    }\n  }\n\n  handleClick: MouseEventHandler<HTMLElement> = (evt) => {\n    if (!this.cancelClick) {\n      this.props.onClick(evt)\n    }\n\n    this.cancelClick = false\n    this.originClickX = null\n  }\n  private originClickX: any\n  private cancelClick: boolean = false\n\n  render() {\n    const childElement = React.Children.only(this.props.children)\n    return React.cloneElement(childElement, {\n      onMouseDown: this.handleMouseDown,\n      onMouseUp: this.handleMouseUp,\n      onClick: this.handleClick,\n    })\n  }\n}\n\nexport default PreventClickOnDrag\n","import React, { Component, MouseEventHandler } from 'react'\nimport PreventClickOnDrag from '../interaction/PreventClickOnDrag'\n\ninterface GroupRowProps<T> {\n  onClick: MouseEventHandler<HTMLDivElement>\n  onDoubleClick?: MouseEventHandler<HTMLDivElement>\n  onContextMenu?: MouseEventHandler<HTMLDivElement>\n  isEvenRow?: boolean\n  style?: React.CSSProperties\n  clickTolerance?: number | undefined\n  group: T\n  horizontalLineClassNamesForGroup?: (group: T) => string[]\n}\n\nclass GroupRow<T> extends Component<GroupRowProps<T>> {\n  render() {\n    const {\n      onContextMenu,\n      onDoubleClick,\n      isEvenRow,\n      style,\n      onClick,\n      clickTolerance,\n      horizontalLineClassNamesForGroup,\n      group,\n    } = this.props\n\n    let classNamesForGroup: string[] = []\n    if (horizontalLineClassNamesForGroup) {\n      classNamesForGroup = horizontalLineClassNamesForGroup(group)\n    }\n\n    return (\n      <PreventClickOnDrag clickTolerance={clickTolerance} onClick={onClick}>\n        <div\n          onContextMenu={onContextMenu}\n          onDoubleClick={onDoubleClick}\n          className={\n            (isEvenRow ? 'rct-hl-even ' : 'rct-hl-odd ') + (classNamesForGroup ? classNamesForGroup.join(' ') : '')\n          }\n          style={style}\n        />\n      </PreventClickOnDrag>\n    )\n  }\n}\n\nexport default GroupRow\n","import React, { Component } from 'react'\nimport GroupRow from './GroupRow'\n\nexport type RowClickEvent = (evt: React.MouseEvent<HTMLDivElement>, index: number) => void\n\nexport interface GroupRowsProps<T> {\n  canvasWidth: number\n  lineCount: number\n  groupHeights: number[]\n  onRowClick: RowClickEvent\n  onRowDoubleClick: RowClickEvent\n  clickTolerance?: number\n  groups: T[]\n  horizontalLineClassNamesForGroup?: (group: T) => string[]\n  onRowContextClick: RowClickEvent\n}\n\nexport default class GroupRows<T> extends Component<GroupRowsProps<T>> {\n  shouldComponentUpdate(nextProps: GroupRowsProps<T>) {\n    return !(\n      nextProps.canvasWidth === this.props.canvasWidth &&\n      nextProps.lineCount === this.props.lineCount &&\n      nextProps.groupHeights === this.props.groupHeights &&\n      nextProps.groups === this.props.groups\n    )\n  }\n\n  render() {\n    const {\n      canvasWidth,\n      lineCount,\n      groupHeights,\n      onRowClick,\n      onRowDoubleClick,\n      clickTolerance,\n      groups,\n      horizontalLineClassNamesForGroup,\n      onRowContextClick,\n    } = this.props\n    const lines: React.ReactNode[] = []\n\n    for (let i = 0; i < lineCount; i++) {\n      lines.push(\n        <GroupRow\n          clickTolerance={clickTolerance}\n          onContextMenu={(evt) => onRowContextClick(evt, i)}\n          onClick={(evt) => onRowClick(evt, i)}\n          onDoubleClick={(evt) => onRowDoubleClick(evt, i)}\n          key={`horizontal-line-${i}`}\n          isEvenRow={i % 2 === 0}\n          group={groups[i]}\n          horizontalLineClassNamesForGroup={horizontalLineClassNamesForGroup}\n          style={{\n            width: `${canvasWidth}px`,\n            height: `${groupHeights[i]}px`,\n          }}\n        />,\n      )\n    }\n\n    return <div className=\"rct-horizontal-lines\">{lines}</div>\n  }\n}\n","import { Component, createRef, CSSProperties, ReactNode } from 'react'\nimport { getParentPosition } from '../utility/dom-helpers'\n\ntype Props = {\n  children: ReactNode\n  width: number\n  height: number\n  traditionalZoom: boolean\n  scrollRef: (e: HTMLDivElement) => void\n  onZoom: (n: number, m: number) => void\n  onWheelZoom: (speed: number, xPosition: number, deltaY: number) => void\n  onScroll: (n: number) => void\n}\n\ntype State = {\n  isDragging: boolean\n}\n\nclass ScrollElement extends Component<Props, State> {\n  scrollComponentRef = createRef<HTMLDivElement>()\n  private dragLastPosition: number | null = null\n  private lastTouchDistance: number | null = null\n  private singleTouchStart: { x: number; y: number; screenY: number } | null = null\n  private lastSingleTouch: { x: number; y: number; screenY: number } | null = null\n  private isItemInteraction: boolean = false\n  constructor(props: Props) {\n    super(props)\n    this.state = {\n      isDragging: false,\n    }\n  }\n  componentDidMount() {\n    if (this.scrollComponentRef.current) {\n      this.props.scrollRef(this.scrollComponentRef.current)\n      this.scrollComponentRef.current.addEventListener('wheel', this.handleWheel, { passive: false })\n      this.scrollComponentRef.current.addEventListener('itemInteraction', this.handleItemInteract)\n      this.scrollComponentRef.current.addEventListener('pointerdown', this.handlePointerStart, { passive: false })\n      this.scrollComponentRef.current.addEventListener('pointermove', this.handlePointerMove, { passive: false })\n      this.scrollComponentRef.current.addEventListener('pointerup', this.handlePointerEnd)\n      this.scrollComponentRef.current.addEventListener('pointerleave', this.handlePointerLeave)\n    }\n  }\n\n  handlePointerStart = (e: PointerEvent) => {\n    if (e.pointerType === 'touch') {\n      this.handleTouchStart(e)\n    } else if (e.pointerType === 'mouse') {\n      this.handleMouseDown(e)\n    }\n  }\n\n  handlePointerMove = (e: PointerEvent) => {\n    if (e.pointerType === 'touch') {\n      this.handleTouchMove(e)\n    } else if (e.pointerType === 'mouse') {\n      this.handleMouseMove(e)\n    }\n  }\n\n  handlePointerEnd = (e: PointerEvent) => {\n    if (e.pointerType === 'touch') {\n      this.handleTouchEnd()\n    } else if (e.pointerType === 'mouse') {\n      this.handleMouseUp()\n    }\n  }\n\n  /**\n   * needed to handle scrolling with trackpad\n   */\n  handleScroll = () => {\n    const scrollX = this.scrollComponentRef.current!.scrollLeft\n    this.props.onScroll(scrollX)\n  }\n\n  handleWheel = (e: WheelEvent) => {\n    //const { traditionalZoom } = this.props\n\n    // zoom in the time dimension\n    if (e.ctrlKey || e.metaKey || e.altKey) {\n      e.preventDefault()\n      const parentPosition = getParentPosition(e.currentTarget as HTMLElement)\n      const xPosition = e.clientX - parentPosition.x\n\n      const speed = e.ctrlKey ? 10 : e.metaKey ? 3 : 1\n\n      // convert vertical zoom to horiziontal\n      this.props.onWheelZoom(speed, xPosition, e.deltaY)\n    } else if (e.shiftKey) {\n      e.preventDefault()\n      // shift+scroll event from a touchpad has deltaY property populated; shift+scroll event from a mouse has deltaX\n      this.props.onScroll(this.scrollComponentRef.current!.scrollLeft + (e.deltaY || e.deltaX))\n      // no modifier pressed? we prevented the default event, so scroll or zoom as needed\n    }\n  }\n\n  handleMouseDown = (e: PointerEvent) => {\n    if (e.button === 0) {\n      this.dragLastPosition = e.pageX\n      this.setState({\n        isDragging: true,\n      })\n    }\n  }\n\n  handleMouseMove = (e: PointerEvent) => {\n    //why is interacting with item important?\n    if (this.state.isDragging && !this.isItemInteraction) {\n      this.props.onScroll(this.scrollComponentRef.current!.scrollLeft + this.dragLastPosition! - e.pageX)\n      this.dragLastPosition = e.pageX\n    }\n  }\n\n  handleMouseUp = () => {\n    this.dragLastPosition = null\n\n    this.setState({\n      isDragging: false,\n    })\n  }\n\n  handlePointerLeave = (e: PointerEvent) => {\n    if (e.pointerType === 'mouse') {\n      this.dragLastPosition = null\n      this.setState({\n        isDragging: false,\n      })\n    }\n  }\n\n  handleTouchStart = (e: PointerEvent) => {\n    if (e.isPrimary) {\n      e.preventDefault()\n      this.lastTouchDistance = null\n      this.singleTouchStart = { x: e.clientX, y: e.clientY, screenY: window.scrollY }\n      this.lastSingleTouch = { x: e.clientX, y: e.clientY, screenY: window.scrollY }\n    } else {\n      e.preventDefault()\n      this.lastTouchDistance = Math.abs(e.clientX - this.singleTouchStart!.x)\n      this.singleTouchStart = null\n      this.lastSingleTouch = null\n    }\n  }\n\n  handleTouchMove = (e: PointerEvent) => {\n    const { width, onZoom } = this.props\n    if (this.isItemInteraction) {\n      e.preventDefault()\n      return\n    }\n    if (this.lastTouchDistance && !e.isPrimary) {\n      e.preventDefault()\n      const touchDistance = Math.abs(e.clientX - this.singleTouchStart!.x)\n      const parentPosition = getParentPosition(e.currentTarget as HTMLElement)\n      const xPosition = (e.clientX + this.singleTouchStart!.x) / 2 - parentPosition.x\n      if (touchDistance !== 0 && this.lastTouchDistance !== 0) {\n        onZoom(this.lastTouchDistance / touchDistance, xPosition / width)\n        this.lastTouchDistance = touchDistance\n      }\n    } else if (this.lastSingleTouch && e.isPrimary) {\n      e.preventDefault()\n      const x = e.clientX\n      const y = e.clientY\n      const deltaX = x - this.lastSingleTouch.x\n      const deltaX0 = x - this.singleTouchStart!.x\n      const deltaY0 = y - this.singleTouchStart!.y\n      this.lastSingleTouch = { x: x, y: y, screenY: window.pageYOffset }\n      const moveX = Math.abs(deltaX0) * 3 > Math.abs(deltaY0)\n      const moveY = Math.abs(deltaY0) * 3 > Math.abs(deltaX0)\n      if (deltaX !== 0 && moveX) {\n        this.props.onScroll(this.scrollComponentRef.current!.scrollLeft - deltaX)\n      }\n      if (moveY) {\n        window.scrollTo(window.scrollX, this.singleTouchStart!.screenY - deltaY0)\n      }\n    }\n  }\n\n  handleTouchEnd = () => {\n    if (this.lastTouchDistance) {\n      this.lastTouchDistance = null\n    }\n    if (this.lastSingleTouch) {\n      this.lastSingleTouch = null\n      this.singleTouchStart = null\n    }\n  }\n  handleItemInteract = (e: Event) => {\n    this.isItemInteraction = (e as CustomEvent<{ itemInteraction: boolean }>).detail.itemInteraction\n  }\n\n  componentWillUnmount() {\n    if (this.scrollComponentRef.current) {\n      this.scrollComponentRef.current.removeEventListener('wheel', this.handleWheel)\n      this.scrollComponentRef.current.removeEventListener('itemInteraction', this.handleItemInteract)\n      this.scrollComponentRef.current.removeEventListener('pointerdown', this.handlePointerStart)\n      this.scrollComponentRef.current.removeEventListener('pointermove', this.handlePointerMove)\n      this.scrollComponentRef.current.removeEventListener('pointerup', this.handlePointerEnd)\n      this.scrollComponentRef.current.removeEventListener('pointerleave', this.handlePointerLeave)\n    }\n  }\n\n  render() {\n    const { width, height, children } = this.props\n    const { isDragging } = this.state\n\n    const scrollComponentStyle: CSSProperties = {\n      width: `${width}px`,\n      height: `${height + 20}px`, //20px to push the scroll element down off screen...?\n      cursor: isDragging ? 'move' : 'default',\n      position: 'relative',\n    }\n\n    return (\n      <div\n        ref={this.scrollComponentRef}\n        data-testid=\"scroll-element\"\n        className=\"rct-scroll\"\n        style={scrollComponentStyle}\n        onScroll={this.handleScroll}\n      >\n        {children}\n      </div>\n    )\n  }\n}\n\nexport default ScrollElement\n","import React from 'react'\n\nconst defaultContextState = {\n  subscribeToMouseOver: () => {\n    console.warn('\"subscribeToMouseOver\" default func is being used')\n    return () => {}\n  },\n}\n\nexport type HandleCanvasMouseOver = ({\n  leftOffset,\n  date,\n  isCursorOverCanvas,\n}: {\n  leftOffset: number\n  date: number\n  isCursorOverCanvas: boolean\n}) => void\nexport type MarkerCanvasContext = {\n  subscribeToMouseOver: (p: HandleCanvasMouseOver) => () => void\n}\n\nconst { Consumer, Provider } =\n  React.createContext<MarkerCanvasContext>(defaultContextState)\n\nexport const MarkerCanvasProvider = Provider\nexport const MarkerCanvasConsumer = Consumer\n","import React, { PropsWithChildren } from 'react'\nimport { noop } from '../utility/generic'\nimport { MarkerType } from './markerType'\n\nexport type SubscribeReturn = {\n  unsubscribe: () => void\n  getMarker: () => MarkerType\n}\ntype TimelineMarkersContextValue = {\n  markers: MarkerType[]\n  subscribeMarker: (newe: MarkerType) => SubscribeReturn;\n  updateMarker: (upd: MarkerType) => void\n}\n\nconst defaultContextState: TimelineMarkersContextValue = {\n  markers: [],\n  subscribeMarker: () => {\n    // eslint-disable-next-line\n    console.warn('default subscribe marker used')\n    return {\n      unsubscribe: noop,\n      getMarker: noop\n    } as SubscribeReturn\n  },\n  updateMarker: () => {\n    // eslint-disable-next-line\n    console.warn('default subscribe marker used')\n    return noop\n  },\n}\n\nconst { Consumer, Provider } =\n  React.createContext<TimelineMarkersContextValue>(defaultContextState)\n\n// REVIEW: is this the best way to manage ids?\nlet _id = 0\nconst createId = () => {\n  _id += 1\n  return _id + 1\n}\n\nexport class TimelineMarkersProvider extends React.Component<\n  PropsWithChildren,\n  TimelineMarkersContextValue\n> {\n  handleSubscribeToMarker = (newMarker: MarkerType): SubscribeReturn => {\n    newMarker = {\n      ...newMarker,\n      // REVIEW: in the event that we accept id to be passed to the Marker components, this line would override those\n      id: createId(),\n    }\n\n    this.setState((state) => {\n      return {\n        markers: [...state.markers, newMarker],\n      }\n    })\n    return {\n      unsubscribe: () => {\n        this.setState((state) => {\n          return {\n            markers: state.markers.filter(\n              (marker) => marker.id !== newMarker.id,\n            ),\n          }\n        })\n      },\n      getMarker: () => {\n        return newMarker\n      },\n    }\n  }\n\n  handleUpdateMarker = (updateMarker: MarkerType) => {\n    const markerIndex = this.state.markers.findIndex(\n      (marker) => marker.id === updateMarker.id,\n    )\n    if (markerIndex < 0) return\n    this.setState((state) => {\n      return {\n        markers: [\n          ...state.markers.slice(0, markerIndex),\n          updateMarker,\n          ...state.markers.slice(markerIndex + 1),\n        ],\n      }\n    })\n  }\n  constructor(props: any) {\n    super(props)\n    this.state = {\n      markers: [],\n      subscribeMarker: this.handleSubscribeToMarker,\n      updateMarker: this.handleUpdateMarker,\n    }\n  }\n\n  render() {\n    return <Provider value={this.state}>{this.props.children}</Provider>\n  }\n}\n\nexport const TimelineMarkersConsumer = Consumer\n","import React, { ReactNode } from 'react'\n\nexport enum TimelineMarkerType {\n  Today = 'Today',\n  Custom = 'Custom',\n  Cursor = 'Cursor',\n}\n\nexport type MarkerType = {\n  date?: number\n  type: TimelineMarkerType\n  renderer?: MarkerRendererType\n  interval?: number\n  id?: number\n}\n\nexport type MarkerRendererTypeProps = { styles: React.CSSProperties; date: number }\nexport type MarkerRendererType = ({ styles, date }: MarkerRendererTypeProps) => ReactNode\n","import React from 'react'\n\n/**\n * Baseline styles to get the marker to render correctly\n */\nconst criticalStyles: React.CSSProperties = {\n  position: 'absolute',\n  top: 0,\n  bottom: 0,\n  width: '2px',\n  backgroundColor: 'black',\n  // by default, pointer events (specifically click) will\n  // \"pass through\".  This is added so that CursorMarker\n  // will not get in the way of canvas click\n  pointerEvents: 'none',\n}\n\n// FIXME: this creates a new object each time in render\n// might want to memoize this?\nexport const createMarkerStylesWithLeftOffset = (leftOffset: number) => ({\n  ...criticalStyles,\n  left: leftOffset,\n})\n\nexport const createDefaultRenderer = (dataTestidValue: string | undefined) => {\n  // eslint-disable-next-line\n  return function DefaultMarkerRenderer({\n    styles,\n  }: {\n    styles: React.CSSProperties\n  }) {\n    return <div style={styles} data-testid={dataTestidValue} />\n  }\n}\n","import React from 'react'\nimport {\n  createMarkerStylesWithLeftOffset,\n  createDefaultRenderer,\n} from './shared'\nimport { MarkerRendererType } from '../markerType'\n\nconst defaultRenderer = createDefaultRenderer('default-today-line')\n\ntype TodayMarkerProps = {\n  getLeftOffsetFromDate: (date: number) => number\n  renderer: MarkerRendererType\n  interval: number\n}\n\n/** Marker that is placed based on current date.  This component updates itself on\n * a set interval, dictated by the 'interval' prop.\n */\nclass TodayMarker extends React.Component<TodayMarkerProps> {\n  public static defaultProps = {\n    renderer: defaultRenderer,\n  }\n\n  state = {\n    date: Date.now(),\n  }\n  private intervalToken: NodeJS.Timeout | undefined\n\n  componentDidMount() {\n    this.intervalToken = this.createIntervalUpdater(this.props.interval)\n  }\n\n  componentDidUpdate(prevProps: TodayMarkerProps) {\n    if (prevProps.interval !== this.props.interval) {\n      clearInterval(this.intervalToken)\n      this.intervalToken = this.createIntervalUpdater(this.props.interval)\n    }\n  }\n\n  createIntervalUpdater(interval: number) {\n    return setInterval(() => {\n      this.setState({\n        date: Date.now(), // FIXME: use date utils pass in as props\n      })\n    }, interval)\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalToken)\n  }\n\n  render() {\n    const { date } = this.state\n    const leftOffset = this.props.getLeftOffsetFromDate(date)\n    const styles = createMarkerStylesWithLeftOffset(leftOffset)\n    return this.props.renderer({ styles, date })\n  }\n}\n\nexport default TodayMarker\n","import React from 'react'\nimport { createMarkerStylesWithLeftOffset, createDefaultRenderer } from './shared'\nimport { MarkerRendererType } from '../markerType'\n\nconst defaultCustomMarkerRenderer = createDefaultRenderer('default-customer-marker-id')\ntype CustomMarkerProps = {\n  date: number\n  getLeftOffsetFromDate: (date: number) => number\n  renderer: MarkerRendererType\n}\n\n/**\n * CustomMarker that is placed based on passed in date prop\n */\nclass CustomMarker extends React.Component<CustomMarkerProps> {\n  public static defaultProps = {\n    renderer: defaultCustomMarkerRenderer,\n  }\n  render() {\n    const { date } = this.props\n    const leftOffset = this.props.getLeftOffsetFromDate(date)\n\n    const styles = createMarkerStylesWithLeftOffset(leftOffset)\n    return this.props.renderer({ styles, date })\n  }\n}\n\nexport default CustomMarker\n","import React from 'react'\nimport { createMarkerStylesWithLeftOffset, createDefaultRenderer } from './shared'\nimport { HandleCanvasMouseOver, MarkerCanvasConsumer } from '../MarkerCanvasContext'\nimport { MarkerRendererType } from '../markerType'\n\nconst defaultRenderer = createDefaultRenderer('default-cursor-marker')\n\ntype CursorMarkerWrapperProps = {\n  getLeftOffsetFromDate: (date: number) => number\n  renderer?: MarkerRendererType\n  //interval: number\n}\n\ntype CursorMarkerProps = CursorMarkerWrapperProps & {\n  subscribeToCanvasMouseOver: (p: HandleCanvasMouseOver) => () => void\n}\n\ntype CursorMarkerStat = {\n  leftOffset: number\n  date: number\n  isShowingCursor: boolean\n}\n\n/**\n * CursorMarker implementation subscribes to 'subscribeToCanvasMouseOver' on mount.\n * This subscription is passed in via MarkerCanvasConsumer, which is wired up to\n * MarkerCanvasProvider in the MarkerCanvas component. When the user mouses over MarkerCanvas,\n * the callback registered in CursorMarker (this component) is passed:\n *  leftOffset - pixels from left edge of canvas, used to position this element\n *  date - the date the cursor pertains to\n *  isCursorOverCanvas - whether the user cursor is over the canvas. This is set to 'false'\n *  when the user mouseleaves the element\n */\nclass CursorMarker extends React.Component<CursorMarkerProps, CursorMarkerStat> {\n  public static defaultProps = {\n    renderer: defaultRenderer,\n  }\n\n  constructor(props: any) {\n    super(props)\n\n    this.state = {\n      leftOffset: 0,\n      date: 0,\n      isShowingCursor: false,\n    }\n  }\n\n  handleCanvasMouseOver = ({ leftOffset, date, isCursorOverCanvas }: { leftOffset: number; date: number; isCursorOverCanvas: boolean }) => {\n    this.setState({\n      leftOffset,\n      date,\n      isShowingCursor: isCursorOverCanvas,\n    })\n  }\n  private unsubscribe?: ReturnType<CursorMarkerProps['subscribeToCanvasMouseOver']>\n\n  componentDidMount() {\n    this.unsubscribe = this.props.subscribeToCanvasMouseOver(this.handleCanvasMouseOver)\n  }\n\n  componentWillUnmount() {\n    if (this.unsubscribe) {\n      this.unsubscribe()\n      this.unsubscribe = undefined\n    }\n  }\n\n  render() {\n    const { isShowingCursor, leftOffset, date } = this.state\n\n    if (!isShowingCursor) return null\n\n    const styles = createMarkerStylesWithLeftOffset(leftOffset)\n    if(!this.props.renderer)return null;\n    return this.props.renderer({ styles, date })\n  }\n}\n\nconst CursorMarkerWrapper = (props: CursorMarkerWrapperProps) => {\n  return (\n    <MarkerCanvasConsumer>\n      {({ subscribeToMouseOver }) => {\n        return <CursorMarker subscribeToCanvasMouseOver={subscribeToMouseOver} {...props} />\n      }}\n    </MarkerCanvasConsumer>\n  )\n}\n\nCursorMarkerWrapper.displayName = 'CursorMarkerWrapper'\n\nexport default CursorMarkerWrapper\n","import { TimelineMarkersConsumer } from './TimelineMarkersContext'\nimport { TimelineMarkerType } from './markerType'\nimport TodayMarker from './implementations/TodayMarker'\nimport CustomMarker from './implementations/CustomMarker'\nimport { TimelineStateConsumer } from '../timeline/TimelineStateContext'\nimport CursorMarker from './implementations/CursorMarker'\n\n/** Internal component used in timeline to render markers registered */\nconst TimelineMarkersRenderer = () => {\n  return (\n    <TimelineStateConsumer>\n      {({ getLeftOffsetFromDate, getTimelineState }) => (\n        <TimelineMarkersConsumer>\n          {({ markers }) => {\n            const timelineState = getTimelineState()\n            return markers.map((marker) => {\n              switch (marker.type) {\n                case TimelineMarkerType.Today:\n                  if (\n                    !(\n                      new Date().valueOf() >= timelineState.canvasTimeStart &&\n                      new Date().valueOf() <= timelineState.canvasTimeEnd\n                    )\n                  )\n                    return null\n                  return (\n                    <TodayMarker\n                      key={marker.id}\n                      getLeftOffsetFromDate={getLeftOffsetFromDate}\n                      renderer={marker.renderer}\n                      interval={marker.interval!}\n                    />\n                  )\n                case TimelineMarkerType.Custom:\n                  //filter out cursors outside canvas start/end\n                  if (\n                    !(\n                      marker.date! >= timelineState.canvasTimeStart &&\n                      marker.date! <= timelineState.canvasTimeEnd\n                    )\n                  )\n                    return null\n                  return (\n                    <CustomMarker\n                      key={marker.id}\n                      renderer={marker.renderer}\n                      date={marker.date!}\n                      getLeftOffsetFromDate={getLeftOffsetFromDate}\n                    />\n                  )\n                case TimelineMarkerType.Cursor:\n                  return (\n                    <CursorMarker\n                      key={marker.id}\n                      renderer={marker.renderer}\n                      getLeftOffsetFromDate={getLeftOffsetFromDate}\n                    />\n                  )\n                default:\n                  return null\n              }\n            })\n          }}\n        </TimelineMarkersConsumer>\n      )}\n    </TimelineStateConsumer>\n  )\n}\n\nexport default TimelineMarkersRenderer\n","import React, { MouseEventHandler, PropsWithChildren } from 'react'\nimport {\n  MarkerCanvasContext,\n  MarkerCanvasProvider,\n} from './MarkerCanvasContext'\nimport TimelineMarkersRenderer from './TimelineMarkersRenderer'\nimport { TimelineStateConsumer } from '../timeline/TimelineStateContext'\n\n// expand to fill entire parent container (ScrollElement)\nconst staticStyles: React.CSSProperties = {\n  position: 'absolute',\n  left: 0,\n  right: 0,\n  top: 0,\n  bottom: 0,\n}\n\ntype MarkerCanvasProps = {\n  getDateFromLeftOffsetPosition: (offset: number) => number\n}\n\n/**\n * Renders registered markers and exposes a mouse over listener for\n * CursorMarkers to subscribe to\n */\nclass MarkerCanvas extends React.Component<\n  PropsWithChildren<MarkerCanvasProps>\n> {\n  handleMouseMove: MouseEventHandler<HTMLDivElement> = (evt) => {\n    if (this.subscription !== null) {\n      const { pageX } = evt\n      // FIXME: dont use getBoundingClientRect. Use passed in scroll amount\n      const { left: containerLeft } =\n        this.containerEl.current?.getBoundingClientRect() ?? {\n          left: 0,\n        }\n\n      // number of pixels from left we are on canvas\n      // we do this calculation as pageX is based on x from viewport whereas\n      // our canvas can be scrolled left and right and is generally outside\n      // of the viewport.  This calculation is to get how many pixels the cursor\n      // is from left of this element\n      const canvasX = pageX - containerLeft\n      const date = this.props.getDateFromLeftOffsetPosition(canvasX)\n      this.subscription({\n        leftOffset: canvasX,\n        date,\n        isCursorOverCanvas: true,\n      })\n    }\n  }\n\n  handleMouseLeave: MouseEventHandler<HTMLDivElement> = () => {\n    if (this.subscription !== null) {\n      // tell subscriber that we're not on canvas\n      this.subscription({ leftOffset: 0, date: 0, isCursorOverCanvas: false })\n    }\n  }\n\n  handleMouseMoveSubscribe: MarkerCanvasContext['subscribeToMouseOver'] = (\n    sub,\n  ) => {\n    this.subscription = sub\n    return () => {\n      this.subscription = null\n    }\n  }\n\n  state: MarkerCanvasContext = {\n    subscribeToMouseOver: this.handleMouseMoveSubscribe,\n  }\n\n  containerEl = React.createRef<HTMLDivElement>()\n  private subscription: ((s: any) => void) | null = null\n\n  render() {\n    return (\n      <MarkerCanvasProvider value={this.state}>\n        <div\n          style={staticStyles}\n          onMouseMove={this.handleMouseMove}\n          onMouseLeave={this.handleMouseLeave}\n          ref={this.containerEl}\n        >\n          <TimelineMarkersRenderer />\n          {this.props.children}\n        </div>\n      </MarkerCanvasProvider>\n    )\n  }\n}\n\nconst MarkerCanvasWrapper = (\n  props: Omit<MarkerCanvasProps, 'getDateFromLeftOffsetPosition'>,\n) => (\n  <TimelineStateConsumer>\n    {({ getDateFromLeftOffsetPosition }) => (\n      <MarkerCanvas\n        getDateFromLeftOffsetPosition={getDateFromLeftOffsetPosition}\n        {...props}\n      />\n    )}\n  </TimelineStateConsumer>\n)\n\nexport default MarkerCanvasWrapper\n","function addListener(component: {\n  _resizeEventListener?: (e: UIEvent) => void\n  resize: () => void\n}) {\n  component._resizeEventListener = () => component.resize()\n\n  window.addEventListener('resize', component._resizeEventListener)\n}\n\nfunction removeListener(component: Record<string, any>) {\n  window.removeEventListener('resize', component._resizeEventListener!)\n}\n\nexport default { addListener, removeListener }\n","export const defaultKeys = {\n  groupIdKey: 'id',\n  groupTitleKey: 'title',\n  groupRightTitleKey: 'rightTitle',\n  groupLabelKey: 'title',\n  itemIdKey: 'id',\n  itemTitleKey: 'title',\n  itemDivTitleKey: 'title',\n  itemGroupKey: 'group',\n  itemTimeStartKey: 'start_time',\n  itemTimeEndKey: 'end_time',\n}\n\nexport const defaultTimeSteps = {\n  second: 1,\n  minute: 1,\n  hour: 1,\n  day: 1,\n  month: 1,\n  year: 1,\n}\n\ntype UnitValue = {\n  long: string\n  mediumLong: string\n  medium: string\n  short: string\n}\nexport const defaultHeaderFormats: Record<string, UnitValue> = {\n  year: {\n    long: 'YYYY',\n    mediumLong: 'YYYY',\n    medium: 'YYYY',\n    short: 'YY',\n  },\n  month: {\n    long: 'MMMM YYYY',\n    mediumLong: 'MMMM',\n    medium: 'MMMM',\n    short: 'MM/YY',\n  },\n  week: {\n    long: 'w',\n    mediumLong: 'w',\n    medium: 'w',\n    short: 'w',\n  },\n  day: {\n    long: 'dddd, LL',\n    mediumLong: 'dddd, LL',\n    medium: 'dd D',\n    short: 'D',\n  },\n  hour: {\n    long: 'dddd, LL, HH:00',\n    mediumLong: 'L, HH:00',\n    medium: 'HH:00',\n    short: 'HH',\n  },\n  minute: {\n    long: 'HH:mm',\n    mediumLong: 'HH:mm',\n    medium: 'HH:mm',\n    short: 'mm',\n  },\n  second: {\n    long: 'mm:ss',\n    mediumLong: 'mm:ss',\n    medium: 'mm:ss',\n    short: 'ss',\n  },\n}\n","import React, { ReactNode, useContext } from 'react'\nimport { noop } from '../utility/generic'\n\nconst defaultContextState = {\n  registerScroll: () => {\n    // eslint-disable-next-line\n    console.warn('default registerScroll header used')\n    return noop\n  },\n  rightSidebarWidth: 0,\n  leftSidebarWidth: 150,\n  timeSteps: {},\n}\n\nconst HeaderContext = React.createContext<typeof defaultContextState>(defaultContextState)\n\nexport type TimelineHeadersProviderProps = {\n  children: ReactNode\n  rightSidebarWidth?: number\n  leftSidebarWidth: number\n  //TODO: maybe this should be skipped?\n  timeSteps: object\n  registerScroll: (e: HTMLDivElement) => void\n}\nexport class TimelineHeadersProvider extends React.Component<TimelineHeadersProviderProps> {\n  render() {\n    const contextValue = {\n      rightSidebarWidth: this.props.rightSidebarWidth,\n      leftSidebarWidth: this.props.leftSidebarWidth,\n      timeSteps: this.props.timeSteps,\n      registerScroll: this.props.registerScroll,\n    } as typeof defaultContextState\n    return <HeaderContext.Provider value={contextValue}>{this.props.children}</HeaderContext.Provider>\n  }\n}\n\nexport const TimelineHeadersContext = HeaderContext\nexport const useTimelineHeadersContext = () => useContext(TimelineHeadersContext)\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","export const LEFT_VARIANT= 'left'\nexport const RIGHT_VARIANT= 'right'\n\n","import React, { CSSProperties, HTMLProps, PureComponent, ReactNode } from 'react'\nimport { useTimelineHeadersContext } from './HeadersContext'\nimport { LEFT_VARIANT, RIGHT_VARIANT } from './constants'\n\ntype GetRootProps = (props?: { style?: React.CSSProperties }) => HTMLProps<HTMLDivElement>\ntype SidebarHeaderProps = {\n  children: (props: { getRootProps: GetRootProps }) => ReactNode\n  rightSidebarWidth?: number\n  leftSidebarWidth: number\n  variant: typeof LEFT_VARIANT | typeof RIGHT_VARIANT\n  headerData?: any\n}\n\nclass SidebarHeader extends PureComponent<SidebarHeaderProps> {\n  getRootProps:GetRootProps = (props: { style?: CSSProperties } = {}) => {\n    const { style } = props\n    const width = this.props.variant === RIGHT_VARIANT ? this.props.rightSidebarWidth : this.props.leftSidebarWidth\n    return {\n      style: {\n        color:style?.color??\"#fff\",\n        ...style,\n        width,\n      },\n    }\n  }\n\n  getStateAndHelpers = () => {\n    return {\n      getRootProps: this.getRootProps,\n      data: this.props.headerData,\n    }\n  }\n\n  render() {\n    const props = this.getStateAndHelpers()\n    return this.props.children(props)\n  }\n}\n\n\n\nexport type SidebarWrapperProps = {\n  children?: (props: { getRootProps: GetRootProps }) => ReactNode\n  variant?: typeof LEFT_VARIANT | typeof RIGHT_VARIANT\n  headerData?: any\n}\n\nconst defaultChildren: SidebarWrapperProps['children'] = ({ getRootProps }: { getRootProps: GetRootProps }) => (\n  <div data-testid=\"sidebarHeader\" {...getRootProps()} />\n)\n\nconst SidebarWrapper = (props: SidebarWrapperProps) => {\n  const { children, variant = LEFT_VARIANT, headerData } = props\n  const { leftSidebarWidth, rightSidebarWidth } = useTimelineHeadersContext()\n  return (\n    <SidebarHeader\n      leftSidebarWidth={leftSidebarWidth}\n      rightSidebarWidth={rightSidebarWidth}\n      variant={variant}\n      headerData={headerData}\n    >\n      {children || defaultChildren}\n    </SidebarHeader>\n  )\n}\n\nSidebarWrapper.secretKey = 'SidebarHeader'\n\nexport default SidebarWrapper\n","import React, { ReactNode, LegacyRef, CSSProperties } from 'react'\nimport classNames from 'classnames'\nimport { useTimelineHeadersContext } from './HeadersContext'\nimport SidebarHeader from './SidebarHeader'\nimport { RIGHT_VARIANT } from './constants'\nimport { ElementWithSecret } from '../types/main'\n\nexport type TimelineHeadersProps = {\n  registerScroll: LegacyRef<HTMLDivElement>\n  leftSidebarWidth: number\n  rightSidebarWidth: number\n  style?: React.CSSProperties\n  children?: ReactNode\n  className?: string\n  calendarHeaderStyle?: React.CSSProperties\n  calendarHeaderClassName?: string\n}\nclass TimelineHeaders extends React.Component<TimelineHeadersProps> {\n  getRootStyle = () => {\n    return {\n      ...this.props.style,\n      display: 'flex',\n      width: '100%',\n    }\n  }\n\n  getCalendarHeaderStyle = () => {\n    const { leftSidebarWidth, rightSidebarWidth, calendarHeaderStyle } = this.props\n    return {\n      ...calendarHeaderStyle,\n      overflow: 'hidden',\n      width: `calc(100% - ${leftSidebarWidth + rightSidebarWidth}px)`,\n    }\n  }\n\n  /**\n   * check if child of type SidebarHeader\n   * refer to for explanation https://github.com/gaearon/react-hot-loader#checking-element-types\n   */\n  isSidebarHeader = (child: ElementWithSecret) => {\n    if (child.type === undefined) return false\n    return child.type.secretKey === SidebarHeader.secretKey\n  }\n\n  render() {\n    let rightSidebarHeader\n    let leftSidebarHeader\n    const calendarHeaders: ElementWithSecret[] = []\n    const children: ElementWithSecret[] = Array.isArray(this.props.children)\n      ? this.props.children.filter((c) => c)\n      : [this.props.children]\n    React.Children.map(children, (child) => {\n      if (this.isSidebarHeader(child)) {\n        if (child?.props?.variant === RIGHT_VARIANT) {\n          rightSidebarHeader = child\n        } else {\n          leftSidebarHeader = child\n        }\n      } else {\n        calendarHeaders.push(child)\n      }\n    })\n    if (!leftSidebarHeader) {\n      leftSidebarHeader = <SidebarHeader />\n    }\n    if (!rightSidebarHeader && this.props.rightSidebarWidth) {\n      rightSidebarHeader = <SidebarHeader variant=\"right\" />\n    }\n    return (\n      <div\n        data-testid=\"headerRootDiv\"\n        style={this.getRootStyle()}\n        className={classNames('rct-header-root', this.props.className)}\n      >\n        {leftSidebarHeader}\n        <div\n          ref={this.props.registerScroll}\n          style={this.getCalendarHeaderStyle()}\n          className={classNames('rct-calendar-header', this.props.calendarHeaderClassName)}\n          data-testid=\"headerContainer\"\n        >\n          {calendarHeaders}\n        </div>\n        {rightSidebarHeader}\n      </div>\n    )\n  }\n}\n\nexport interface TimelineHeadersWrapperProps {\n  children: ReactNode\n  style?: CSSProperties\n  className?: string\n  calendarHeaderStyle?: CSSProperties\n  calendarHeaderClassName?: string\n}\nconst TimelineHeadersWrapper = ({\n  children,\n  style,\n  className,\n  calendarHeaderStyle,\n  calendarHeaderClassName,\n}: TimelineHeadersWrapperProps) => {\n  const { leftSidebarWidth, rightSidebarWidth, registerScroll } = useTimelineHeadersContext()\n  return (\n    <TimelineHeaders\n      leftSidebarWidth={leftSidebarWidth}\n      rightSidebarWidth={rightSidebarWidth}\n      registerScroll={registerScroll}\n      style={style}\n      className={className}\n      calendarHeaderStyle={calendarHeaderStyle}\n      calendarHeaderClassName={calendarHeaderClassName}\n    >\n      {children}\n    </TimelineHeaders>\n  )\n}\n\nTimelineHeadersWrapper.secretKey = 'TimelineHeaders'\n\nexport default TimelineHeadersWrapper\n","import React, { CSSProperties, ReactNode } from 'react'\nimport { useTimelineHeadersContext } from './HeadersContext'\nimport { useTimelineState } from '../timeline/TimelineStateContext'\nimport { iterateTimes } from '../utility/calendar'\nimport { Interval, TimelineTimeSteps } from '../types/main'\nimport { Dayjs } from 'dayjs'\nimport { CustomDateHeaderProps } from './CustomDateHeader'\nimport isEqual from 'lodash/isEqual'\nimport { GetIntervalPropsType } from './types'\n\nexport type CustomHeaderProps<Data> = {\n  children: (p: CustomDateHeaderProps<Data>) => ReactNode\n  unit: keyof TimelineTimeSteps\n  timeSteps: any\n  visibleTimeStart: number\n  visibleTimeEnd: number\n  canvasTimeStart: number\n  canvasTimeEnd: number\n  canvasWidth: number\n  showPeriod: (start: Dayjs, end: Dayjs) => void\n  headerData?: Data\n  getLeftOffsetFromDate: (date: any) => number\n  height: number\n  timelineWidth: number\n}\n\ntype GetHeaderIntervalsParams = {\n  canvasTimeStart: number\n  canvasTimeEnd: number\n  unit: keyof TimelineTimeSteps\n  timeSteps: any\n  getLeftOffsetFromDate: (date: any) => number\n}\n\ntype GetHeaderIntervalsFn = (params: GetHeaderIntervalsParams) => Interval[]\n\ntype State = {\n  intervals: Interval[]\n}\n\nclass CustomHeader<Data> extends React.Component<CustomHeaderProps<Data>, State> {\n  constructor(props: CustomHeaderProps<Data>) {\n    super(props)\n    const { canvasTimeStart, canvasTimeEnd, unit, timeSteps, getLeftOffsetFromDate } = props\n\n    const intervals = this.getHeaderIntervals({\n      canvasTimeStart,\n      canvasTimeEnd,\n      unit,\n      timeSteps,\n      getLeftOffsetFromDate,\n    })\n\n    this.state = {\n      intervals,\n    }\n  }\n\n  static defaultProps = {\n    height: 30,\n  }\n\n  /*shouldComponentUpdate(nextProps: CustomHeaderProps<Data>) {\n    if (\n      nextProps.canvasTimeStart !== this.props.canvasTimeStart ||\n      nextProps.canvasTimeEnd !== this.props.canvasTimeEnd ||\n      nextProps.canvasWidth !== this.props.canvasWidth ||\n      nextProps.unit !== this.props.unit ||\n      nextProps.timeSteps !== this.props.timeSteps ||\n      nextProps.showPeriod !== this.props.showPeriod ||\n      nextProps.children !== this.props.children ||\n      nextProps.headerData !== this.props.headerData\n    ) {\n      return true\n    }\n    return false\n  }*/\n  componentDidUpdate(prevProps: CustomHeaderProps<Data>) {\n    if (\n      !isEqual(prevProps, this.props)\n      //prevProps.canvasTimeStart !== this.props.canvasTimeStart ||\n      //prevProps.canvasTimeEnd !== this.props.canvasTimeEnd ||\n      //prevProps.canvasWidth !== this.props.canvasWidth ||\n      //prevProps.unit !== this.props.unit ||\n      //prevProps.timeSteps !== this.props.timeSteps ||\n      //prevProps.showPeriod !== this.props.showPeriod\n    ) {\n      const { canvasTimeStart, canvasTimeEnd, unit, timeSteps, getLeftOffsetFromDate } = this.props\n\n      const intervals = this.getHeaderIntervals({\n        canvasTimeStart,\n        canvasTimeEnd,\n        unit,\n        timeSteps,\n        getLeftOffsetFromDate,\n      })\n\n      this.setState({ intervals })\n    }\n  }\n\n  getHeaderIntervals: GetHeaderIntervalsFn = ({\n    canvasTimeStart,\n    canvasTimeEnd,\n    unit,\n    timeSteps,\n    getLeftOffsetFromDate,\n  }) => {\n    const intervals: Interval[] = []\n    iterateTimes(canvasTimeStart, canvasTimeEnd, unit, timeSteps, (startTime, endTime) => {\n      const left = getLeftOffsetFromDate(startTime.valueOf())\n      const right = getLeftOffsetFromDate(endTime.valueOf())\n      const width = right - left\n      intervals.push({\n        startTime,\n        endTime,\n        labelWidth: width,\n        left,\n      })\n    })\n    return intervals\n  }\n\n  getRootProps = (props: { style?: CSSProperties } = {}) => {\n    const { style } = props\n    return {\n      style: Object.assign({}, style ? style : {}, {\n        position: 'relative',\n        width: this.props.canvasWidth,\n        height: this.props.height,\n      }),\n    }\n  }\n\n  getIntervalProps: GetIntervalPropsType = (props: { interval?: Interval; style?: CSSProperties } = {}) => {\n    const { interval, style } = props\n    if (!interval) throw new Error('you should provide interval to the prop getter')\n    const { startTime, labelWidth, left } = interval\n    return {\n      style: {\n        ...style,\n        left,\n        width: labelWidth,\n        position: 'absolute',\n      },\n      key: `label-${startTime.valueOf()}`,\n    }\n  }\n\n  getStateAndHelpers = (): CustomDateHeaderProps<Data> => {\n    const {\n      /*canvasTimeStart,\n      canvasTimeEnd,\n      timelineWidth,\n      visibleTimeStart,\n      visibleTimeEnd,*/\n      unit,\n      showPeriod,\n      headerData,\n    } = this.props\n    //TODO: only evaluate on changing params\n\n    return {\n      /*timelineContext: {\n        timelineWidth,\n        visibleTimeStart,\n        visibleTimeEnd,\n        canvasTimeStart,\n        canvasTimeEnd,\n      },*/\n      headerContext: {\n        unit,\n        intervals: this.state.intervals,\n      },\n      getRootProps: this.getRootProps,\n      getIntervalProps: this.getIntervalProps,\n      showPeriod,\n      data: headerData as any,\n    }\n  }\n\n  render() {\n    const props = this.getStateAndHelpers()\n    return this.props.children(props)\n  }\n}\n\nexport type CustomHeaderWrapperProps<Data> = {\n  children: (p: CustomDateHeaderProps<Data>) => ReactNode\n  unit?: keyof TimelineTimeSteps\n  headerData?: Data\n  height?: number | undefined\n}\n\nfunction CustomHeaderWrapper<Data>({ children, unit, headerData, height }: CustomHeaderWrapperProps<Data>) {\n  const { getTimelineState, showPeriod, getLeftOffsetFromDate } = useTimelineState()\n  const timelineState = getTimelineState()\n  const { timeSteps } = useTimelineHeadersContext()\n  return (\n    <CustomHeader\n      children={children}\n      timeSteps={timeSteps}\n      showPeriod={showPeriod}\n      unit={unit ? unit : timelineState.timelineUnit}\n      {...timelineState}\n      headerData={headerData}\n      getLeftOffsetFromDate={getLeftOffsetFromDate}\n      height={height}\n    />\n  )\n}\n\nexport default CustomHeaderWrapper\n","var safeIsNaN = Number.isNaN ||\n    function ponyfill(value) {\n        return typeof value === 'number' && value !== value;\n    };\nfunction isEqual(first, second) {\n    if (first === second) {\n        return true;\n    }\n    if (safeIsNaN(first) && safeIsNaN(second)) {\n        return true;\n    }\n    return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (!isEqual(newInputs[i], lastInputs[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var cache = null;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (cache && cache.lastThis === this && isEqual(newArgs, cache.lastArgs)) {\n            return cache.lastResult;\n        }\n        var lastResult = resultFn.apply(this, newArgs);\n        cache = {\n            lastResult: lastResult,\n            lastArgs: newArgs,\n            lastThis: this,\n        };\n        return lastResult;\n    }\n    memoized.clear = function clear() {\n        cache = null;\n    };\n    return memoized;\n}\n\nexport { memoizeOne as default };\n","import React, { HTMLAttributes, ReactNode } from 'react'\nimport { getNextUnit, SelectUnits } from '../utility/calendar'\nimport { composeEvents } from '../utility/events'\nimport { Dayjs } from 'dayjs'\nimport { IntervalRenderer, Interval as IntervalType, GetIntervalProps } from '../types/main'\nimport { GetIntervalPropsType } from './types'\n\nexport type IntervalProps<Data> = {\n  intervalRenderer: (p: IntervalRenderer<Data>) => ReactNode\n  unit: SelectUnits\n  interval: IntervalType\n  showPeriod: (startTime: Dayjs, endTime: Dayjs) => void\n  intervalText: string\n  primaryHeader: boolean\n  getIntervalProps: GetIntervalPropsType\n\n  headerData?: Data\n}\n\nclass Interval<Data> extends React.PureComponent<IntervalProps<Data>> {\n  onIntervalClick = () => {\n    const { primaryHeader, interval, unit, showPeriod } = this.props\n    if (primaryHeader) {\n      const nextUnit = getNextUnit(unit)\n      const newStartTime = interval.startTime.clone().startOf(nextUnit)\n      const newEndTime = interval.startTime.clone().endOf(nextUnit)\n      showPeriod(newStartTime, newEndTime)\n    } else {\n      showPeriod(interval.startTime, interval.endTime)\n    }\n  }\n\n  getIntervalProps = (props: GetIntervalProps = {}): HTMLAttributes<HTMLDivElement> & { key: string } => {\n    return {\n      ...this.props.getIntervalProps({\n        interval: this.props.interval,\n        ...props,\n      }),\n      onClick: composeEvents(this.onIntervalClick, props.onClick),\n    }\n  }\n\n  render() {\n    const { intervalText, interval, intervalRenderer, headerData } = this.props\n    const Renderer = intervalRenderer\n    if (Renderer) {\n      return Renderer({\n        getIntervalProps: this.getIntervalProps,\n        intervalContext: {\n          interval,\n          intervalText,\n        },\n        data: headerData,\n      })\n    }\n\n    const { key, ...rest } = this.getIntervalProps()\n    return (\n      <div\n        data-testid=\"dateHeaderInterval\"\n        {...rest}\n        key={key}\n        className={`rct-dateHeader ${this.props.primaryHeader ? 'rct-dateHeader-primary' : ''}`}\n      >\n        <span>{intervalText}</span>\n      </div>\n    )\n  }\n}\n\nexport default Interval\n","import React, {HTMLProps} from 'react'\nimport Interval from './Interval'\nimport { Interval as IntervalType, IntervalRenderer } from '../types/main'\nimport { Dayjs } from 'dayjs'\nimport { SelectUnits } from '../utility/calendar'\nimport { GetIntervalPropsType } from './types'\n\nexport interface CustomDateHeaderProps<Data> {\n  headerContext: {\n    intervals: IntervalType[]\n    unit: SelectUnits\n  }\n  getRootProps: (props?: { style?: React.CSSProperties }) => HTMLProps<HTMLDivElement>\n  getIntervalProps: GetIntervalPropsType\n  showPeriod: (start: Dayjs, end: Dayjs) => void\n  data: {\n    style: React.CSSProperties\n    intervalRenderer: (props: IntervalRenderer<Data>) => React.ReactNode\n    className?: string\n    getLabelFormat: (interval: [Dayjs, Dayjs], unit: string, labelWidth: number) => string\n    unitProp?: 'primaryHeader'\n    headerData?: Data\n  }\n}\n\nexport function CustomDateHeader<Data>({\n  headerContext: { intervals, unit },\n  getRootProps,\n  getIntervalProps,\n  showPeriod,\n  data: { style, intervalRenderer, className, getLabelFormat, unitProp, headerData },\n}: CustomDateHeaderProps<Data>) {\n  return (\n    <div data-testid={`dateHeader`} className={className} {...getRootProps({ style })}>\n      {intervals.map((interval) => {\n        const intervalText = getLabelFormat([interval.startTime, interval.endTime], unit, interval.labelWidth)\n        return (\n          <Interval\n            key={`label-${interval.startTime.valueOf()}`}\n            unit={unit}\n            interval={interval}\n            showPeriod={showPeriod}\n            intervalText={intervalText}\n            primaryHeader={unitProp === 'primaryHeader'}\n            getIntervalProps={getIntervalProps}\n            intervalRenderer={intervalRenderer as any}\n            headerData={headerData}\n          />\n        )\n      })}\n    </div>\n  )\n}\n","import React, { CSSProperties, ReactNode } from 'react'\nimport { TimelineStateConsumer } from '../timeline/TimelineStateContext'\nimport CustomHeader from './CustomHeader'\nimport { getNextUnit, SelectUnits } from '../utility/calendar'\nimport { defaultHeaderFormats } from '../default-config'\nimport memoize from 'memoize-one'\nimport { CustomDateHeader } from './CustomDateHeader'\nimport { IntervalRenderer, SidebarHeaderChildrenFnProps, TimelineTimeSteps } from '../types/main'\nimport { Dayjs, UnitType } from 'dayjs'\n\ntype GetHeaderData<Data> = (\n  intervalRenderer: (p: IntervalRenderer<Data>) => ReactNode,\n  style: React.CSSProperties,\n  className: string | undefined,\n  getLabelFormat: (interval: [Dayjs, Dayjs], unit: keyof typeof defaultHeaderFormats, labelWidth: number) => string,\n  unitProp: UnitType | 'primaryHeader' | undefined,\n  headerData: Data | undefined,\n) => {\n  intervalRenderer?: IntervalRenderer<Data>\n  style: React.CSSProperties\n  className: string\n  getLabelFormat: (interval: [Dayjs, Dayjs], unit: keyof typeof defaultHeaderFormats, labelWidth: number) => string\n  unitProp: UnitType | 'primaryHeader' | undefined\n  headerData: Data\n}\nexport interface DateHeaderProps<Data> {\n  style?: CSSProperties | undefined\n  className?: string | undefined\n  unit?: keyof TimelineTimeSteps | 'primaryHeader' | undefined\n  timelineUnit: SelectUnits\n  labelFormat?:\n    | string\n    | FormatLabelFunction\n    | undefined\n  intervalRenderer?: (props: IntervalRenderer<Data>) => ReactNode\n  headerData?: Data | undefined\n  children?: ((props: SidebarHeaderChildrenFnProps<Data>) => ReactNode) | undefined\n  height?: number | undefined\n}\n\nclass DateHeaderInner<Data> extends React.Component<DateHeaderProps<Data>> {\n  getHeaderUnit = (): keyof TimelineTimeSteps => {\n    if (this.props.unit === 'primaryHeader') {\n      return getNextUnit(this.props.timelineUnit)\n    } else if (this.props.unit) {\n      return this.props.unit\n    }\n    return this.props.timelineUnit\n  }\n\n  getRootStyle = memoize((style) => {\n    return {\n      height: 30,\n      ...style,\n    }\n  })\n\n  getLabelFormat = (interval: [Dayjs, Dayjs], unit: keyof typeof defaultHeaderFormats, labelWidth: number) => {\n    const { labelFormat } = this.props\n    if (typeof labelFormat === 'string') {\n      const startTime = interval[0]\n      return startTime.format(labelFormat)\n    } else if (typeof labelFormat === 'function') {\n      return labelFormat(interval, unit as UnitType, labelWidth)\n    } else {\n      throw new Error('labelFormat should be function or string')\n    }\n  }\n\n  getHeaderData: GetHeaderData<Data> = memoize(\n    (intervalRenderer, style, className, getLabelFormat, unitProp, headerData) => {\n      return {\n        intervalRenderer,\n        style,\n        className,\n        getLabelFormat,\n        unitProp,\n        headerData,\n      }\n    },\n  )\n\n  render() {\n    const unit = this.getHeaderUnit()\n    const { height } = this.props\n    return (\n      <CustomHeader\n        children={CustomDateHeader}\n        unit={unit}\n        height={height}\n        headerData={this.getHeaderData(\n          this.props.intervalRenderer!,\n          this.getRootStyle(this.props.style),\n          this.props.className,\n          this.getLabelFormat,\n          this.props.unit,\n          this.props.headerData,\n        )}\n      />\n    )\n  }\n}\n\nexport type DateHeaderWrapper<Data> = {\n  unit?: keyof TimelineTimeSteps | 'primaryHeader'\n  labelFormat?: FormatLabelFunction\n  style?: CSSProperties\n  className?: string\n  intervalRenderer?: (props: IntervalRenderer<Data>) => ReactNode\n  headerData?: Data\n  height?: number\n}\n\nexport function DateHeader<Data>({\n  labelFormat,\n  unit,\n  style,\n  className,\n  intervalRenderer,\n  headerData,\n  height,\n}: DateHeaderWrapper<Data>) {\n  return (\n    <TimelineStateConsumer>\n      {({ getTimelineState }) => {\n        const timelineState = getTimelineState()\n        return (\n          <DateHeaderInner\n            timelineUnit={timelineState.timelineUnit}\n            unit={unit}\n            labelFormat={labelFormat || formatLabel}\n            style={style}\n            className={className}\n            intervalRenderer={intervalRenderer}\n            headerData={headerData}\n            height={height}\n          />\n        )\n      }}\n    </TimelineStateConsumer>\n  )\n}\ntype FormatLabelFunction = (\n  timeRange: [Dayjs, Dayjs],\n  unit: keyof typeof defaultHeaderFormats,\n  labelWidth?: number,\n  formatOptions?: typeof defaultHeaderFormats\n) => string;\n\nconst formatLabel:FormatLabelFunction = (\n  [timeStart],\n  unit,\n  labelWidth =150,\n  formatOptions = defaultHeaderFormats,\n) =>{\n  let format\n  if (labelWidth >= 150) {\n    format = formatOptions[unit]['long']\n  } else if (labelWidth >= 100) {\n    format = formatOptions[unit]['mediumLong']\n  } else if (labelWidth >= 50) {\n    format = formatOptions[unit]['medium']\n  } else {\n    format = formatOptions[unit]['short']\n  }\n  return timeStart.format(format)\n}\n\nexport default DateHeader\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_localizedFormat=t()}(this,(function(){\"use strict\";var e={LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"};return function(t,o,n){var r=o.prototype,i=r.format;n.en.formats=e,r.format=function(t){void 0===t&&(t=\"YYYY-MM-DDTHH:mm:ssZ\");var o=this.$locale().formats,n=function(t,o){return t.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var i=r&&r.toUpperCase();return n||o[r]||e[r]||o[i].replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,o){return t||o.slice(1)}))}))}(t,void 0===o?{}:o);return i.call(this,n)}}}));","import React, {Component, MouseEvent} from 'react'\nimport {getSumOffset, getSumScroll} from './utility/dom-helpers'\nimport Items, {CanResize} from './items/Items'\nimport Sidebar from './layout/Sidebar'\nimport Columns from './columns/Columns'\nimport GroupRows, {RowClickEvent} from './row/GroupRows'\nimport ScrollElement from './scroll/ScrollElement'\nimport MarkerCanvas from './markers/MarkerCanvas'\nimport windowResizeDetector from '../resize-detector/window'\nimport {\n  getMinUnit,\n  calculateTimeForXPosition,\n  calculateScrollCanvas,\n  getCanvasBoundariesFromVisibleTime,\n  getCanvasWidth,\n  stackTimelineItems, coordinateToTimeRatio,\n} from './utility/calendar'\nimport {_get} from './utility/generic'\nimport {defaultKeys, defaultTimeSteps} from './default-config'\nimport {TimelineStateProvider} from './timeline/TimelineStateContext'\nimport {TimelineMarkersProvider} from './markers/TimelineMarkersContext'\nimport {TimelineHeadersProvider} from './headers/HeadersContext'\nimport TimelineHeaders from './headers/TimelineHeaders'\nimport {DateHeader} from './headers/DateHeader'\nimport {\n  dateType,\n  ElementWithSecret,\n  Id,\n  OnItemDragObjectMove,\n  OnItemDragObjectResize,\n  ReactCalendarGroupRendererProps,\n  TimelineContext,\n  TimelineGroupBase,\n  TimelineItemBase,\n  TimelineKeys,\n  TimelineTimeSteps,\n  Unit,\n} from './types/main'\nimport { ItemDimension } from './types/dimension'\nimport dayjs, { Dayjs } from 'dayjs'\nimport { ItemProps, ResizeEdge } from './items/Item'\n// import './Timeline.scss'\nimport localizedFormat from 'dayjs/plugin/localizedFormat'\n\ndayjs.extend(localizedFormat)\n\nexport interface ReactCalendarTimelineRef {\n  // Add any methods or properties you want to expose\n  getBoundingClientRect(): DOMRect;\n\n  calculateDropCoordinatesToTimeAndGroup(x: number, y: number): { time: number, groupIndex: number };\n}\n\nexport type OnTimeChange<CustomItem, CustomGroup> = (\n  visibleTimeStart: number,\n  visibleTimeEnd: number,\n  updateScrollCanvas: (\n    start: dateType,\n    end: dateType,\n    forceUpdateDimensions?: boolean,\n    items?: CustomItem[],\n    groups?: CustomGroup[],\n  ) => void,\n  unit: Unit,\n) => any\n\nexport type ReactCalendarTimelineProps<\n  CustomItem extends TimelineItemBase<number>,\n  CustomGroup extends TimelineGroupBase = TimelineGroupBase,\n> = {\n  children?: React.ReactNode\n  groups: CustomGroup[]\n  items: CustomItem[]\n  keys: TimelineKeys\n  defaultTimeStart: number\n  defaultTimeEnd: number\n  visibleTimeStart?: dateType\n  visibleTimeEnd?: dateType\n  selected?: Id[] | undefined\n  sidebarWidth: number\n  sidebarContent?: React.ReactNode | undefined\n  rightSidebarWidth: number\n  rightSidebarContent?: React.ReactNode | undefined\n  dragSnap?: number\n  minResizeWidth?: number | undefined\n  lineHeight: number\n  itemHeightRatio: number\n  /**\n   * vertical gap (in pixels) added above and below each item.\n   * Applies globally for consistent spacing between items.\n   * If it's defined it will override `lineHeight`.\n   */\n  itemVerticalGap?: number | undefined\n  minZoom: number\n  maxZoom: number\n  clickTolerance?: number | undefined\n  canMove?: boolean | undefined\n  canChangeGroup?: boolean | undefined\n  canResize?: CanResize\n  useResizeHandle?: boolean | undefined\n  canSelect?: boolean\n  stackItems: boolean\n  traditionalZoom?: boolean | undefined\n  itemTouchSendsClick?: boolean | undefined\n  timeSteps: TimelineTimeSteps\n  scrollRef?: (el: HTMLDivElement) => void\n  onItemDrag?(itemDragObject: OnItemDragObjectMove | OnItemDragObjectResize): void\n  onItemMove?(itemId: Id, dragTime: number, newGroupOrder: number): void\n  onItemResize?(itemId: Id, endTimeOrStartTime: number, edge: ResizeEdge): void\n  onItemSelect?(itemId: Id, e: React.SyntheticEvent, time: number): void\n  onItemDeselect?(e: React.SyntheticEvent): void\n  onItemClick?(itemId: Id, e: React.SyntheticEvent, time: number): void\n  onItemDoubleClick?(itemId: Id, e: React.SyntheticEvent, time: number): void\n  onItemContextMenu?(itemId: Id, e: React.SyntheticEvent, time: number): void\n  onCanvasClick?(groupId: Id, time: number, e: React.SyntheticEvent): void\n  onCanvasDoubleClick?(groupId: Id, time: number, e: React.SyntheticEvent): void\n  onCanvasContextMenu?(groupId: Id, time: number, e: React.SyntheticEvent): void\n  onZoom?(timelineContext: TimelineContext, unit: Unit): void\n  moveResizeValidator?: ItemProps<CustomItem>['moveResizeValidator']\n  onTimeChange?: OnTimeChange<CustomItem, CustomGroup>\n  onBoundsChange?(canvasTimeStart: number, canvasTimeEnd: number): any\n  itemRenderer?: ItemProps<CustomItem>['itemRenderer']\n  groupRenderer?: ((props: ReactCalendarGroupRendererProps<CustomGroup>) => React.ReactNode) | undefined\n  resizeDetector?:\n    | {\n        addListener?: (x: any) => void\n        removeListener: (x: any) => void\n      }\n    | undefined\n  verticalLineClassNamesForTime?: (start: number, end: number) => string[]\n  horizontalLineClassNamesForGroup?: ((group: CustomGroup) => string[]) | undefined\n  buffer?: number\n  // Fields that are in propTypes but not documented\n  headerRef?: (el: HTMLDivElement) => void\n  className?: string\n  style?: React.CSSProperties\n  ref?: React.Ref<ReactCalendarTimelineRef>\n}\n\nexport type ReactCalendarTimelineState<\n  CustomItem extends TimelineItemBase<any> = TimelineItemBase<number>,\n  CustomGroup extends TimelineGroupBase = TimelineGroupBase,\n> = {\n  width: number\n  visibleTimeStart: number\n  visibleTimeEnd: number\n  canvasTimeStart: dateType\n  canvasTimeEnd: dateType\n  selectedItem: Id | null\n  dragTime: number | null\n  dragGroupTitle: string | null\n  resizeTime: number | null\n  resizingItem: Id | null\n  resizingEdge: 'left' | 'right' | null\n  items?: CustomItem[]\n  groups?: CustomGroup[]\n  draggingItem?: Id | null\n  newGroupOrder: number\n  dimensionItems: ItemDimension[]\n  height: number\n  groupHeights: number[]\n  groupTops: number[]\n}\n\nexport default class ReactCalendarTimeline<\n  CustomItem extends TimelineItemBase<any> = TimelineItemBase<number>,\n  CustomGroup extends TimelineGroupBase = TimelineGroupBase,\n> extends Component<\n  ReactCalendarTimelineProps<CustomItem, CustomGroup>,\n  ReactCalendarTimelineState<CustomItem, CustomGroup>\n> {\n  static setDayjsLocale = dayjs.locale\n  public static defaultProps = {\n    sidebarWidth: 150,\n    rightSidebarWidth: 0,\n    dragSnap: 1000 * 60 * 15, // 15min\n    minResizeWidth: 20,\n    lineHeight: 30,\n    itemHeightRatio: 0.65,\n    buffer: 3,\n\n    minZoom: 60 * 60 * 1000, // 1 hour\n    maxZoom: 5 * 365.24 * 86400 * 1000, // 5 years\n\n    clickTolerance: 3, // how many pixels can we drag for it to be still considered a click?\n\n    canChangeGroup: true,\n    canMove: true,\n    canResize: 'right',\n    useResizeHandle: false,\n    canSelect: true,\n\n    stackItems: false,\n\n    traditionalZoom: false,\n\n    horizontalLineClassNamesForGroup: null,\n\n    onItemMove: null,\n    onItemResize: null,\n    onItemClick: null,\n    onItemSelect: null,\n    onItemDeselect: null,\n    onItemDrag: null,\n    onCanvasClick: null,\n    onItemDoubleClick: null,\n    onItemContextMenu: null,\n    onZoom: null,\n\n    verticalLineClassNamesForTime: null,\n\n    moveResizeValidator: null,\n\n    dayBackground: null,\n\n    defaultTimeStart: null,\n    defaultTimeEnd: null,\n\n    itemTouchSendsClick: false,\n\n    style: {},\n    className: '',\n    keys: defaultKeys,\n    timeSteps: defaultTimeSteps,\n    headerRef: () => {},\n    scrollRef: () => {},\n\n    // if you pass in visibleTimeStart and visibleTimeEnd, you must also pass onTimeChange(visibleTimeStart, visibleTimeEnd),\n    // which needs to update the props visibleTimeStart and visibleTimeEnd to the ones passed\n    visibleTimeStart: null,\n    visibleTimeEnd: null,\n    onTimeChange: function (\n      visibleTimeStart: dateType,\n      visibleTimeEnd: dateType,\n      updateScrollCanvas: (visibleTimeStart: dateType, visibleTimeEnd: dateType) => void,\n    ) {\n      updateScrollCanvas(visibleTimeStart, visibleTimeEnd)\n    },\n    // called when the canvas area of the calendar changes\n    onBoundsChange: null,\n    children: null,\n\n    selected: null,\n  }\n\n  getTimelineContext = (): TimelineContext => {\n    const { width, visibleTimeStart, visibleTimeEnd, canvasTimeStart, canvasTimeEnd } = this.state\n    const zoom = visibleTimeEnd - visibleTimeStart\n    const canvasWidth = getCanvasWidth(width, this.props.buffer!)\n    const minUnit = getMinUnit(zoom, width, this.props.timeSteps)\n    return {\n      canvasWidth,\n      timelineUnit: minUnit,\n      timelineWidth: width,\n      visibleTimeStart,\n      visibleTimeEnd,\n      canvasTimeStart,\n      canvasTimeEnd,\n    }\n  }\n\n  getTimelineUnit = () => {\n    const { width, visibleTimeStart, visibleTimeEnd } = this.state\n\n    const { timeSteps } = this.props\n\n    const zoom = visibleTimeEnd - visibleTimeStart\n    const minUnit = getMinUnit(zoom, width, timeSteps)\n\n    return minUnit as Unit\n  }\n\n  state: ReactCalendarTimelineState<CustomItem, CustomGroup>\n\n  constructor(props: ReactCalendarTimelineProps<CustomItem, CustomGroup>) {\n    super(props)\n\n    this.getSelected = this.getSelected.bind(this)\n    this.hasSelectedItem = this.hasSelectedItem.bind(this)\n    this.isItemSelected = this.isItemSelected.bind(this)\n\n    let visibleTimeStart: number | null = null\n    let visibleTimeEnd: number | null = null\n\n    if (this.props.defaultTimeStart && this.props.defaultTimeEnd) {\n      visibleTimeStart = this.props.defaultTimeStart //.valueOf()\n      visibleTimeEnd = this.props.defaultTimeEnd //.valueOf()\n    } else if (this.props.visibleTimeStart && this.props.visibleTimeEnd) {\n      visibleTimeStart = this.props.visibleTimeStart\n      visibleTimeEnd = this.props.visibleTimeEnd\n    } else {\n      //throwing an error because neither default or visible time props provided\n      throw new Error(\n        'You must provide either \"defaultTimeStart\" and \"defaultTimeEnd\" or \"visibleTimeStart\" and \"visibleTimeEnd\" to initialize the Timeline',\n      )\n    }\n\n    const [canvasTimeStart, canvasTimeEnd] = getCanvasBoundariesFromVisibleTime(\n      visibleTimeStart,\n      visibleTimeEnd,\n      props.buffer!,\n    )\n    const state: Partial<ReactCalendarTimelineState> = {\n      width: 1000,\n      visibleTimeStart: visibleTimeStart,\n      visibleTimeEnd: visibleTimeEnd,\n      canvasTimeStart: canvasTimeStart,\n      canvasTimeEnd: canvasTimeEnd,\n      selectedItem: null,\n      dragTime: null,\n      dragGroupTitle: null,\n      resizeTime: null,\n      resizingItem: null,\n      resizingEdge: null,\n      newGroupOrder: 0, //CHECK\n    }\n    const canvasWidth = getCanvasWidth(state.width!, props.buffer!)\n    const { dimensionItems, height, groupHeights, groupTops } = stackTimelineItems(\n      props.items,\n      props.groups,\n      canvasWidth,\n      state.canvasTimeStart!,\n      state.canvasTimeEnd!,\n      props.keys,\n      props.lineHeight,\n      props.itemHeightRatio,\n      props.stackItems,\n      state.draggingItem,\n      state.resizingItem,\n      state.dragTime!,\n      state.resizingEdge!,\n      state.resizeTime!,\n      state.newGroupOrder!,\n      props.itemVerticalGap\n    )\n\n    state.dimensionItems = dimensionItems\n    state.height = height\n    state.groupHeights = groupHeights\n    state.groupTops = groupTops\n    this.state = state as ReactCalendarTimelineState<CustomItem, CustomGroup>\n  }\n\n  componentDidMount() {\n    this.resize(this.props)\n\n    if (this.props.resizeDetector && this.props.resizeDetector.addListener) {\n      this.props.resizeDetector.addListener(this)\n    }\n\n    windowResizeDetector.addListener(this)\n\n    //this.lastTouchDistance = null //TODO do we need this?\n  }\n\n  componentWillUnmount() {\n    if (this.props.resizeDetector && this.props.resizeDetector.addListener) {\n      this.props.resizeDetector.removeListener(this)\n    }\n\n    windowResizeDetector.removeListener(this)\n  }\n\n  static getDerivedStateFromProps(nextProps: ReactCalendarTimelineProps<any>, prevState: ReactCalendarTimelineState) {\n    const { visibleTimeStart, visibleTimeEnd, items, groups } = nextProps\n\n    // This is a gross hack pushing items and groups in to state only to allow\n    // For the forceUpdate check\n    const derivedState = { items, groups }\n\n    // if the items or groups have changed we must re-render\n    const forceUpdate = items !== prevState.items || groups !== prevState.groups\n\n    // We are a controlled component\n    if (visibleTimeStart && visibleTimeEnd) {\n      // Get the new canvas position\n      Object.assign(\n        derivedState,\n        calculateScrollCanvas(visibleTimeStart, visibleTimeEnd, forceUpdate, items, groups, nextProps, prevState),\n      )\n    } else if (forceUpdate) {\n      // Calculate new item stack position as canvas may have changed\n      const canvasWidth = getCanvasWidth(prevState.width, nextProps.buffer!)\n      Object.assign(\n        derivedState,\n        stackTimelineItems(\n          items,\n          groups,\n          canvasWidth,\n          prevState.canvasTimeStart,\n          prevState.canvasTimeEnd,\n          nextProps.keys,\n          nextProps.lineHeight,\n          nextProps.itemHeightRatio,\n          nextProps.stackItems,\n          prevState.draggingItem,\n          prevState.resizingItem,\n          prevState.dragTime,\n          prevState.resizingEdge,\n          prevState.resizeTime,\n          prevState.newGroupOrder,\n          nextProps.itemVerticalGap,\n        ),\n      )\n    }\n\n    return derivedState\n  }\n\n  scrollComponent: HTMLDivElement | null = null\n  scrollHeaderRef: HTMLDivElement | null = null\n\n  componentDidUpdate(_: ReactCalendarTimelineProps<CustomItem, CustomGroup>, prevState: ReactCalendarTimelineState) {\n    const newZoom = this.state.visibleTimeEnd - this.state.visibleTimeStart\n    const oldZoom = prevState.visibleTimeEnd - prevState.visibleTimeStart\n\n    // are we changing zoom? Report it!\n    if (this.props.onZoom && newZoom !== oldZoom) {\n      this.props.onZoom(this.getTimelineContext(), this.getTimelineUnit())\n    }\n\n    // The bounds have changed? Report it!\n    if (this.props.onBoundsChange && this.state.canvasTimeStart !== prevState.canvasTimeStart) {\n      this.props.onBoundsChange(this.state.canvasTimeStart, this.state.canvasTimeStart + newZoom * 3)\n    }\n\n    // Check the scroll is correct\n    const scrollLeft = Math.round(\n      (this.state.width * (this.state.visibleTimeStart - this.state.canvasTimeStart)) / newZoom,\n    )\n    const componentScrollLeft = Math.round(\n      (prevState.width * (prevState.visibleTimeStart - prevState.canvasTimeStart)) / oldZoom,\n    )\n\n    if (componentScrollLeft !== scrollLeft || this.scrollComponent!.scrollLeft !== scrollLeft) {\n      this.scrollComponent!.scrollLeft = scrollLeft\n      this.scrollHeaderRef!.scrollLeft = scrollLeft\n    }\n  }\n\n  resize = (props = this.props) => {\n    const { width: containerWidth } = this.container.current?.getBoundingClientRect() ?? { width: 0 }\n\n    const width = containerWidth - props.sidebarWidth - props.rightSidebarWidth\n    const canvasWidth = getCanvasWidth(width, props.buffer!)\n    const { dimensionItems, height, groupHeights, groupTops } = stackTimelineItems(\n      props.items,\n      props.groups,\n      canvasWidth,\n      this.state.canvasTimeStart,\n      this.state.canvasTimeEnd,\n      props.keys,\n      props.lineHeight,\n      props.itemHeightRatio,\n      props.stackItems,\n      this.state.draggingItem,\n      this.state.resizingItem,\n      this.state.dragTime,\n      this.state.resizingEdge,\n      this.state.resizeTime,\n      this.state.newGroupOrder,\n      props.itemVerticalGap,\n    )\n\n    // this is needed by dragItem since it uses pageY from the drag events\n    // if this was in the context of the scrollElement, this would not be necessary\n\n    this.setState({\n      width,\n      dimensionItems,\n      height,\n      groupHeights,\n      groupTops,\n    })\n    //initial scroll left is the buffer - 1 (1 is visible area) divided by 2 (2 is the buffer split on the right and left of the timeline)\n    const scrollLeft = width * ((props.buffer! - 1) / 2)\n    if (this.scrollComponent) {\n      this.scrollComponent.scrollLeft = scrollLeft\n    }\n    if (this.scrollHeaderRef) {\n      this.scrollHeaderRef.scrollLeft = scrollLeft\n    }\n  }\n\n  onScroll = (scrollX: number) => {\n    const width = this.state.width\n\n    const canvasTimeStart = this.state.canvasTimeStart\n\n    const zoom = this.state.visibleTimeEnd - this.state.visibleTimeStart\n\n    const visibleTimeStart = canvasTimeStart + (zoom * scrollX) / width\n\n    if (this.state.visibleTimeStart !== visibleTimeStart || this.state.visibleTimeEnd !== visibleTimeStart + zoom) {\n      this.props.onTimeChange?.(\n        visibleTimeStart,\n        visibleTimeStart + zoom,\n        this.updateScrollCanvas,\n        this.getTimelineUnit(),\n      )\n    }\n  }\n\n  // called when the visible time changes\n  updateScrollCanvas = (\n    visibleTimeStart: dateType,\n    visibleTimeEnd: dateType,\n    forceUpdateDimensions: boolean = false,\n    items = this.props.items,\n    groups = this.props.groups,\n  ) => {\n    this.setState(\n      calculateScrollCanvas(\n        visibleTimeStart,\n        visibleTimeEnd,\n        forceUpdateDimensions,\n        items,\n        groups,\n        this.props,\n        this.state,\n      ),\n    )\n  }\n\n  handleWheelZoom = (speed: number, xPosition: number, deltaY: number) => {\n    this.changeZoom(1.0 + (speed * deltaY) / 500, xPosition / this.state.width)\n  }\n\n  changeZoom = (scale: number, offset = 0.5) => {\n    const { minZoom, maxZoom } = this.props\n    const oldZoom = this.state.visibleTimeEnd - this.state.visibleTimeStart\n    const newZoom = Math.min(Math.max(Math.round(oldZoom * scale), minZoom), maxZoom) // min 1 min, max 20 years\n    const newVisibleTimeStart = Math.round(this.state.visibleTimeStart + (oldZoom - newZoom) * offset)\n    if (this.props.onTimeChange) {\n      this.props.onTimeChange(\n        newVisibleTimeStart,\n        newVisibleTimeStart + newZoom,\n        this.updateScrollCanvas,\n        this.getTimelineUnit(),\n      )\n    }\n  }\n\n  showPeriod = (from: Dayjs, to: Dayjs) => {\n    const visibleTimeStart = from.valueOf()\n    const visibleTimeEnd = to.valueOf()\n\n    const zoom = visibleTimeEnd - visibleTimeStart\n    // can't zoom in more than to show one hour\n    if (zoom < this.props.minZoom) {\n      return\n    }\n\n    this.props.onTimeChange?.(\n      visibleTimeStart,\n      visibleTimeStart + zoom,\n      this.updateScrollCanvas,\n      this.getTimelineUnit(),\n    )\n  }\n\n  selectItem: ItemProps<CustomItem>['onSelect'] = (item, clickType, e) => {\n    if (this.isItemSelected(item) || (this.props.itemTouchSendsClick && clickType === 'touch')) {\n      if (item && this.props.onItemClick) {\n        const time = this.timeFromItemEvent(e as MouseEvent<HTMLDivElement>)\n        this.props.onItemClick(item, e, time)\n      }\n    } else {\n      this.setState({ selectedItem: item })\n      if (item && this.props.onItemSelect) {\n        const time = this.timeFromItemEvent(e as MouseEvent<HTMLDivElement>)\n        this.props.onItemSelect(item, e, time)\n      } else if (item === null && this.props.onItemDeselect) {\n        this.props.onItemDeselect(e) // this isnt in the docs. Is this function even used?\n      }\n    }\n  }\n\n  doubleClickItem: ItemProps<CustomItem>['onItemDoubleClick'] = (item, e) => {\n    if (this.props.onItemDoubleClick) {\n      const time = this.timeFromItemEvent(e)\n      this.props.onItemDoubleClick(item, e, time)\n    }\n  }\n\n  contextMenuClickItem: ItemProps<CustomItem>['onContextMenu'] = (item, e) => {\n    if (this.props.onItemContextMenu) {\n      const time = this.timeFromItemEvent(e)\n      this.props.onItemContextMenu(item, e, time)\n    }\n  }\n\n  // TODO: this is very similar to timeFromItemEvent, aside from which element to get offsets\n  // from.  Look to consolidate the logic for determining coordinate to time\n  // as well as generalizing how we get time from click on the canvas\n  getTimeFromRowClickEvent = (e: MouseEvent<HTMLDivElement>) => {\n    const { dragSnap, buffer } = this.props\n    const { width, canvasTimeStart, canvasTimeEnd } = this.state\n    // this gives us distance from left of row element, so event is in\n    // context of the row element, not client or page\n    const { offsetX } = e.nativeEvent\n\n    let time = calculateTimeForXPosition(\n      canvasTimeStart,\n\n      canvasTimeEnd,\n      getCanvasWidth(width, buffer!),\n      offsetX,\n    )\n    time = Math.floor(time / dragSnap!) * dragSnap!\n\n    return time\n  }\n\n  timeFromItemEvent = (e: MouseEvent<HTMLDivElement>) => {\n    const { width, visibleTimeStart, visibleTimeEnd } = this.state\n    const dragSnap = this.props.dragSnap!\n\n    const scrollComponent = this.scrollComponent!\n    const { left: scrollX } = scrollComponent.getBoundingClientRect()\n\n    const xRelativeToTimeline = e.clientX - scrollX\n\n    const relativeItemPosition = xRelativeToTimeline / width\n    const zoom = visibleTimeEnd - visibleTimeStart\n    const timeOffset = relativeItemPosition * zoom\n\n    let time = Math.round(visibleTimeStart + timeOffset)\n    time = Math.floor(time / dragSnap) * dragSnap\n\n    return time\n  }\n\n  dragItem: ItemProps<CustomItem>['onDrag'] = (item, dragTime, newGroupOrder) => {\n    const newGroup = this.props.groups[newGroupOrder]\n    const keys = this.props.keys\n\n    this.setState({\n      draggingItem: item,\n      dragTime: dragTime,\n      newGroupOrder: newGroupOrder,\n      dragGroupTitle: newGroup ? _get(newGroup, keys.groupLabelKey) : '',\n    })\n\n    this.updatingItem({\n      eventType: 'move',\n      itemId: item,\n      time: dragTime,\n      newGroupOrder,\n    })\n  }\n\n  dropItem: ItemProps<CustomItem>['onDrop'] = (item, dragTime, newGroupOrder) => {\n    this.setState({ draggingItem: null, dragTime: null, dragGroupTitle: null })\n    if (this.props.onItemMove) {\n      this.props.onItemMove(item, dragTime, newGroupOrder)\n    }\n  }\n\n  resizingItem: ItemProps<CustomItem>['onResizing'] = (item, resizeTime, edge) => {\n    this.setState({\n      resizingItem: item,\n      resizingEdge: edge,\n      resizeTime: resizeTime,\n    })\n\n    this.updatingItem({\n      eventType: 'resize',\n      itemId: item,\n      time: resizeTime,\n      edge: edge || undefined,\n    })\n  }\n\n  resizedItem: ItemProps<CustomItem>['onResized'] = (item, resizeTime, edge, timeDelta) => {\n    this.setState({ resizingItem: null, resizingEdge: null, resizeTime: null })\n    if (this.props.onItemResize && timeDelta !== 0) {\n      this.props.onItemResize(item, resizeTime, edge!)\n    }\n  }\n\n  updatingItem = ({\n    eventType,\n    itemId,\n    time,\n    edge,\n    newGroupOrder,\n  }: {\n    eventType: 'move' | 'resize'\n    itemId: Id\n    time: number\n    edge?: ResizeEdge\n    newGroupOrder?: number\n  }) => {\n    if (this.props.onItemDrag) {\n      if (eventType === 'move') {\n        this.props.onItemDrag({\n          eventType,\n          itemId,\n          time,\n          newGroupOrder: newGroupOrder!,\n        })\n      } else {\n        this.props.onItemDrag({\n          eventType,\n          itemId,\n          time,\n          edge,\n        })\n      }\n    }\n  }\n\n  columns(\n    canvasTimeStart: number,\n    canvasTimeEnd: number,\n    canvasWidth: number,\n    minUnit: keyof TimelineTimeSteps,\n    timeSteps: TimelineTimeSteps,\n    height: number,\n  ) {\n    return (\n      <Columns\n        canvasTimeStart={canvasTimeStart}\n        canvasTimeEnd={canvasTimeEnd}\n        canvasWidth={canvasWidth}\n        lineCount={this.props.groups?.length || 0}\n        minUnit={minUnit}\n        timeSteps={timeSteps}\n        height={height}\n        verticalLineClassNamesForTime={this.props.verticalLineClassNamesForTime}\n      />\n    )\n  }\n\n  handleRowClick: RowClickEvent = (e, rowIndex) => {\n    // shouldnt this be handled by the user, as far as when to deselect an item?\n    if (this.hasSelectedItem()) {\n      this.selectItem(null, 'click', e)\n    }\n\n    if (this.props.onCanvasClick == null) return\n\n    const time = this.getTimeFromRowClickEvent(e)\n    const groupId = _get(this.props.groups[rowIndex], this.props.keys.groupIdKey)\n    this.props.onCanvasClick(groupId, time, e)\n  }\n\n  handleRowDoubleClick: RowClickEvent = (e, rowIndex) => {\n    if (this.props.onCanvasDoubleClick == null) return\n\n    const time = this.getTimeFromRowClickEvent(e)\n    const groupId = _get(this.props.groups[rowIndex], this.props.keys.groupIdKey)\n    this.props.onCanvasDoubleClick(groupId, time, e)\n  }\n\n  handleScrollContextMenu: RowClickEvent = (e, rowIndex) => {\n    if (this.props.onCanvasContextMenu == null) return\n\n    const timePosition = this.getTimeFromRowClickEvent(e)\n\n    const groupId = _get(this.props.groups[rowIndex], this.props.keys.groupIdKey)\n\n    if (this.props.onCanvasContextMenu) {\n      e.preventDefault()\n      this.props.onCanvasContextMenu(groupId, timePosition, e)\n    }\n  }\n\n  rows(canvasWidth: number, groupHeights: number[], groups: typeof this.props.groups) {\n    return (\n      <GroupRows\n        groups={groups}\n        canvasWidth={canvasWidth}\n        lineCount={this.props.groups?.length || 0}\n        groupHeights={groupHeights}\n        clickTolerance={this.props.clickTolerance}\n        onRowClick={this.handleRowClick}\n        onRowDoubleClick={this.handleRowDoubleClick}\n        horizontalLineClassNamesForGroup={this.props.horizontalLineClassNamesForGroup}\n        onRowContextClick={this.handleScrollContextMenu}\n      />\n    )\n  }\n\n  items({\n    canvasTimeStart,\n    canvasTimeEnd,\n    canvasWidth,\n    dimensionItems,\n    groupTops,\n  }: {\n    canvasTimeStart: number\n    canvasTimeEnd: number\n    canvasWidth: number\n    dimensionItems: ItemDimension[]\n    groupTops: number[]\n  }) {\n    return (\n      <Items\n        canvasTimeStart={canvasTimeStart}\n        canvasTimeEnd={canvasTimeEnd}\n        canvasWidth={canvasWidth}\n        dimensionItems={dimensionItems}\n        groupTops={groupTops}\n        items={this.props.items}\n        groups={this.props.groups}\n        keys={this.props.keys}\n        selectedItem={this.state.selectedItem || undefined}\n        dragSnap={this.props.dragSnap}\n        minResizeWidth={this.props.minResizeWidth}\n        canChangeGroup={this.props.canChangeGroup}\n        canMove={this.props.canMove}\n        canResize={this.props.canResize}\n        useResizeHandle={this.props.useResizeHandle}\n        canSelect={this.props.canSelect}\n        moveResizeValidator={this.props.moveResizeValidator}\n        itemSelect={this.selectItem}\n        itemDrag={this.dragItem}\n        itemDrop={this.dropItem}\n        onItemDoubleClick={this.doubleClickItem}\n        onItemContextMenu={this.props.onItemContextMenu ? this.contextMenuClickItem : undefined}\n        itemResizing={this.resizingItem}\n        itemResized={this.resizedItem}\n        itemRenderer={this.props.itemRenderer}\n        selected={this.props.selected}\n        scrollRef={this.scrollComponent}\n      />\n    )\n  }\n\n  handleHeaderRef = (el: HTMLDivElement) => {\n    this.scrollHeaderRef = el\n    if (this.props.headerRef) {\n      this.props.headerRef(el)\n    }\n  }\n\n  sidebar(height: number, groupHeights: number[]) {\n    const { sidebarWidth } = this.props\n    return (\n      sidebarWidth && (\n        <Sidebar\n          groups={this.props.groups}\n          groupRenderer={this.props.groupRenderer}\n          keys={this.props.keys}\n          width={sidebarWidth}\n          groupHeights={groupHeights}\n          height={height}\n        />\n      )\n    )\n  }\n\n  rightSidebar(height: number, groupHeights: number[]) {\n    const { rightSidebarWidth } = this.props\n    return (\n      rightSidebarWidth && (\n        <Sidebar\n          groups={this.props.groups}\n          keys={this.props.keys}\n          groupRenderer={this.props.groupRenderer}\n          isRightSidebar\n          width={rightSidebarWidth}\n          groupHeights={groupHeights}\n          height={height}\n        />\n      )\n    )\n  }\n\n  /**\n   * check if child of type TimelineHeader\n   * refer to for explanation https://github.com/gaearon/react-hot-loader#checking-element-types\n   */\n  isTimelineHeader = (child: ElementWithSecret) => {\n    if (child.type === undefined) return false\n    return child.type.secretKey === TimelineHeaders.secretKey\n  }\n\n  childrenWithProps(\n    canvasTimeStart: number,\n    canvasTimeEnd: number,\n    canvasWidth: number,\n    dimensionItems: any[],\n    groupHeights: number[],\n    groupTops: number[],\n    height: number,\n    visibleTimeStart: number,\n    visibleTimeEnd: number,\n    minUnit: keyof TimelineTimeSteps,\n    timeSteps: TimelineTimeSteps,\n  ) {\n    if (!this.props.children) {\n      return null\n    }\n\n    // convert to an array and remove the nulls\n    const childArray = Array.isArray(this.props.children) ? this.props.children.filter((c) => c) : [this.props.children]\n\n    const childProps = {\n      canvasTimeStart,\n      canvasTimeEnd,\n      canvasWidth,\n      visibleTimeStart: visibleTimeStart,\n      visibleTimeEnd: visibleTimeEnd,\n      dimensionItems,\n      items: this.props.items,\n      groups: this.props.groups,\n      keys: this.props.keys,\n      groupHeights: groupHeights,\n      groupTops: groupTops,\n      selected: this.getSelected(),\n      height: height,\n      minUnit: minUnit,\n      timeSteps: timeSteps,\n    }\n\n    return React.Children.map(childArray, (child) => {\n      if (!this.isTimelineHeader(child)) {\n        return React.cloneElement(child, childProps)\n      } else {\n        return null\n      }\n    })\n  }\n\n  renderHeaders = () => {\n    if (this.props.children) {\n      let headerRenderer\n      React.Children.map(this.props.children, (child) => {\n        if (this.isTimelineHeader(child as ElementWithSecret)) {\n          headerRenderer = child\n        }\n      })\n      if (headerRenderer) {\n        return headerRenderer\n      }\n    }\n    return (\n      <TimelineHeaders>\n        <DateHeader unit=\"primaryHeader\" />\n        <DateHeader />\n      </TimelineHeaders>\n    )\n  }\n\n  getSelected() {\n    return this.state.selectedItem && !this.props.selected ? [this.state.selectedItem] : this.props.selected || []\n  }\n\n  hasSelectedItem() {\n    if (!Array.isArray(this.props.selected)) return !!this.state.selectedItem\n    return this.props.selected.length > 0\n  }\n\n  isItemSelected(itemId: string | null) {\n    const selectedItems = this.getSelected()\n    return selectedItems.some((i) => i === itemId)\n  }\n\n  getScrollElementRef = (el: HTMLDivElement) => {\n    if (this.props.scrollRef) {\n      this.props.scrollRef(el)\n    }\n    this.scrollComponent = el\n  }\n\n  container = React.createRef<HTMLDivElement>()\n  getBoundingClientRect = () => this.scrollComponent!.getBoundingClientRect()\n  calculateDropCoordinatesToTimeAndGroup = (x: number, y: number) => {\n    const canvasWidth = getCanvasWidth(this.state.width, this.props.buffer!)\n    const ratio = coordinateToTimeRatio(this.state.canvasTimeStart, this.state.canvasTimeEnd, canvasWidth)\n\n    const offset = getSumOffset(this.scrollComponent!).offsetLeft\n    const scrolls = getSumScroll(this.scrollComponent!)\n\n    const dragTime = (x - offset + scrolls.scrollLeft) * ratio + this.state.canvasTimeStart;\n    let groupDelta = 0;\n    for (const key of this.state.groupTops) {\n\n      if (y > Number(key)) {\n        groupDelta = this.state.groupTops.indexOf(key)\n      } else {\n        break\n      }\n    }\n\n    if (!this.props.dragSnap) return {time: dragTime, groupIndex: groupDelta};\n\n    const consideredOffset = dayjs().utcOffset() * 60 * 1000;\n    return {\n      time: Math.round(dragTime / this.props.dragSnap) * this.props.dragSnap - (consideredOffset % this.props.dragSnap)\n      , groupIndex: groupDelta\n    }\n\n\n  }\n\n  render() {\n    const { items, groups, sidebarWidth, rightSidebarWidth, timeSteps, traditionalZoom, buffer } = this.props\n    const { draggingItem, resizingItem, width, visibleTimeStart, visibleTimeEnd, canvasTimeStart, canvasTimeEnd } =\n      this.state\n    let { dimensionItems, height, groupHeights, groupTops } = this.state\n\n    const zoom = visibleTimeEnd - visibleTimeStart\n    const canvasWidth = getCanvasWidth(width, buffer!)\n    const minUnit = getMinUnit(zoom, width, timeSteps)\n\n    const isInteractingWithItem = !!draggingItem || !!resizingItem\n\n    if (isInteractingWithItem) {\n      const stackResults = stackTimelineItems(\n        items,\n        groups,\n        canvasWidth,\n        this.state.canvasTimeStart,\n        this.state.canvasTimeEnd,\n        this.props.keys,\n        this.props.lineHeight,\n        this.props.itemHeightRatio,\n        this.props.stackItems,\n        this.state.draggingItem,\n        this.state.resizingItem,\n        this.state.dragTime,\n        this.state.resizingEdge,\n        this.state.resizeTime,\n        this.state.newGroupOrder,\n        this.props.itemVerticalGap,\n      )\n      dimensionItems = stackResults.dimensionItems\n      height = stackResults.height\n      groupHeights = stackResults.groupHeights\n      groupTops = stackResults.groupTops\n    }\n\n    const outerComponentStyle = {\n      height: `${height}px`,\n    }\n\n    return (\n      <TimelineStateProvider\n        visibleTimeStart={visibleTimeStart}\n        visibleTimeEnd={visibleTimeEnd}\n        canvasTimeStart={canvasTimeStart}\n        canvasTimeEnd={canvasTimeEnd}\n        canvasWidth={canvasWidth}\n        showPeriod={this.showPeriod}\n        timelineUnit={minUnit}\n        timelineWidth={this.state.width}\n      >\n        <TimelineMarkersProvider>\n          <TimelineHeadersProvider\n            registerScroll={this.handleHeaderRef}\n            timeSteps={timeSteps}\n            leftSidebarWidth={this.props.sidebarWidth}\n            rightSidebarWidth={this.props.rightSidebarWidth}\n          >\n            <div\n              style={this.props.style}\n              ref={this.container}\n              className={`react-calendar-timeline ${this.props.className}`}\n            >\n              {this.renderHeaders()}\n              <div style={outerComponentStyle} className=\"rct-outer\">\n                {sidebarWidth > 0 ? this.sidebar(height, groupHeights) : null}\n                <ScrollElement\n                  scrollRef={this.getScrollElementRef}\n                  width={width}\n                  height={height}\n                  onZoom={this.changeZoom}\n                  onWheelZoom={this.handleWheelZoom}\n                  traditionalZoom={!!traditionalZoom}\n                  onScroll={this.onScroll}\n                >\n                  <MarkerCanvas>\n                    {this.columns(canvasTimeStart, canvasTimeEnd, canvasWidth, minUnit, timeSteps, height)}\n                    {this.rows(canvasWidth, groupHeights, groups)}\n                    {this.items({\n                      canvasTimeStart,\n                      canvasTimeEnd,\n                      canvasWidth,\n                      dimensionItems,\n                      groupTops,\n                    })}\n                    {this.childrenWithProps(\n                      canvasTimeStart,\n                      canvasTimeEnd,\n                      canvasWidth,\n                      dimensionItems,\n                      groupHeights,\n                      groupTops,\n                      height,\n                      visibleTimeStart,\n                      visibleTimeEnd,\n                      minUnit,\n                      timeSteps,\n                    )}\n                  </MarkerCanvas>\n                </ScrollElement>\n                {rightSidebarWidth > 0 ? this.rightSidebar(height, groupHeights) : null}\n              </div>\n            </div>\n          </TimelineHeadersProvider>\n        </TimelineMarkersProvider>\n      </TimelineStateProvider>\n    )\n  }\n}\n","// Is this necessary? The initial reason for including this is for organization sake in the\n// user code e.g.\n\n/*\n<Timeline {...otherProps}>\n  <TimelineMarkers> // would there be props passed in here?\n    <TodayLine />\n    <CursorLine />\n    <CustomLine />\n  </TimelineMarkers>\n</Timeline>\n\n*/\n\nimport { ReactNode } from 'react'\n\ntype Props = {\n  children?: ReactNode\n}\n// If we decide to pass in props to TimelineMarkers, then yes, this is necessary.\nconst TimelineMarkers = (props: Props) => {\n  return props.children || null\n}\n\nexport default TimelineMarkers\n","import React from 'react'\nimport { SubscribeReturn, TimelineMarkersConsumer } from '../TimelineMarkersContext'\nimport { MarkerRendererType, MarkerType, TimelineMarkerType } from '../markerType'\n\nexport type TodayMarkerProps = {\n  interval?: number\n  updateMarker: (marker: MarkerType) => void\n  subscribeMarker: (m: MarkerType) => SubscribeReturn\n  children?: MarkerRendererType\n}\n\nclass TodayMarker extends React.Component<TodayMarkerProps> {\n  static defaultProps = {\n    interval: 1000 * 10, // default to ten seconds\n  }\n  private unsubscribe: (() => void) | null = null\n  private getMarker: (() => MarkerType) | null = null\n\n  componentDidMount() {\n    const { unsubscribe, getMarker } = this.props.subscribeMarker({\n      type: TimelineMarkerType.Today,\n      renderer: this.props.children,\n      interval: this.props.interval,\n    })\n    this.unsubscribe = unsubscribe\n    this.getMarker = getMarker\n  }\n\n  componentWillUnmount() {\n    if (this.unsubscribe != null) {\n      this.unsubscribe()\n      this.unsubscribe = null\n    }\n  }\n\n  componentDidUpdate(prevProps: TodayMarkerProps) {\n    if (prevProps.interval !== this.props.interval && this.getMarker) {\n      const marker = this.getMarker()\n      this.props.updateMarker({\n        ...marker,\n        interval: this.props.interval,\n      })\n    }\n  }\n\n  render() {\n    return null\n  }\n}\n\n// TODO: turn into HOC?\nconst TodayMarkerWrapper = (props: Omit<TodayMarkerProps, 'updateMarker' | 'subscribeMarker'>) => {\n  return <TimelineMarkersConsumer>{({ subscribeMarker, updateMarker }) => <TodayMarker subscribeMarker={subscribeMarker} updateMarker={updateMarker} {...props} />}</TimelineMarkersConsumer>\n}\n\nTodayMarkerWrapper.displayName = 'TodayMarkerWrapper'\n\nexport default TodayMarkerWrapper\n","import { Component } from 'react'\nimport {\n  SubscribeReturn,\n  TimelineMarkersConsumer,\n} from '../TimelineMarkersContext'\nimport {\n  MarkerRendererType,\n  MarkerType,\n  TimelineMarkerType,\n} from '../markerType'\n\ntype noop = () => any\n\ntype CustomMarkerProps = {\n  date: number\n  children?: MarkerRendererType\n  updateMarker: (marker: MarkerType) => void\n  subscribeMarker: (newe: MarkerType) => SubscribeReturn\n}\nclass CustomMarker extends Component<CustomMarkerProps> {\n  private unsubscribe: noop | null = null\n  private getMarker: noop | null = null\n\n  componentDidUpdate(prevProps: CustomMarkerProps) {\n    if (prevProps.date !== this.props.date && this.getMarker) {\n      const marker = this.getMarker()\n      this.props.updateMarker({ ...marker, date: this.props.date })\n    }\n  }\n\n  componentDidMount() {\n    const { unsubscribe, getMarker } = this.props.subscribeMarker({\n      type: TimelineMarkerType.Custom,\n      renderer: this.props.children,\n      date: this.props.date,\n    })\n    this.unsubscribe = unsubscribe\n    this.getMarker = getMarker\n  }\n\n  componentWillUnmount() {\n    if (this.unsubscribe != null) {\n      this.unsubscribe()\n      this.unsubscribe = null\n    }\n  }\n\n  render() {\n    return null\n  }\n}\n\ntype Props = Pick<CustomMarkerProps, 'date' | 'children'>\n\n// TODO: turn into HOC?\nconst CustomMarkerWrapper = (props: Props) => {\n  return (\n    <TimelineMarkersConsumer>\n      {({ subscribeMarker, updateMarker }) => (\n        <CustomMarker\n          subscribeMarker={subscribeMarker}\n          updateMarker={updateMarker}\n          {...props}\n        />\n      )}\n    </TimelineMarkersConsumer>\n  )\n}\n\nCustomMarkerWrapper.displayName = 'CustomMarkerWrapper'\n\nexport default CustomMarkerWrapper\n","import { Component } from 'react'\nimport { SubscribeReturn, TimelineMarkersConsumer } from '../TimelineMarkersContext'\nimport { MarkerRendererType, MarkerType, TimelineMarkerType } from '../markerType'\n\nexport type CursorMarkerProps = {\n  subscribeMarker: (m: MarkerType) => SubscribeReturn\n  children?: MarkerRendererType\n}\nclass CursorMarker extends Component<CursorMarkerProps> {\n  private unsubscribe: (() => void) | null = null\n  componentDidMount() {\n    const { unsubscribe } = this.props.subscribeMarker({\n      type: TimelineMarkerType.Cursor,\n      renderer: this.props.children,\n    })\n    this.unsubscribe = unsubscribe\n  }\n\n  componentWillUnmount() {\n    if (this.unsubscribe != null) {\n      this.unsubscribe()\n      this.unsubscribe = null\n    }\n  }\n  render() {\n    return null\n  }\n}\n\n// TODO: turn into HOC?\n\nconst CursorMarkerWrapper = (props: Pick<CursorMarkerProps, 'children'>) => {\n  return <TimelineMarkersConsumer>{({ subscribeMarker }) => <CursorMarker subscribeMarker={subscribeMarker} {...props} />}</TimelineMarkersConsumer>\n}\n\nCursorMarkerWrapper.displayName = 'CursorMarkerWrapper'\n\nexport default CursorMarkerWrapper\n"],"names":["getParentPosition","element","xPosition","yPosition","first","getSumScroll","node","parent","getSumOffset","t","e","module","this","n","r","a","i","d","o","s","l","c","u","p","f","h","v","g","m","y","b","x","E","T","S","_","P","O","k","D","I","M","z","R","A","C","j","F","X","Y","L","q","B","V","W","G","N","U","H","K","$","J","Q","Z","tt","et","nt","rt","it","ot","at","st","lt","ct","ut","pt","ft","dt","ht","vt","gt","mt","yt","bt","xt","wt","Et","Tt","St","_t","Pt","Ot","kt","Dt","It","Mt","zt","At","Rt","Ct","jt","Ft","Xt","Yt","Lt","qt","Bt","Vt","Wt","Gt","Nt","Ut","Ht","Kt","$t","Jt","ee","Qt","Zt","te","ie","ne","re","oe","ae","se","ce","le","ue","pe","fe","de","he","ve","ge","me","ye","be","xe","we","Ee","Te","Se","_e","Pe","Oe","ke","De","Ie","Me","Ae","ze","Re","Ce","je","Fe","Ye","Le","Xe","qe","Be","Ve","We","Ge","Ne","Ue","He","Ke","$e","Je","Qe","Ze","w","tn","en","nn","rn","on","an","sn","cn","ln","un","pn","fn","dn","hn","vn","gn","mn","yn","bn","xn","wn","En","Tn","Sn","_n","Pn","On","kn","Dn","In","Mn","zn","An","Rn","Cn","jn","Fn","Xn","Yn","Ln","qn","Bn","Gn","Vn","Wn","Nn","Un","Hn","Kn","$n","Jn","Qn","Zn","tr","er","listCacheClear","_listCacheClear","eq","value","other","eq_1","require$$0","assocIndexOf","array","key","length","_assocIndexOf","arrayProto","splice","listCacheDelete","data","index","lastIndex","_listCacheDelete","listCacheGet","_listCacheGet","listCacheHas","_listCacheHas","listCacheSet","_listCacheSet","require$$1","require$$2","require$$3","require$$4","ListCache","entries","entry","_ListCache","stackClear","_stackClear","stackDelete","result","_stackDelete","stackGet","_stackGet","stackHas","_stackHas","freeGlobal","global","_freeGlobal","freeSelf","root","_root","Symbol","_Symbol","objectProto","hasOwnProperty","nativeObjectToString","symToStringTag","getRawTag","isOwn","tag","unmasked","_getRawTag","objectToString","_objectToString","nullTag","undefinedTag","baseGetTag","_baseGetTag","isObject","type","isObject_1","asyncTag","funcTag","genTag","proxyTag","isFunction","isFunction_1","coreJsData","_coreJsData","maskSrcKey","uid","isMasked","func","_isMasked","funcProto","funcToString","toSource","_toSource","reRegExpChar","reIsHostCtor","reIsNative","baseIsNative","pattern","_baseIsNative","getValue","object","_getValue","getNative","_getNative","Map","_Map","nativeCreate","_nativeCreate","hashClear","_hashClear","hashDelete","_hashDelete","HASH_UNDEFINED","hashGet","_hashGet","hashHas","_hashHas","hashSet","_hashSet","Hash","_Hash","mapCacheClear","_mapCacheClear","isKeyable","_isKeyable","getMapData","map","_getMapData","mapCacheDelete","_mapCacheDelete","mapCacheGet","_mapCacheGet","mapCacheHas","_mapCacheHas","mapCacheSet","size","_mapCacheSet","MapCache","_MapCache","LARGE_ARRAY_SIZE","stackSet","pairs","_stackSet","require$$5","Stack","_Stack","setCacheAdd","_setCacheAdd","setCacheHas","_setCacheHas","SetCache","values","_SetCache","arraySome","predicate","_arraySome","cacheHas","cache","_cacheHas","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","equalArrays","bitmask","customizer","equalFunc","stack","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","_equalArrays","Uint8Array","_Uint8Array","mapToArray","_mapToArray","setToArray","set","_setToArray","boolTag","dateTag","errorTag","mapTag","numberTag","regexpTag","setTag","stringTag","symbolTag","arrayBufferTag","dataViewTag","symbolProto","symbolValueOf","equalByTag","convert","stacked","_equalByTag","arrayPush","offset","_arrayPush","isArray","isArray_1","baseGetAllKeys","keysFunc","symbolsFunc","_baseGetAllKeys","arrayFilter","resIndex","_arrayFilter","stubArray","stubArray_1","propertyIsEnumerable","nativeGetSymbols","getSymbols","symbol","_getSymbols","baseTimes","iteratee","_baseTimes","isObjectLike","isObjectLike_1","argsTag","baseIsArguments","_baseIsArguments","isArguments","isArguments_1","stubFalse","stubFalse_1","freeExports","exports","freeModule","moduleExports","Buffer","nativeIsBuffer","isBuffer","MAX_SAFE_INTEGER","reIsUint","isIndex","_isIndex","isLength","isLength_1","arrayTag","objectTag","weakMapTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","_baseIsTypedArray","baseUnary","_baseUnary","freeProcess","nodeUtil","types","nodeIsTypedArray","isTypedArray","isTypedArray_1","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","_arrayLikeKeys","isPrototype","Ctor","proto","_isPrototype","overArg","transform","arg","_overArg","nativeKeys","_nativeKeys","baseKeys","_baseKeys","isArrayLike","isArrayLike_1","keys","keys_1","getAllKeys","_getAllKeys","equalObjects","objProps","objLength","othProps","objStacked","skipCtor","objValue","objCtor","othCtor","_equalObjects","DataView","_DataView","Promise","_Promise","Set","_Set","WeakMap","_WeakMap","require$$6","promiseTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ctorString","_getTag","require$$7","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","_baseIsEqualDeep","baseIsEqual","_baseIsEqual","isEqual","isEqual_1","_get","_length","arraysEqual","array1","array2","keyBy","obj","noop","composeEvents","fns","event","args","defaultItemRenderer","item","itemContext","getItemProps","getResizeProps","leftResizeProps","rightResizeProps","ref","rest","useResizeHandle","_createElement","_jsx","coordinateToTimeRatio","canvasTimeStart","canvasTimeEnd","canvasWidth","calculateXPositionForTime","time","widthToZoomRatio","calculateTimeForXPosition","leftOffset","iterateTimes","start","end","unit","timeSteps","callback","dayjs","nextTime","minCellWidth","getMinUnit","zoom","width","timeDividers","minUnit","nextTimeSpanInUnitContext","unitKey","cellsToBeRenderedForCurrentUnit","cellWidthToUse","minimumCellsToRenderUnit","NEXT_UNITS","getNextUnit","calculateInteractionNewTimes","itemTimeStart","itemTimeEnd","dragTime","isDragging","isResizing","resizingEdge","resizeTime","originalItemRange","calculateDimensions","itemTimeRange","effectiveStartTime","effectiveEndTime","left","itemWidth","getGroupOrders","groups","groupIdKey","groupOrders","getGroupedItems","items","groupedItems","groupOrder","_a","groupItem","_b","getVisibleItems","itemTimeStartKey","itemTimeEndKey","afterStart","beforeEnd","EPSILON","collision","verticalMargin","collisionPadding","groupStack","lineHeight","group","groupHeight","groupTop","itemIndex","itemVerticalGap","curHeight","collidingItem","jj","groupNoStack","sum","arr","acc","stackAll","itemsDimensions","stackItems","groupHeights","groupTops","groupItems","isGroupStacked","stackGroup","stackTimelineItems","itemHeightRatio","draggingItem","resizingItem","newGroupOrder","visibleItemsWithInteraction","getItemWithInteractions","dimensionItems","getItemDimensions","height","getCanvasWidth","buffer","itemId","dimension","getCanvasBoundariesFromVisibleTime","visibleTimeStart","visibleTimeEnd","calculateScrollCanvas","forceUpdateDimensions","props","state","oldCanvasTimeStart","oldCanvasTimeEnd","oldZoom","newZoom","newState","halfBuffer","mergedState","overridableStyles","selectedStyle","selectedAndCanMove","selectedAndCanResizeLeft","selectedAndCanResizeLeftAndDragLeft","selectedAndCanResizeRight","selectedAndCanResizeRightAndDragRight","leftResizeStyle","rightResizeStyle","defaultContextState","TimelineContext","React","Consumer","Provider","TimelineStateProvider","timelineUnit","timelineWidth","date","TimelineStateConsumer","useTimelineState","useContext","utc","Item","Component","createRef","itemInteraction","el","classNames","leftName","rightName","nextProps","nextState","considerOffset","dragSnap","endTime","startTime","ratio","scrolls","order","groupDelta","resizeEdge","timeDelta","leftResize","rightResize","interact","clickTime","dragGroupDelta","prevProps","interactMounted","couldDrag","couldResizeLeft","couldResizeRight","willBeAbleToDrag","willBeAbleToResizeLeft","willBeAbleToResizeRight","clickType","dimensions","baseStyles","timelineContext","canResizeLeft","canResize","canResizeRight","Items","itemIdKey","target","itemGroupKey","visibleItems","sortedDimensionItems","Sidebar","isRightSidebar","groupTitleKey","groupRightTitleKey","sidebarStyle","groupsStyle","groupLines","elementStyle","Columns","verticalLineClassNamesForTime","getLeftOffsetFromDate","lines","firstOfType","classNamesForTime","right","ColumnsWrapper","PreventClickOnDrag","evt","childElement","GroupRow","onContextMenu","onDoubleClick","isEvenRow","style","onClick","clickTolerance","horizontalLineClassNamesForGroup","classNamesForGroup","GroupRows","lineCount","onRowClick","onRowDoubleClick","onRowContextClick","ScrollElement","scrollX","parentPosition","speed","onZoom","touchDistance","deltaX","deltaX0","deltaY0","moveX","moveY","children","scrollComponentStyle","MarkerCanvasProvider","MarkerCanvasConsumer","_id","createId","TimelineMarkersProvider","newMarker","marker","updateMarker","markerIndex","TimelineMarkersConsumer","TimelineMarkerType","criticalStyles","createMarkerStylesWithLeftOffset","createDefaultRenderer","dataTestidValue","styles","defaultRenderer","TodayMarker$1","interval","TodayMarker","defaultCustomMarkerRenderer","CustomMarker$1","CustomMarker","CursorMarker$1","isCursorOverCanvas","isShowingCursor","CursorMarker","CursorMarkerWrapper","subscribeToMouseOver","TimelineMarkersRenderer","getTimelineState","markers","timelineState","staticStyles","MarkerCanvas","pageX","containerLeft","canvasX","sub","_jsxs","MarkerCanvasWrapper","getDateFromLeftOffsetPosition","addListener","component","removeListener","windowResizeDetector","defaultKeys","defaultTimeSteps","defaultHeaderFormats","HeaderContext","TimelineHeadersProvider","contextValue","TimelineHeadersContext","useTimelineHeadersContext","hasOwn","classes","appendClass","parseValue","newClass","LEFT_VARIANT","RIGHT_VARIANT","SidebarHeader","PureComponent","defaultChildren","getRootProps","SidebarWrapper","variant","headerData","leftSidebarWidth","rightSidebarWidth","TimelineHeaders","calendarHeaderStyle","child","rightSidebarHeader","leftSidebarHeader","calendarHeaders","TimelineHeadersWrapper","className","calendarHeaderClassName","registerScroll","CustomHeader","intervals","labelWidth","showPeriod","CustomHeaderWrapper","safeIsNaN","second","areInputsEqual","newInputs","lastInputs","memoizeOne","resultFn","memoized","newArgs","_i","lastResult","Interval","primaryHeader","nextUnit","newStartTime","newEndTime","intervalText","intervalRenderer","Renderer","CustomDateHeader","getIntervalProps","getLabelFormat","unitProp","DateHeaderInner","memoize","labelFormat","DateHeader","formatLabel","timeStart","formatOptions","format","localizedFormat","ReactCalendarTimeline","containerWidth","scrollLeft","deltaY","scale","minZoom","maxZoom","newVisibleTimeStart","from","to","offsetX","scrollComponent","relativeItemPosition","timeOffset","newGroup","edge","eventType","rowIndex","groupId","timePosition","headerRenderer","consideredOffset","prevState","derivedState","forceUpdate","sidebarWidth","childArray","childProps","traditionalZoom","stackResults","outerComponentStyle","updateScrollCanvas","TimelineMarkers","unsubscribe","getMarker","TodayMarkerWrapper","subscribeMarker","CustomMarkerWrapper"],"mappings":"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","x_google_ignoreList":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,118,123,127]}
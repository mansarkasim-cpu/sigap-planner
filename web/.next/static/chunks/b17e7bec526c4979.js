(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,24268,e=>{"use strict";e.i(50382);var t=e.i(79711),r=e.i(73161),i=e.i(30878),a=e.i(30279),l=e.i(69840),n=e.i(75964),o=e.i(55158);let s=(0,e.i(44967).default)();var d=e.i(90128),u=e.i(69407),c=e.i(32083),f=e.i(2880),h=e.i(62820),g=e.i(14294);let p=["component","direction","spacing","divider","children","className","useFlexGap"],v=(0,c.default)(),m=s("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function x(e){return(0,d.default)({props:e,name:"MuiStack",defaultTheme:v})}let w=({ownerState:e,theme:t})=>{let i=(0,r.default)({display:"flex",flexDirection:"column"},(0,f.handleBreakpoints)({theme:t},(0,f.resolveBreakpointValues)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let r=(0,h.createUnarySpacing)(t),a=Object.keys(t.breakpoints.values).reduce((t,r)=>(("object"==typeof e.spacing&&null!=e.spacing[r]||"object"==typeof e.direction&&null!=e.direction[r])&&(t[r]=!0),t),{}),n=(0,f.resolveBreakpointValues)({values:e.direction,base:a}),o=(0,f.resolveBreakpointValues)({values:e.spacing,base:a});"object"==typeof n&&Object.keys(n).forEach((e,t,r)=>{if(!n[e]){let i=t>0?n[r[t-1]]:"column";n[e]=i}}),i=(0,l.default)(i,(0,f.handleBreakpoints)({theme:t},o,(t,i)=>e.useFlexGap?{gap:(0,h.getValue)(r,t)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[i?n[i]:e.direction]}`]:(0,h.getValue)(r,t)}}))}return(0,f.mergeBreakpointsInOrder)(t.breakpoints,i)};var j=e.i(28569),b=e.i(56568);let $=function(e={}){let{createStyledComponent:l=m,useThemeProps:s=x,componentName:d="MuiStack"}=e,c=l(w);return i.forwardRef(function(e,l){let f,h=s(e),v=(0,u.extendSxProp)(h),{component:m="div",direction:x="column",spacing:w=0,divider:j,children:b,className:$,useFlexGap:y=!1}=v,k=(0,t.default)(v,p),S=(0,o.default)({root:["root"]},e=>(0,n.default)(d,e),{});return(0,g.jsx)(c,(0,r.default)({as:m,ownerState:{direction:x,spacing:w,useFlexGap:y},ref:l,className:(0,a.default)(S.root,$)},k,{children:j?(f=i.Children.toArray(b).filter(Boolean)).reduce((e,t,r)=>(e.push(t),r<f.length-1&&e.push(i.cloneElement(j,{key:`separator-${r}`})),e),[]):b}))})}({createStyledComponent:(0,j.default)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,b.default)({props:e,name:"MuiStack"})});e.s(["default",0,$],24268)},82401,e=>{"use strict";var t=e.i(79711),r=e.i(73161),i=e.i(30878),a=e.i(30279),l=e.i(64848),n=e.i(42735),o=e.i(28569),s=e.i(56568),d=e.i(52638),u=e.i(14294);let c=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],f=(0,o.default)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,"vertical"===r.orientation&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&"vertical"===r.orientation&&t.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>(0,r.default)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:(0,n.alpha)(e.palette.divider,.08)},"inset"===t.variant&&{marginLeft:72},"middle"===t.variant&&"horizontal"===t.orientation&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},"middle"===t.variant&&"vertical"===t.orientation&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},"vertical"===t.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>(0,r.default)({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>(0,r.default)({},t.children&&"vertical"!==t.orientation&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`}}),({theme:e,ownerState:t})=>(0,r.default)({},t.children&&"vertical"===t.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`}}),({ownerState:e})=>(0,r.default)({},"right"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),h=(0,o.default)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.wrapper,"vertical"===r.orientation&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>(0,r.default)({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},"vertical"===t.orientation&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),g=i.forwardRef(function(e,i){let n=(0,s.default)({props:e,name:"MuiDivider"}),{absolute:o=!1,children:g,className:p,component:v=g?"div":"hr",flexItem:m=!1,light:x=!1,orientation:w="horizontal",role:j="hr"!==v?"separator":void 0,textAlign:b="center",variant:$="fullWidth"}=n,y=(0,t.default)(n,c),k=(0,r.default)({},n,{absolute:o,component:v,flexItem:m,light:x,orientation:w,role:j,textAlign:b,variant:$}),S=(e=>{let{absolute:t,children:r,classes:i,flexItem:a,light:n,orientation:o,textAlign:s,variant:u}=e;return(0,l.unstable_composeClasses)({root:["root",t&&"absolute",u,n&&"light","vertical"===o&&"vertical",a&&"flexItem",r&&"withChildren",r&&"vertical"===o&&"withChildrenVertical","right"===s&&"vertical"!==o&&"textAlignRight","left"===s&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]},d.getDividerUtilityClass,i)})(k);return(0,u.jsx)(f,(0,r.default)({as:v,className:(0,a.default)(S.root,p),role:j,ref:i,ownerState:k},y,{children:g?(0,u.jsx)(h,{className:S.wrapper,ownerState:k,children:g}):null}))});g.muiSkipListHighlight=!0,e.s(["default",0,g])},54566,73294,e=>{"use strict";e.i(50382);var t=e.i(73161),r=e.i(79711),i=e.i(30878),a=e.i(30279),l=e.i(64848),n=e.i(28569),o=e.i(56568),s=e.i(28960),d=e.i(27605),u=e.i(75964);function c(e){return(0,u.default)("MuiCard",e)}(0,d.unstable_generateUtilityClasses)("MuiCard",["root"]);var f=e.i(14294);let h=["className","raised"],g=(0,n.default)(s.default,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),p=i.forwardRef(function(e,i){let n=(0,o.default)({props:e,name:"MuiCard"}),{className:s,raised:d=!1}=n,u=(0,r.default)(n,h),p=(0,t.default)({},n,{raised:d}),v=(e=>{let{classes:t}=e;return(0,l.unstable_composeClasses)({root:["root"]},c,t)})(p);return(0,f.jsx)(g,(0,t.default)({className:(0,a.default)(v.root,s),elevation:d?8:void 0,ref:i,ownerState:p},u))});function v(e){return(0,u.default)("MuiCardContent",e)}e.s(["default",0,p],54566),(0,d.unstable_generateUtilityClasses)("MuiCardContent",["root"]);let m=["className","component"],x=(0,n.default)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),w=i.forwardRef(function(e,i){let n=(0,o.default)({props:e,name:"MuiCardContent"}),{className:s,component:d="div"}=n,u=(0,r.default)(n,m),c=(0,t.default)({},n,{component:d}),h=(e=>{let{classes:t}=e;return(0,l.unstable_composeClasses)({root:["root"]},v,t)})(c);return(0,f.jsx)(x,(0,t.default)({as:d,className:(0,a.default)(h.root,s),ownerState:c,ref:i},u))});e.s(["default",0,w],73294)},83593,e=>{"use strict";var t=e.i(50382),r=e.i(14294),i=e.i(30878),a=e.i(23703),l=e.i(88627),n=e.i(60152),o=e.i(71864),s=e.i(54566),d=e.i(73294),u=e.i(24268),c=e.i(82401);function f({params:e}){let f=e?.id,[h,g]=(0,i.useState)(!1),[p,v]=(0,i.useState)(null),[m,x]=(0,i.useState)([]),[w,j]=(0,i.useState)({});function b(e){if(!e||e.startsWith("http://")||e.startsWith("https://"))return e;let r=void 0!==t.default&&t.default.env&&1?"http://localhost:4000/api":"",i=window.location&&window.location.origin?window.location.origin:"",a=r||i||"";return a?(a.endsWith("/api")&&(a=a.slice(0,-4)),!r&&i&&i.includes("localhost:3000")&&(a=i.replace("localhost:3000","localhost:4000")),e.startsWith("/")||(e="/"+e),a+e):e}async function $(e){g(!0);try{let[t,r,i]=await Promise.all([(0,a.default)(`/work-orders/${encodeURIComponent(e)}`),(0,a.default)(`/work-orders/${encodeURIComponent(e)}/tasks`),(0,a.default)(`/work-orders/${encodeURIComponent(e)}/realisasi/full`)]),l=t?.data??t,n=Array.isArray(r)?r:r?.data??r?.items??[],o=Array.isArray(i)?i:i?.items??i?.data??[],s={};for(let e of o||[]){let t=e.taskId||e.task_id||(e.assignmentId?String(e.assignmentId):"unknown");s[t]=s[t]||[],s[t].push(e)}v(l),x(n),j(s)}catch(e){console.error("load view realisasi",e),v(null),x([]),j({})}finally{g(!1)}}return(0,i.useEffect)(()=>{f&&$(f)},[f]),(0,r.jsxs)("main",{style:{padding:24},children:[(0,r.jsxs)(u.default,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o.default,{variant:"h5",children:"View Realisasi"}),(0,r.jsxs)(o.default,{variant:"subtitle2",color:"textSecondary",children:["Work Order: ",p?.doc_no||p?.id||f]})]}),(0,r.jsx)("div",{children:(0,r.jsx)(n.default,{href:"/realisasi",variant:"outlined",children:"Back to list"})})]}),h?(0,r.jsx)("div",{children:"Loading..."}):null,(0,r.jsxs)(l.default,{sx:{display:"grid",gridTemplateColumns:"1fr",gap:2},children:[(0,r.jsx)(s.default,{variant:"outlined",children:(0,r.jsxs)(d.default,{children:[(0,r.jsx)(o.default,{variant:"subtitle1",children:"Work Order Details"}),(0,r.jsxs)("div",{style:{marginTop:8},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Start:"})," ",p&&(p.start_date||p.raw?.start_date)?function(e){let t=String(e).match(/(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2})/);if(t)return`${t[3]}/${t[2]}/${t[1]} ${t[4]}:${t[5]}`;try{let t=new Date(e),r=e=>e<10?"0"+e:e;return`${r(t.getDate())}/${r(t.getMonth()+1)}/${t.getFullYear()} ${r(t.getHours())}:${r(t.getMinutes())}`}catch(t){return String(e)}}(p.start_date||p.raw?.start_date):"-"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"End:"})," ",p&&(p.end_date||p.raw?.end_date)?function(e){let t=String(e).match(/(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2})/);if(t)return`${t[3]}/${t[2]}/${t[1]} ${t[4]}:${t[5]}`;try{let t=new Date(e),r=e=>e<10?"0"+e:e;return`${r(t.getDate())}/${r(t.getMonth()+1)}/${t.getFullYear()} ${r(t.getHours())}:${r(t.getMinutes())}`}catch(t){return String(e)}}(p.end_date||p.raw?.end_date):"-"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Status:"})," ",p?.status||p?.raw?.status||"-"]})]})]})}),(0,r.jsx)(s.default,{variant:"outlined",children:(0,r.jsxs)(d.default,{children:[(0,r.jsx)(o.default,{variant:"subtitle1",children:"Tasks & Realisasi"}),(0,r.jsx)(c.default,{sx:{my:1}}),m&&m.length>0?m.map(e=>(0,r.jsxs)(l.default,{sx:{mb:2},children:[(0,r.jsx)(o.default,{variant:"subtitle2",children:e.name||e.task_name||"Task"}),(0,r.jsxs)("div",{style:{fontSize:13,color:"#666"},children:["Task ID: ",e.id||e.external_id||""]}),(0,r.jsx)(l.default,{sx:{mt:1},children:w&&w[e.id]&&w[e.id].length>0?w[e.id].map(e=>(0,r.jsx)(s.default,{variant:"outlined",sx:{my:1},children:(0,r.jsxs)(d.default,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Start:"})," ",function(e){let t=String(e||"").match(/(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2})/);if(t)return`${t[3]}/${t[2]}/${t[1]} ${t[4]}:${t[5]}`;try{let t=new Date(e),r=e=>e<10?"0"+e:e;return`${r(t.getDate())}/${r(t.getMonth()+1)}/${t.getFullYear()} ${r(t.getHours())}:${r(t.getMinutes())}`}catch(t){return e||"-"}}(e.start)," Â  ",(0,r.jsx)("strong",{children:"End:"})," ",function(e){let t=String(e||"").match(/(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2})/);if(t)return`${t[3]}/${t[2]}/${t[1]} ${t[4]}:${t[5]}`;try{let t=new Date(e),r=e=>e<10?"0"+e:e;return`${r(t.getDate())}/${r(t.getMonth()+1)}/${t.getFullYear()} ${r(t.getHours())}:${r(t.getMinutes())}`}catch(t){return e||"-"}}(e.end)]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Teknisi:"})," ",e.user?(e.user.nipp?e.user.nipp+" â€¢ ":"")+(e.user.name||e.user.email||e.user.id):"-"]}),e.notes?(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Keterangan:"})," ",e.notes]}):null,e.photoUrl?(0,r.jsx)("div",{style:{marginTop:6},children:(0,r.jsx)("a",{href:b(e.photoUrl),target:"_blank",rel:"noreferrer",children:(0,r.jsx)("img",{src:b(e.photoUrl),alt:"photo",style:{width:160,height:"auto",borderRadius:6,border:"1px solid #ddd"},loading:"lazy"})})}):null,e.signatureUrl?(0,r.jsx)("div",{style:{marginTop:6},children:(0,r.jsx)("a",{href:e.signatureUrl,target:"_blank",rel:"noreferrer",children:"Download Signature"})}):null]})},e.id)):(0,r.jsx)("div",{style:{color:"#666"},children:"No realisasi entries for this task."})})]},e.id||e.external_id)):(0,r.jsx)("div",{style:{color:"#666"},children:"No tasks found for this work order."})]})})]})]})}e.s(["default",()=>f])}]);
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95013,e=>{"use strict";e.i(50382);var a=e.i(73161),l=e.i(79711),t=e.i(30878),i=e.i(30279),s=e.i(64848),n=e.i(56568),d=e.i(28569),r=e.i(27605),u=e.i(75964);function o(e){return(0,u.default)("MuiTableContainer",e)}(0,r.unstable_generateUtilityClasses)("MuiTableContainer",["root"]);var c=e.i(14294);let f=["className","component"],h=(0,d.default)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,a)=>a.root})({width:"100%",overflowX:"auto"}),x=t.forwardRef(function(e,t){let d=(0,n.default)({props:e,name:"MuiTableContainer"}),{className:r,component:u="div"}=d,x=(0,l.default)(d,f),j=(0,a.default)({},d,{component:u}),m=(e=>{let{classes:a}=e;return(0,s.unstable_composeClasses)({root:["root"]},o,a)})(j);return(0,c.jsx)(h,(0,a.default)({ref:t,as:u,className:(0,i.default)(m.root,r),ownerState:j},x))});e.s(["default",0,x],95013)},66769,e=>{"use strict";e.i(50382);var a=e.i(79711),l=e.i(73161),t=e.i(30878),i=e.i(30279),s=e.i(64848),n=e.i(28569),d=e.i(56568),r=e.i(27605),u=e.i(75964);function o(e){return(0,u.default)("MuiDialogActions",e)}(0,r.unstable_generateUtilityClasses)("MuiDialogActions",["root","spacing"]);var c=e.i(14294);let f=["className","disableSpacing"],h=(0,n.default)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,a)=>{let{ownerState:l}=e;return[a.root,!l.disableSpacing&&a.spacing]}})(({ownerState:e})=>(0,l.default)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),x=t.forwardRef(function(e,t){let n=(0,d.default)({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:u=!1}=n,x=(0,a.default)(n,f),j=(0,l.default)({},n,{disableSpacing:u}),m=(e=>{let{classes:a,disableSpacing:l}=e;return(0,s.unstable_composeClasses)({root:["root",!l&&"spacing"]},o,a)})(j);return(0,c.jsx)(h,(0,l.default)({className:(0,i.default)(m.root,r),ownerState:j,ref:t},x))});e.s(["default",0,x],66769)},3247,(e,a,l)=>{"use strict";var t=e.r(7478);Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=t(e.r(87915)),s=e.r(14294);l.default=(0,i.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},4080,(e,a,l)=>{"use strict";var t=e.r(7478);Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=t(e.r(87915)),s=e.r(14294);l.default=(0,i.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},23708,(e,a,l)=>{"use strict";var t=e.r(7478);Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=t(e.r(87915)),s=e.r(14294);l.default=(0,i.default)((0,s.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")},19290,e=>{"use strict";var a=e.i(14294),l=e.i(30878),t=e.i(23703),i=e.i(88627),s=e.i(28960),n=e.i(60152),d=e.i(22921),r=e.i(71666),u=e.i(73509),o=e.i(12744),c=e.i(95013),f=e.i(77678),h=e.i(91962),x=e.i(14067),j=e.i(87695),m=e.i(73743),v=e.i(66769),g=e.i(71606),p=e.i(1138),y=e.i(70993),S=e.i(1083),C=e.i(61609),_=e.i(3247),b=e.i(4080),z=e.i(23708);function A(){let[e,A]=(0,l.useState)([]),[w,M]=(0,l.useState)([]),[k,N]=(0,l.useState)([]),[P,R]=(0,l.useState)(!1),[T,D]=(0,l.useState)(!1),[E,I]=(0,l.useState)(null),[L,O]=(0,l.useState)(1),[H,K]=(0,l.useState)(20),[U,q]=(0,l.useState)(0),[V,W]=(0,l.useState)(""),[$,B]=(0,l.useState)(null),[J,X]=(0,l.useState)(null);async function F(e=L,a=H,l=V){R(!0);try{let i=new URLSearchParams;l&&i.set("q",l),e&&i.set("page",String(e)),a&&i.set("pageSize",String(a)),$&&i.set("jenis_alat_id",String($)),J&&i.set("site_id",String(J));let s=await (0,t.default)("/master/alats?"+i.toString());Array.isArray(s)?(A(s),q(0)):(A(s.data||[]),q(s.meta?.total||0),O(s.meta?.page||e),K(s.meta?.pageSize||a))}catch(e){console.error(e),alert(e?.body?.message||e?.message||"Load failed")}finally{R(!1)}}async function G(){try{let e=await (0,t.default)("/master/jenis-alat");M(Array.isArray(e)?e:[]);let a=await (0,t.default)("/master/sites");N(Array.isArray(a)?a:[])}catch(e){console.error(e)}}async function Q(){if(!E||!E.nama)return alert("Nama required");if(!E.jenis_alat_id)return alert("jenis_alat_id required");try{E.id?await (0,t.default)(`/master/alats/${E.id}`,{method:"PATCH",body:E}):await (0,t.default)("/master/alats",{method:"POST",body:E}),D(!1),I(null),await F()}catch(e){alert(e?.body?.message||e?.message||"Save failed")}}async function Y(e){if(confirm("Hapus alat?"))try{await (0,t.default)(`/master/alats/${e}`,{method:"DELETE"}),await F()}catch(e){alert(e?.body?.message||e?.message||"Delete failed")}}return(0,l.useEffect)(()=>{F(),G()},[]),(0,a.jsxs)(i.default,{sx:{p:2},children:[(0,a.jsxs)(i.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,a.jsxs)(i.default,{children:[(0,a.jsx)(i.default,{component:"h2",sx:{m:0},children:"Alat"}),(0,a.jsx)(i.default,{sx:{color:"text.secondary",fontSize:13},children:"Manage equipment instances"})]}),(0,a.jsxs)(i.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,a.jsxs)(p.default,{size:"small",value:$??"",onChange:e=>{B(e.target.value||null),O(1),F(1,H)},displayEmpty:!0,sx:{minWidth:160},children:[(0,a.jsx)(y.default,{value:"",children:(0,a.jsx)("em",{children:"All Jenis"})}),w.map(e=>(0,a.jsx)(y.default,{value:e.id,children:e.nama},e.id))]}),(0,a.jsxs)(p.default,{size:"small",value:J??"",onChange:e=>{X(e.target.value||null),O(1),F(1,H)},displayEmpty:!0,sx:{minWidth:160},children:[(0,a.jsx)(y.default,{value:"",children:(0,a.jsx)("em",{children:"All Sites"})}),k.map(e=>(0,a.jsx)(y.default,{value:e.id,children:e.name},e.id))]}),(0,a.jsx)(g.default,{size:"small",placeholder:"Search",value:V,onChange:e=>W(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(O(1),F(1,H,e.target.value))}}),(0,a.jsx)(n.default,{variant:"outlined",onClick:()=>{O(1),F(1,H,V)},startIcon:P?(0,a.jsx)(S.default,{size:18}):null,children:"Search"}),(0,a.jsx)(n.default,{variant:"outlined",onClick:()=>{W(""),B(null),X(null),O(1),F(1,H,"")},sx:{ml:1},children:"Clear"}),(0,a.jsx)(n.default,{variant:"outlined",onClick:()=>F(L,H,V),startIcon:P?(0,a.jsx)(S.default,{size:18}):null,children:"Refresh"}),(0,a.jsx)(n.default,{variant:"contained",sx:{ml:1},startIcon:(0,a.jsx)(z.default,{}),onClick:function(){I({nama:"",kode:"",serial_no:"",jenis_alat_id:null,site_id:null,notes:""}),D(!0)},children:"Create Alat"})]})]}),(0,a.jsx)(s.default,{children:(0,a.jsx)(c.default,{children:(0,a.jsxs)(r.default,{size:"small",children:[(0,a.jsx)(f.default,{children:(0,a.jsxs)(h.default,{children:[(0,a.jsx)(o.default,{children:"ID"}),(0,a.jsx)(o.default,{children:"Nama"}),(0,a.jsx)(o.default,{children:"Jenis"}),(0,a.jsx)(o.default,{children:"Site"}),(0,a.jsx)(o.default,{children:"Serial/Kode"}),(0,a.jsx)(o.default,{align:"right",children:"Action"})]})}),(0,a.jsx)(u.default,{children:e.map(e=>(0,a.jsxs)(h.default,{hover:!0,children:[(0,a.jsx)(o.default,{children:e.id}),(0,a.jsx)(o.default,{children:e.nama}),(0,a.jsx)(o.default,{children:e.jenis_alat?e.jenis_alat.nama:"-"}),(0,a.jsx)(o.default,{children:e.site?e.site.name:"-"}),(0,a.jsx)(o.default,{children:e.kode||e.serial_no||"-"}),(0,a.jsxs)(o.default,{align:"right",children:[(0,a.jsx)(C.default,{title:"Edit",children:(0,a.jsx)(d.default,{size:"small",onClick:()=>{I({...e,jenis_alat_id:e.jenis_alat?e.jenis_alat.id:null,site_id:e.site?e.site.id:null}),D(!0)},children:(0,a.jsx)(_.default,{fontSize:"small"})})}),(0,a.jsx)(C.default,{title:"Delete",children:(0,a.jsx)(d.default,{size:"small",color:"error",onClick:()=>Y(e.id),children:(0,a.jsx)(b.default,{fontSize:"small"})})})]})]},e.id))})]})})}),(0,a.jsxs)(i.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:1},children:[(0,a.jsxs)(i.default,{children:[(0,a.jsx)(n.default,{size:"small",disabled:L<=1,onClick:()=>{let e=Math.max(1,L-1);O(e),F(e,H,V)},children:"Prev"}),(0,a.jsx)(n.default,{size:"small",sx:{ml:1},disabled:H<=0||U>0&&L*H>=U,onClick:()=>{let e=L+1;O(e),F(e,H,V)},children:"Next"}),(0,a.jsxs)(i.default,{component:"span",sx:{ml:2,color:"text.secondary"},children:["Page ",L," ",U?`of ${Math.ceil(U/H)}`:""]})]}),(0,a.jsxs)(i.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,a.jsx)(i.default,{sx:{color:"text.secondary",fontSize:13},children:"Per page"}),(0,a.jsxs)(p.default,{size:"small",value:H,onChange:e=>{let a=Number(e.target.value);K(a),O(1),F(1,a,V)},children:[(0,a.jsx)(y.default,{value:10,children:"10"}),(0,a.jsx)(y.default,{value:20,children:"20"}),(0,a.jsx)(y.default,{value:50,children:"50"})]})]})]}),(0,a.jsxs)(x.default,{open:T,onClose:()=>{D(!1),I(null)},fullWidth:!0,children:[(0,a.jsx)(j.default,{children:E?.id?"Edit Alat":"Create Alat"}),(0,a.jsx)(m.default,{children:(0,a.jsxs)(i.default,{sx:{display:"grid",gap:2,mt:1},children:[(0,a.jsx)(g.default,{label:"Nama",size:"small",value:E?.nama||"",onChange:e=>I({...E,nama:e.target.value})}),(0,a.jsx)(g.default,{label:"Kode",size:"small",value:E?.kode||"",onChange:e=>I({...E,kode:e.target.value})}),(0,a.jsx)(g.default,{label:"Serial No",size:"small",value:E?.serial_no||"",onChange:e=>I({...E,serial_no:e.target.value})}),(0,a.jsxs)(p.default,{size:"small",value:E?.jenis_alat_id??"",onChange:e=>I({...E,jenis_alat_id:e.target.value||null}),children:[(0,a.jsx)(y.default,{value:"",children:(0,a.jsx)("em",{children:"Select jenis"})}),w.map(e=>(0,a.jsx)(y.default,{value:e.id,children:e.nama},e.id))]}),(0,a.jsxs)(p.default,{size:"small",value:E?.site_id??"",onChange:e=>I({...E,site_id:e.target.value||null}),children:[(0,a.jsx)(y.default,{value:"",children:(0,a.jsx)("em",{children:"None"})}),k.map(e=>(0,a.jsx)(y.default,{value:e.id,children:e.name},e.id))]}),(0,a.jsx)(g.default,{label:"Notes",size:"small",multiline:!0,minRows:2,value:E?.notes||"",onChange:e=>I({...E,notes:e.target.value})})]})}),(0,a.jsxs)(v.default,{children:[(0,a.jsx)(n.default,{onClick:()=>{D(!1),I(null)},children:"Cancel"}),(0,a.jsx)(n.default,{variant:"contained",onClick:Q,children:"Save"})]})]})]})}e.s(["default",()=>A])}]);
module.exports=[45389,97577,a=>{"use strict";var b=a.i(41414),c=a.i(19916),d=a.i(55132),e=a.i(70219),f=a.i(26353);a.s(["unstable_extendSxProp",()=>f.default],97577);var f=f,g=a.i(49945),h=a.i(45481),i=a.i(52283),j=a.i(50997),k=a.i(55980),l=a.i(14220);function m(a){return(0,l.default)("MuiTypography",a)}(0,k.unstable_generateUtilityClasses)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var n=a.i(56856);let o=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],p=(0,h.default)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,c.variant&&b[c.variant],"inherit"!==c.align&&b[`align${(0,j.default)(c.align)}`],c.noWrap&&b.noWrap,c.gutterBottom&&b.gutterBottom,c.paragraph&&b.paragraph]}})(({theme:a,ownerState:b})=>(0,c.default)({margin:0},"inherit"===b.variant&&{font:"inherit"},"inherit"!==b.variant&&a.typography[b.variant],"inherit"!==b.align&&{textAlign:b.align},b.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},b.gutterBottom&&{marginBottom:"0.35em"},b.paragraph&&{marginBottom:16})),q={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},r={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},s=d.forwardRef(function(a,d){let h,k=(0,i.default)({props:a,name:"MuiTypography"}),l=r[h=k.color]||h,s=(0,f.default)((0,c.default)({},k,{color:l})),{align:t="inherit",className:u,component:v,gutterBottom:w=!1,noWrap:x=!1,paragraph:y=!1,variant:z="body1",variantMapping:A=q}=s,B=(0,b.default)(s,o),C=(0,c.default)({},s,{align:t,color:l,className:u,component:v,gutterBottom:w,noWrap:x,paragraph:y,variant:z,variantMapping:A}),D=v||(y?"p":A[z]||q[z])||"span",E=(a=>{let{align:b,gutterBottom:c,noWrap:d,paragraph:e,variant:f,classes:h}=a,i={root:["root",f,"inherit"!==a.align&&`align${(0,j.default)(b)}`,c&&"gutterBottom",d&&"noWrap",e&&"paragraph"]};return(0,g.unstable_composeClasses)(i,m,h)})(C);return(0,n.jsx)(p,(0,c.default)({as:D,ref:d,ownerState:C,className:(0,e.default)(E.root,u)},B))});a.s(["default",0,s],45389)},19247,a=>{"use strict";var b=a.i(55980),c=a.i(14220);function d(a){return(0,c.default)("MuiDivider",a)}let e=(0,b.unstable_generateUtilityClasses)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);a.s(["default",0,e,"getDividerUtilityClass",()=>d])},6021,a=>{"use strict";var b=a.i(41414),c=a.i(19916),d=a.i(55132),e=a.i(70219),f=a.i(10161),g=a.i(14220),h=a.i(74360);let i=(0,a.i(90858).default)();var j=a.i(36243),k=a.i(74200),l=a.i(29036),m=a.i(9645),n=a.i(12559),o=a.i(56856);let p=["component","direction","spacing","divider","children","className","useFlexGap"],q=(0,l.default)(),r=i("div",{name:"MuiStack",slot:"Root",overridesResolver:(a,b)=>b.root});function s(a){return(0,j.default)({props:a,name:"MuiStack",defaultTheme:q})}let t=({ownerState:a,theme:b})=>{let d=(0,c.default)({display:"flex",flexDirection:"column"},(0,m.handleBreakpoints)({theme:b},(0,m.resolveBreakpointValues)({values:a.direction,breakpoints:b.breakpoints.values}),a=>({flexDirection:a})));if(a.spacing){let c=(0,n.createUnarySpacing)(b),e=Object.keys(b.breakpoints.values).reduce((b,c)=>(("object"==typeof a.spacing&&null!=a.spacing[c]||"object"==typeof a.direction&&null!=a.direction[c])&&(b[c]=!0),b),{}),g=(0,m.resolveBreakpointValues)({values:a.direction,base:e}),h=(0,m.resolveBreakpointValues)({values:a.spacing,base:e});"object"==typeof g&&Object.keys(g).forEach((a,b,c)=>{if(!g[a]){let d=b>0?g[c[b-1]]:"column";g[a]=d}}),d=(0,f.default)(d,(0,m.handleBreakpoints)({theme:b},h,(b,d)=>a.useFlexGap?{gap:(0,n.getValue)(c,b)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[d?g[d]:a.direction]}`]:(0,n.getValue)(c,b)}}))}return(0,m.mergeBreakpointsInOrder)(b.breakpoints,d)};var u=a.i(45481),v=a.i(52283);let w=function(a={}){let{createStyledComponent:f=r,useThemeProps:i=s,componentName:j="MuiStack"}=a,l=f(t);return d.forwardRef(function(a,f){let m,n=i(a),q=(0,k.extendSxProp)(n),{component:r="div",direction:s="column",spacing:t=0,divider:u,children:v,className:w,useFlexGap:x=!1}=q,y=(0,b.default)(q,p),z=(0,h.default)({root:["root"]},a=>(0,g.default)(j,a),{});return(0,o.jsx)(l,(0,c.default)({as:r,ownerState:{direction:s,spacing:t,useFlexGap:x},ref:f,className:(0,e.default)(z.root,w)},y,{children:u?(m=d.Children.toArray(v).filter(Boolean)).reduce((a,b,c)=>(a.push(b),c<m.length-1&&a.push(d.cloneElement(u,{key:`separator-${c}`})),a),[]):v}))})}({createStyledComponent:(0,u.default)("div",{name:"MuiStack",slot:"Root",overridesResolver:(a,b)=>b.root}),useThemeProps:a=>(0,v.default)({props:a,name:"MuiStack"})});a.s(["default",0,w],6021)},13121,a=>{"use strict";var b=a.i(41414),c=a.i(19916),d=a.i(55132),e=a.i(70219),f=a.i(49945),g=a.i(30092),h=a.i(45481),i=a.i(52283),j=a.i(19247),k=a.i(56856);let l=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],m=(0,h.default)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,c.absolute&&b.absolute,b[c.variant],c.light&&b.light,"vertical"===c.orientation&&b.vertical,c.flexItem&&b.flexItem,c.children&&b.withChildren,c.children&&"vertical"===c.orientation&&b.withChildrenVertical,"right"===c.textAlign&&"vertical"!==c.orientation&&b.textAlignRight,"left"===c.textAlign&&"vertical"!==c.orientation&&b.textAlignLeft]}})(({theme:a,ownerState:b})=>(0,c.default)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(a.vars||a).palette.divider,borderBottomWidth:"thin"},b.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},b.light&&{borderColor:a.vars?`rgba(${a.vars.palette.dividerChannel} / 0.08)`:(0,g.alpha)(a.palette.divider,.08)},"inset"===b.variant&&{marginLeft:72},"middle"===b.variant&&"horizontal"===b.orientation&&{marginLeft:a.spacing(2),marginRight:a.spacing(2)},"middle"===b.variant&&"vertical"===b.orientation&&{marginTop:a.spacing(1),marginBottom:a.spacing(1)},"vertical"===b.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},b.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:a})=>(0,c.default)({},a.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:a,ownerState:b})=>(0,c.default)({},b.children&&"vertical"!==b.orientation&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(a.vars||a).palette.divider}`}}),({theme:a,ownerState:b})=>(0,c.default)({},b.children&&"vertical"===b.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(a.vars||a).palette.divider}`}}),({ownerState:a})=>(0,c.default)({},"right"===a.textAlign&&"vertical"!==a.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===a.textAlign&&"vertical"!==a.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),n=(0,h.default)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.wrapper,"vertical"===c.orientation&&b.wrapperVertical]}})(({theme:a,ownerState:b})=>(0,c.default)({display:"inline-block",paddingLeft:`calc(${a.spacing(1)} * 1.2)`,paddingRight:`calc(${a.spacing(1)} * 1.2)`},"vertical"===b.orientation&&{paddingTop:`calc(${a.spacing(1)} * 1.2)`,paddingBottom:`calc(${a.spacing(1)} * 1.2)`})),o=d.forwardRef(function(a,d){let g=(0,i.default)({props:a,name:"MuiDivider"}),{absolute:h=!1,children:o,className:p,component:q=o?"div":"hr",flexItem:r=!1,light:s=!1,orientation:t="horizontal",role:u="hr"!==q?"separator":void 0,textAlign:v="center",variant:w="fullWidth"}=g,x=(0,b.default)(g,l),y=(0,c.default)({},g,{absolute:h,component:q,flexItem:r,light:s,orientation:t,role:u,textAlign:v,variant:w}),z=(a=>{let{absolute:b,children:c,classes:d,flexItem:e,light:g,orientation:h,textAlign:i,variant:k}=a;return(0,f.unstable_composeClasses)({root:["root",b&&"absolute",k,g&&"light","vertical"===h&&"vertical",e&&"flexItem",c&&"withChildren",c&&"vertical"===h&&"withChildrenVertical","right"===i&&"vertical"!==h&&"textAlignRight","left"===i&&"vertical"!==h&&"textAlignLeft"],wrapper:["wrapper","vertical"===h&&"wrapperVertical"]},j.getDividerUtilityClass,d)})(y);return(0,k.jsx)(m,(0,c.default)({as:q,className:(0,e.default)(z.root,p),role:u,ref:d,ownerState:y},x,{children:o?(0,k.jsx)(n,{className:z.wrapper,ownerState:y,children:o}):null}))});o.muiSkipListHighlight=!0,a.s(["default",0,o])},26178,42802,a=>{"use strict";var b=a.i(19916),c=a.i(41414),d=a.i(55132),e=a.i(70219),f=a.i(49945),g=a.i(45481),h=a.i(52283),i=a.i(9098),j=a.i(55980),k=a.i(14220);function l(a){return(0,k.default)("MuiCard",a)}(0,j.unstable_generateUtilityClasses)("MuiCard",["root"]);var m=a.i(56856);let n=["className","raised"],o=(0,g.default)(i.default,{name:"MuiCard",slot:"Root",overridesResolver:(a,b)=>b.root})(()=>({overflow:"hidden"})),p=d.forwardRef(function(a,d){let g=(0,h.default)({props:a,name:"MuiCard"}),{className:i,raised:j=!1}=g,k=(0,c.default)(g,n),p=(0,b.default)({},g,{raised:j}),q=(a=>{let{classes:b}=a;return(0,f.unstable_composeClasses)({root:["root"]},l,b)})(p);return(0,m.jsx)(o,(0,b.default)({className:(0,e.default)(q.root,i),elevation:j?8:void 0,ref:d,ownerState:p},k))});function q(a){return(0,k.default)("MuiCardContent",a)}a.s(["default",0,p],26178),(0,j.unstable_generateUtilityClasses)("MuiCardContent",["root"]);let r=["className","component"],s=(0,g.default)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(a,b)=>b.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),t=d.forwardRef(function(a,d){let g=(0,h.default)({props:a,name:"MuiCardContent"}),{className:i,component:j="div"}=g,k=(0,c.default)(g,r),l=(0,b.default)({},g,{component:j}),n=(a=>{let{classes:b}=a;return(0,f.unstable_composeClasses)({root:["root"]},q,b)})(l);return(0,m.jsx)(s,(0,b.default)({as:j,className:(0,e.default)(n.root,i),ownerState:l,ref:d},k))});a.s(["default",0,t],42802)},3296,a=>{"use strict";var b=a.i(56856),c=a.i(55132),d=a.i(59165),e=a.i(62205),f=a.i(61981),g=a.i(45389),h=a.i(26178),i=a.i(42802),j=a.i(6021),k=a.i(13121);function l({params:a}){let l=a?.id,[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)({});function u(a){if(!a||a.startsWith("http://")||a.startsWith("https://"))return a;let b="undefined"!=typeof process&&process.env&&1?"http://localhost:4000/api":"",c=b||"";return c?(c.endsWith("/api")&&(c=c.slice(0,-4)),a.startsWith("/")||(a="/"+a),c+a):a}async function v(a){n(!0);try{let[b,c,e]=await Promise.all([(0,d.default)(`/work-orders/${encodeURIComponent(a)}`),(0,d.default)(`/work-orders/${encodeURIComponent(a)}/tasks`),(0,d.default)(`/work-orders/${encodeURIComponent(a)}/realisasi/full`)]),f=b?.data??b,g=Array.isArray(c)?c:c?.data??c?.items??[],h=Array.isArray(e)?e:e?.items??e?.data??[],i={};for(let a of h||[]){let b=a.taskId||a.task_id||(a.assignmentId?String(a.assignmentId):"unknown");i[b]=i[b]||[],i[b].push(a)}p(f),r(g),t(i)}catch(a){console.error("load view realisasi",a),p(null),r([]),t({})}finally{n(!1)}}return(0,c.useEffect)(()=>{l&&v(l)},[l]),(0,b.jsxs)("main",{style:{padding:24},children:[(0,b.jsxs)(j.default,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.default,{variant:"h5",children:"View Realisasi"}),(0,b.jsxs)(g.default,{variant:"subtitle2",color:"textSecondary",children:["Work Order: ",o?.doc_no||o?.id||l]})]}),(0,b.jsx)("div",{children:(0,b.jsx)(f.default,{href:"/realisasi",variant:"outlined",children:"Back to list"})})]}),m?(0,b.jsx)("div",{children:"Loading..."}):null,(0,b.jsxs)(e.default,{sx:{display:"grid",gridTemplateColumns:"1fr",gap:2},children:[(0,b.jsx)(h.default,{variant:"outlined",children:(0,b.jsxs)(i.default,{children:[(0,b.jsx)(g.default,{variant:"subtitle1",children:"Work Order Details"}),(0,b.jsxs)("div",{style:{marginTop:8},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Start:"})," ",o&&(o.start_date||o.raw?.start_date)?function(a){let b=String(a).match(/(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2})/);if(b)return`${b[3]}/${b[2]}/${b[1]} ${b[4]}:${b[5]}`;try{let b=new Date(a),c=a=>a<10?"0"+a:a;return`${c(b.getDate())}/${c(b.getMonth()+1)}/${b.getFullYear()} ${c(b.getHours())}:${c(b.getMinutes())}`}catch(b){return String(a)}}(o.start_date||o.raw?.start_date):"-"]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"End:"})," ",o&&(o.end_date||o.raw?.end_date)?function(a){let b=String(a).match(/(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2})/);if(b)return`${b[3]}/${b[2]}/${b[1]} ${b[4]}:${b[5]}`;try{let b=new Date(a),c=a=>a<10?"0"+a:a;return`${c(b.getDate())}/${c(b.getMonth()+1)}/${b.getFullYear()} ${c(b.getHours())}:${c(b.getMinutes())}`}catch(b){return String(a)}}(o.end_date||o.raw?.end_date):"-"]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Status:"})," ",o?.status||o?.raw?.status||"-"]})]})]})}),(0,b.jsx)(h.default,{variant:"outlined",children:(0,b.jsxs)(i.default,{children:[(0,b.jsx)(g.default,{variant:"subtitle1",children:"Tasks & Realisasi"}),(0,b.jsx)(k.default,{sx:{my:1}}),q&&q.length>0?q.map(a=>(0,b.jsxs)(e.default,{sx:{mb:2},children:[(0,b.jsx)(g.default,{variant:"subtitle2",children:a.name||a.task_name||"Task"}),(0,b.jsxs)("div",{style:{fontSize:13,color:"#666"},children:["Task ID: ",a.id||a.external_id||""]}),(0,b.jsx)(e.default,{sx:{mt:1},children:s&&s[a.id]&&s[a.id].length>0?s[a.id].map(a=>(0,b.jsx)(h.default,{variant:"outlined",sx:{my:1},children:(0,b.jsxs)(i.default,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Start:"})," ",function(a){let b=String(a||"").match(/(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2})/);if(b)return`${b[3]}/${b[2]}/${b[1]} ${b[4]}:${b[5]}`;try{let b=new Date(a),c=a=>a<10?"0"+a:a;return`${c(b.getDate())}/${c(b.getMonth()+1)}/${b.getFullYear()} ${c(b.getHours())}:${c(b.getMinutes())}`}catch(b){return a||"-"}}(a.start),"   ",(0,b.jsx)("strong",{children:"End:"})," ",function(a){let b=String(a||"").match(/(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2})/);if(b)return`${b[3]}/${b[2]}/${b[1]} ${b[4]}:${b[5]}`;try{let b=new Date(a),c=a=>a<10?"0"+a:a;return`${c(b.getDate())}/${c(b.getMonth()+1)}/${b.getFullYear()} ${c(b.getHours())}:${c(b.getMinutes())}`}catch(b){return a||"-"}}(a.end)]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Teknisi:"})," ",a.user?(a.user.nipp?a.user.nipp+" • ":"")+(a.user.name||a.user.email||a.user.id):"-"]}),a.notes?(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Keterangan:"})," ",a.notes]}):null,a.photoUrl?(0,b.jsx)("div",{style:{marginTop:6},children:(0,b.jsx)("a",{href:u(a.photoUrl),target:"_blank",rel:"noreferrer",children:(0,b.jsx)("img",{src:u(a.photoUrl),alt:"photo",style:{width:160,height:"auto",borderRadius:6,border:"1px solid #ddd"},loading:"lazy"})})}):null,a.signatureUrl?(0,b.jsx)("div",{style:{marginTop:6},children:(0,b.jsx)("a",{href:a.signatureUrl,target:"_blank",rel:"noreferrer",children:"Download Signature"})}):null]})},a.id)):(0,b.jsx)("div",{style:{color:"#666"},children:"No realisasi entries for this task."})})]},a.id||a.external_id)):(0,b.jsx)("div",{style:{color:"#666"},children:"No tasks found for this work order."})]})})]})]})}a.s(["default",()=>l])}];

//# sourceMappingURL=web_fa762aaf._.js.map
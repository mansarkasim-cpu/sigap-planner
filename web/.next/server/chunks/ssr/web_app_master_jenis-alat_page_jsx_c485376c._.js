module.exports=[1180,a=>{"use strict";var b=a.i(56856),c=a.i(55132),d=a.i(59165),e=a.i(62205),f=a.i(9098),g=a.i(61981),h=a.i(89280),i=a.i(6771),j=a.i(55806),k=a.i(34122),l=a.i(3683),m=a.i(48154),n=a.i(81777),o=a.i(62104),p=a.i(32775),q=a.i(45117),r=a.i(11338),s=a.i(13874),t=a.i(13541),u=a.i(8607),v=a.i(21712),w=a.i(26281),x=a.i(17708),y=a.i(60750),z=a.i(6845);function A(){let[a,A]=(0,c.useState)([]),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(1),[J,K]=(0,c.useState)(20),[L,M]=(0,c.useState)(0),[N,O]=(0,c.useState)("");async function P(a=H,b=J,c=N){C(!0);try{let e=new URLSearchParams;c&&e.set("q",c),a&&e.set("page",String(a)),b&&e.set("pageSize",String(b));let f=await (0,d.default)("/master/jenis-alat?"+e.toString());Array.isArray(f)?(A(f),M(0)):(A(f.data||[]),M(f.meta?.total||0),I(f.meta?.page||a),K(f.meta?.pageSize||b))}catch(a){console.error(a),alert(a?.body?.message||a?.message||"Load failed")}finally{C(!1)}}async function Q(){if(!F||!F.nama)return alert("Nama required");try{F.id?await (0,d.default)(`/master/jenis-alat/${F.id}`,{method:"PATCH",body:F}):await (0,d.default)("/master/jenis-alat",{method:"POST",body:F}),E(!1),G(null),await P()}catch(a){alert(a?.body?.message||a?.message||"Save failed")}}async function R(a){if(confirm("Hapus jenis alat?"))try{await (0,d.default)(`/master/jenis-alat/${a}`,{method:"DELETE"}),await P()}catch(a){alert(a?.body?.message||a?.message||"Delete failed")}}return(0,c.useEffect)(()=>{P()},[]),(0,b.jsxs)(e.default,{sx:{p:2},children:[(0,b.jsxs)(e.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,b.jsxs)(e.default,{children:[(0,b.jsx)(e.default,{component:"h2",sx:{m:0},children:"Jenis Alat"}),(0,b.jsx)(e.default,{sx:{color:"text.secondary",fontSize:13},children:"Manage equipment types"})]}),(0,b.jsxs)(e.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,b.jsx)(s.default,{size:"small",placeholder:"Search",value:N,onChange:a=>O(a.target.value),onKeyDown:a=>{"Enter"===a.key&&(I(1),P(1,J,a.target.value))}}),(0,b.jsx)(g.default,{variant:"outlined",onClick:()=>{I(1),P(1,J,N)},startIcon:B?(0,b.jsx)(v.default,{size:18}):null,children:"Search"}),(0,b.jsx)(g.default,{variant:"outlined",onClick:()=>{O(""),I(1),P(1,J,"")},sx:{ml:1},children:"Clear"}),(0,b.jsx)(g.default,{variant:"outlined",onClick:()=>P(H,J,N),startIcon:B?(0,b.jsx)(v.default,{size:18}):null,children:"Refresh"}),(0,b.jsx)(g.default,{variant:"contained",sx:{ml:1},startIcon:(0,b.jsx)(z.default,{}),onClick:function(){G({nama:"",description:""}),E(!0)},children:"Create"})]})]}),(0,b.jsx)(f.default,{children:(0,b.jsx)(l.default,{children:(0,b.jsxs)(i.default,{size:"small",children:[(0,b.jsx)(m.default,{children:(0,b.jsxs)(n.default,{children:[(0,b.jsx)(k.default,{children:"ID"}),(0,b.jsx)(k.default,{children:"Nama"}),(0,b.jsx)(k.default,{children:"Description"}),(0,b.jsx)(k.default,{align:"right",children:"Action"})]})}),(0,b.jsx)(j.default,{children:a.map(a=>(0,b.jsxs)(n.default,{hover:!0,children:[(0,b.jsx)(k.default,{children:a.id}),(0,b.jsx)(k.default,{children:a.nama}),(0,b.jsx)(k.default,{sx:{maxWidth:300,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.description}),(0,b.jsxs)(k.default,{align:"right",children:[(0,b.jsx)(w.default,{title:"Edit",children:(0,b.jsx)(h.default,{size:"small",onClick:()=>{G({...a}),E(!0)},children:(0,b.jsx)(x.default,{fontSize:"small"})})}),(0,b.jsx)(w.default,{title:"Delete",children:(0,b.jsx)(h.default,{size:"small",color:"error",onClick:()=>R(a.id),children:(0,b.jsx)(y.default,{fontSize:"small"})})})]})]},a.id))})]})})}),(0,b.jsxs)(e.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:1},children:[(0,b.jsxs)(e.default,{children:[(0,b.jsx)(g.default,{size:"small",disabled:H<=1,onClick:()=>{let a=Math.max(1,H-1);I(a),P(a,J,N)},children:"Prev"}),(0,b.jsx)(g.default,{size:"small",sx:{ml:1},disabled:J<=0||L>0&&H*J>=L,onClick:()=>{let a=H+1;I(a),P(a,J,N)},children:"Next"}),(0,b.jsxs)(e.default,{component:"span",sx:{ml:2,color:"text.secondary"},children:["Page ",H," ",L?`of ${Math.ceil(L/J)}`:""]})]}),(0,b.jsxs)(e.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,b.jsx)(e.default,{sx:{color:"text.secondary",fontSize:13},children:"Per page"}),(0,b.jsxs)(t.default,{size:"small",value:J,onChange:a=>{let b=Number(a.target.value);K(b),I(1),P(1,b,N)},children:[(0,b.jsx)(u.default,{value:10,children:"10"}),(0,b.jsx)(u.default,{value:20,children:"20"}),(0,b.jsx)(u.default,{value:50,children:"50"})]})]})]}),(0,b.jsxs)(o.default,{open:D,onClose:()=>{E(!1),G(null)},fullWidth:!0,children:[(0,b.jsx)(p.default,{children:F?.id?"Edit":"Create"}),(0,b.jsx)(q.default,{children:(0,b.jsxs)(e.default,{sx:{display:"grid",gap:2,mt:1},children:[(0,b.jsx)(s.default,{label:"Nama",size:"small",value:F?.nama||"",onChange:a=>G({...F,nama:a.target.value})}),(0,b.jsx)(s.default,{label:"Description",size:"small",multiline:!0,minRows:3,value:F?.description||"",onChange:a=>G({...F,description:a.target.value})})]})}),(0,b.jsxs)(r.default,{children:[(0,b.jsx)(g.default,{onClick:()=>{E(!1),G(null)},children:"Cancel"}),(0,b.jsx)(g.default,{variant:"contained",onClick:Q,children:"Save"})]})]})]})}a.s(["default",()=>A])}];

//# sourceMappingURL=web_app_master_jenis-alat_page_jsx_c485376c._.js.map
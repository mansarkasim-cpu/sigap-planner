module.exports=[3683,a=>{"use strict";var b=a.i(19916),c=a.i(41414),d=a.i(55132),e=a.i(70219),f=a.i(49945),g=a.i(52283),h=a.i(45481),i=a.i(55980),j=a.i(14220);function k(a){return(0,j.default)("MuiTableContainer",a)}(0,i.unstable_generateUtilityClasses)("MuiTableContainer",["root"]);var l=a.i(56856);let m=["className","component"],n=(0,h.default)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(a,b)=>b.root})({width:"100%",overflowX:"auto"}),o=d.forwardRef(function(a,d){let h=(0,g.default)({props:a,name:"MuiTableContainer"}),{className:i,component:j="div"}=h,o=(0,c.default)(h,m),p=(0,b.default)({},h,{component:j}),q=(a=>{let{classes:b}=a;return(0,f.unstable_composeClasses)({root:["root"]},k,b)})(p);return(0,l.jsx)(n,(0,b.default)({ref:d,as:j,className:(0,e.default)(q.root,i),ownerState:p},o))});a.s(["default",0,o],3683)},11338,a=>{"use strict";var b=a.i(41414),c=a.i(19916),d=a.i(55132),e=a.i(70219),f=a.i(49945),g=a.i(45481),h=a.i(52283),i=a.i(55980),j=a.i(14220);function k(a){return(0,j.default)("MuiDialogActions",a)}(0,i.unstable_generateUtilityClasses)("MuiDialogActions",["root","spacing"]);var l=a.i(56856);let m=["className","disableSpacing"],n=(0,g.default)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,!c.disableSpacing&&b.spacing]}})(({ownerState:a})=>(0,c.default)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!a.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),o=d.forwardRef(function(a,d){let g=(0,h.default)({props:a,name:"MuiDialogActions"}),{className:i,disableSpacing:j=!1}=g,o=(0,b.default)(g,m),p=(0,c.default)({},g,{disableSpacing:j}),q=(a=>{let{classes:b,disableSpacing:c}=a;return(0,f.unstable_composeClasses)({root:["root",!c&&"spacing"]},k,b)})(p);return(0,l.jsx)(n,(0,c.default)({className:(0,e.default)(q.root,i),ownerState:p,ref:d},o))});a.s(["default",0,o],11338)},17708,(a,b,c)=>{"use strict";var d=a.r(62817);Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var e=d(a.r(79626)),f=a.r(56856);c.default=(0,e.default)((0,f.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},60750,(a,b,c)=>{"use strict";var d=a.r(62817);Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var e=d(a.r(79626)),f=a.r(56856);c.default=(0,e.default)((0,f.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},6845,(a,b,c)=>{"use strict";var d=a.r(62817);Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var e=d(a.r(79626)),f=a.r(56856);c.default=(0,e.default)((0,f.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")},82906,a=>{"use strict";var b=a.i(56856),c=a.i(55132),d=a.i(59165),e=a.i(62205),f=a.i(9098),g=a.i(61981),h=a.i(89280),i=a.i(6771),j=a.i(55806),k=a.i(34122),l=a.i(3683),m=a.i(48154),n=a.i(81777),o=a.i(62104),p=a.i(32775),q=a.i(45117),r=a.i(11338),s=a.i(13874),t=a.i(13541),u=a.i(8607),v=a.i(21712),w=a.i(26281),x=a.i(17708),y=a.i(60750),z=a.i(6845);function A(){let[a,A]=(0,c.useState)([]),[B,C]=(0,c.useState)([]),[D,E]=(0,c.useState)([]),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(null),[L,M]=(0,c.useState)(1),[N,O]=(0,c.useState)(20),[P,Q]=(0,c.useState)(0),[R,S]=(0,c.useState)(""),[T,U]=(0,c.useState)(null),[V,W]=(0,c.useState)(null);async function X(a=L,b=N,c=R){G(!0);try{let e=new URLSearchParams;c&&e.set("q",c),a&&e.set("page",String(a)),b&&e.set("pageSize",String(b)),T&&e.set("jenis_alat_id",String(T)),V&&e.set("site_id",String(V));let f=await (0,d.default)("/master/alats?"+e.toString());Array.isArray(f)?(A(f),Q(0)):(A(f.data||[]),Q(f.meta?.total||0),M(f.meta?.page||a),O(f.meta?.pageSize||b))}catch(a){console.error(a),alert(a?.body?.message||a?.message||"Load failed")}finally{G(!1)}}async function Y(){try{let a=await (0,d.default)("/master/jenis-alat");C(Array.isArray(a)?a:[]);let b=await (0,d.default)("/master/sites");E(Array.isArray(b)?b:[])}catch(a){console.error(a)}}async function Z(){if(!J||!J.nama)return alert("Nama required");if(!J.jenis_alat_id)return alert("jenis_alat_id required");try{J.id?await (0,d.default)(`/master/alats/${J.id}`,{method:"PATCH",body:J}):await (0,d.default)("/master/alats",{method:"POST",body:J}),I(!1),K(null),await X()}catch(a){alert(a?.body?.message||a?.message||"Save failed")}}async function $(a){if(confirm("Hapus alat?"))try{await (0,d.default)(`/master/alats/${a}`,{method:"DELETE"}),await X()}catch(a){alert(a?.body?.message||a?.message||"Delete failed")}}return(0,c.useEffect)(()=>{X(),Y()},[]),(0,b.jsxs)(e.default,{sx:{p:2},children:[(0,b.jsxs)(e.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,b.jsxs)(e.default,{children:[(0,b.jsx)(e.default,{component:"h2",sx:{m:0},children:"Alat"}),(0,b.jsx)(e.default,{sx:{color:"text.secondary",fontSize:13},children:"Manage equipment instances"})]}),(0,b.jsxs)(e.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,b.jsxs)(t.default,{size:"small",value:T??"",onChange:a=>{U(a.target.value||null),M(1),X(1,N)},displayEmpty:!0,sx:{minWidth:160},children:[(0,b.jsx)(u.default,{value:"",children:(0,b.jsx)("em",{children:"All Jenis"})}),B.map(a=>(0,b.jsx)(u.default,{value:a.id,children:a.nama},a.id))]}),(0,b.jsxs)(t.default,{size:"small",value:V??"",onChange:a=>{W(a.target.value||null),M(1),X(1,N)},displayEmpty:!0,sx:{minWidth:160},children:[(0,b.jsx)(u.default,{value:"",children:(0,b.jsx)("em",{children:"All Sites"})}),D.map(a=>(0,b.jsx)(u.default,{value:a.id,children:a.name},a.id))]}),(0,b.jsx)(s.default,{size:"small",placeholder:"Search",value:R,onChange:a=>S(a.target.value),onKeyDown:a=>{"Enter"===a.key&&(M(1),X(1,N,a.target.value))}}),(0,b.jsx)(g.default,{variant:"outlined",onClick:()=>{M(1),X(1,N,R)},startIcon:F?(0,b.jsx)(v.default,{size:18}):null,children:"Search"}),(0,b.jsx)(g.default,{variant:"outlined",onClick:()=>{S(""),U(null),W(null),M(1),X(1,N,"")},sx:{ml:1},children:"Clear"}),(0,b.jsx)(g.default,{variant:"outlined",onClick:()=>X(L,N,R),startIcon:F?(0,b.jsx)(v.default,{size:18}):null,children:"Refresh"}),(0,b.jsx)(g.default,{variant:"contained",sx:{ml:1},startIcon:(0,b.jsx)(z.default,{}),onClick:function(){K({nama:"",kode:"",serial_no:"",jenis_alat_id:null,site_id:null,notes:""}),I(!0)},children:"Create Alat"})]})]}),(0,b.jsx)(f.default,{children:(0,b.jsx)(l.default,{children:(0,b.jsxs)(i.default,{size:"small",children:[(0,b.jsx)(m.default,{children:(0,b.jsxs)(n.default,{children:[(0,b.jsx)(k.default,{children:"ID"}),(0,b.jsx)(k.default,{children:"Nama"}),(0,b.jsx)(k.default,{children:"Jenis"}),(0,b.jsx)(k.default,{children:"Site"}),(0,b.jsx)(k.default,{children:"Serial/Kode"}),(0,b.jsx)(k.default,{align:"right",children:"Action"})]})}),(0,b.jsx)(j.default,{children:a.map(a=>(0,b.jsxs)(n.default,{hover:!0,children:[(0,b.jsx)(k.default,{children:a.id}),(0,b.jsx)(k.default,{children:a.nama}),(0,b.jsx)(k.default,{children:a.jenis_alat?a.jenis_alat.nama:"-"}),(0,b.jsx)(k.default,{children:a.site?a.site.name:"-"}),(0,b.jsx)(k.default,{children:a.kode||a.serial_no||"-"}),(0,b.jsxs)(k.default,{align:"right",children:[(0,b.jsx)(w.default,{title:"Edit",children:(0,b.jsx)(h.default,{size:"small",onClick:()=>{K({...a,jenis_alat_id:a.jenis_alat?a.jenis_alat.id:null,site_id:a.site?a.site.id:null}),I(!0)},children:(0,b.jsx)(x.default,{fontSize:"small"})})}),(0,b.jsx)(w.default,{title:"Delete",children:(0,b.jsx)(h.default,{size:"small",color:"error",onClick:()=>$(a.id),children:(0,b.jsx)(y.default,{fontSize:"small"})})})]})]},a.id))})]})})}),(0,b.jsxs)(e.default,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:1},children:[(0,b.jsxs)(e.default,{children:[(0,b.jsx)(g.default,{size:"small",disabled:L<=1,onClick:()=>{let a=Math.max(1,L-1);M(a),X(a,N,R)},children:"Prev"}),(0,b.jsx)(g.default,{size:"small",sx:{ml:1},disabled:N<=0||P>0&&L*N>=P,onClick:()=>{let a=L+1;M(a),X(a,N,R)},children:"Next"}),(0,b.jsxs)(e.default,{component:"span",sx:{ml:2,color:"text.secondary"},children:["Page ",L," ",P?`of ${Math.ceil(P/N)}`:""]})]}),(0,b.jsxs)(e.default,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,b.jsx)(e.default,{sx:{color:"text.secondary",fontSize:13},children:"Per page"}),(0,b.jsxs)(t.default,{size:"small",value:N,onChange:a=>{let b=Number(a.target.value);O(b),M(1),X(1,b,R)},children:[(0,b.jsx)(u.default,{value:10,children:"10"}),(0,b.jsx)(u.default,{value:20,children:"20"}),(0,b.jsx)(u.default,{value:50,children:"50"})]})]})]}),(0,b.jsxs)(o.default,{open:H,onClose:()=>{I(!1),K(null)},fullWidth:!0,children:[(0,b.jsx)(p.default,{children:J?.id?"Edit Alat":"Create Alat"}),(0,b.jsx)(q.default,{children:(0,b.jsxs)(e.default,{sx:{display:"grid",gap:2,mt:1},children:[(0,b.jsx)(s.default,{label:"Nama",size:"small",value:J?.nama||"",onChange:a=>K({...J,nama:a.target.value})}),(0,b.jsx)(s.default,{label:"Kode",size:"small",value:J?.kode||"",onChange:a=>K({...J,kode:a.target.value})}),(0,b.jsx)(s.default,{label:"Serial No",size:"small",value:J?.serial_no||"",onChange:a=>K({...J,serial_no:a.target.value})}),(0,b.jsxs)(t.default,{size:"small",value:J?.jenis_alat_id??"",onChange:a=>K({...J,jenis_alat_id:a.target.value||null}),children:[(0,b.jsx)(u.default,{value:"",children:(0,b.jsx)("em",{children:"Select jenis"})}),B.map(a=>(0,b.jsx)(u.default,{value:a.id,children:a.nama},a.id))]}),(0,b.jsxs)(t.default,{size:"small",value:J?.site_id??"",onChange:a=>K({...J,site_id:a.target.value||null}),children:[(0,b.jsx)(u.default,{value:"",children:(0,b.jsx)("em",{children:"None"})}),D.map(a=>(0,b.jsx)(u.default,{value:a.id,children:a.name},a.id))]}),(0,b.jsx)(s.default,{label:"Notes",size:"small",multiline:!0,minRows:2,value:J?.notes||"",onChange:a=>K({...J,notes:a.target.value})})]})}),(0,b.jsxs)(r.default,{children:[(0,b.jsx)(g.default,{onClick:()=>{I(!1),K(null)},children:"Cancel"}),(0,b.jsx)(g.default,{variant:"contained",onClick:Z,children:"Save"})]})]})]})}a.s(["default",()=>A])}];

//# sourceMappingURL=web_fcbef378._.js.map
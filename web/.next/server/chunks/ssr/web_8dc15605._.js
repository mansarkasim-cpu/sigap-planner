module.exports=[92935,(a,b,c)=>{},92157,(a,b,c)=>{a.r(92935);var d=a.r(55132),e=d&&"object"==typeof d&&"default"in d?d:{default:d},f="undefined"!=typeof process&&process.env&&!0,g=function(a){return"[object String]"===Object.prototype.toString.call(a)},h=function(){function a(a){var b=void 0===a?{}:a,c=b.name,d=void 0===c?"stylesheet":c,e=b.optimizeForSpeed,h=void 0===e?f:e;i(g(d),"`name` must be a string"),this._name=d,this._deletedRulePlaceholder="#"+d+"-deleted-rule____{}",i("boolean"==typeof h,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=h,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var b,c=a.prototype;return c.setOptimizeForSpeed=function(a){i("boolean"==typeof a,"`setOptimizeForSpeed` accepts a boolean"),i(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=a,this.inject()},c.isOptimizeForSpeed=function(){return this._optimizeForSpeed},c.inject=function(){var a=this;i(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(b,c){return"number"==typeof c?a._serverSheet.cssRules[c]={cssText:b}:a._serverSheet.cssRules.push({cssText:b}),c},deleteRule:function(b){a._serverSheet.cssRules[b]=null}}},c.getSheetForTag=function(a){if(a.sheet)return a.sheet;for(var b=0;b<document.styleSheets.length;b++)if(document.styleSheets[b].ownerNode===a)return document.styleSheets[b]},c.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},c.insertRule=function(a,b){return i(g(a),"`insertRule` accepts only strings"),"number"!=typeof b&&(b=this._serverSheet.cssRules.length),this._serverSheet.insertRule(a,b),this._rulesCount++},c.replaceRule=function(a,b){this._optimizeForSpeed;var c=this._serverSheet;if(b.trim()||(b=this._deletedRulePlaceholder),!c.cssRules[a])return a;c.deleteRule(a);try{c.insertRule(b,a)}catch(d){f||console.warn("StyleSheet: illegal rule: \n\n"+b+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),c.insertRule(this._deletedRulePlaceholder,a)}return a},c.deleteRule=function(a){this._serverSheet.deleteRule(a)},c.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},c.cssRules=function(){return this._serverSheet.cssRules},c.makeStyleTag=function(a,b,c){b&&i(g(b),"makeStyleTag accepts only strings as second parameter");var d=document.createElement("style");this._nonce&&d.setAttribute("nonce",this._nonce),d.type="text/css",d.setAttribute("data-"+a,""),b&&d.appendChild(document.createTextNode(b));var e=document.head||document.getElementsByTagName("head")[0];return c?e.insertBefore(d,c):e.appendChild(d),d},b=[{key:"length",get:function(){return this._rulesCount}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}(a.prototype,b),a}();function i(a,b){if(!a)throw Error("StyleSheet: "+b+".")}var j=function(a){for(var b=5381,c=a.length;c;)b=33*b^a.charCodeAt(--c);return b>>>0},k={};function l(a,b){if(!b)return"jsx-"+a;var c=String(b),d=a+c;return k[d]||(k[d]="jsx-"+j(a+"-"+c)),k[d]}function m(a,b){var c=a+(b=b.replace(/\/style/gi,"\\/style"));return k[c]||(k[c]=b.replace(/__jsx-style-dynamic-selector/g,a)),k[c]}var n=function(){function a(a){var b=void 0===a?{}:a,c=b.styleSheet,d=void 0===c?null:c,e=b.optimizeForSpeed,f=void 0!==e&&e;this._sheet=d||new h({name:"styled-jsx",optimizeForSpeed:f}),this._sheet.inject(),d&&"boolean"==typeof f&&(this._sheet.setOptimizeForSpeed(f),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var b=a.prototype;return b.add=function(a){var b=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(a.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed());var c=this.getIdAndRules(a),d=c.styleId,e=c.rules;if(d in this._instancesCounts){this._instancesCounts[d]+=1;return}var f=e.map(function(a){return b._sheet.insertRule(a)}).filter(function(a){return -1!==a});this._indices[d]=f,this._instancesCounts[d]=1},b.remove=function(a){var b=this,c=this.getIdAndRules(a).styleId;if(function(a,b){if(!a)throw Error("StyleSheetRegistry: "+b+".")}(c in this._instancesCounts,"styleId: `"+c+"` not found"),this._instancesCounts[c]-=1,this._instancesCounts[c]<1){var d=this._fromServer&&this._fromServer[c];d?(d.parentNode.removeChild(d),delete this._fromServer[c]):(this._indices[c].forEach(function(a){return b._sheet.deleteRule(a)}),delete this._indices[c]),delete this._instancesCounts[c]}},b.update=function(a,b){this.add(b),this.remove(a)},b.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},b.cssRules=function(){var a=this,b=this._fromServer?Object.keys(this._fromServer).map(function(b){return[b,a._fromServer[b]]}):[],c=this._sheet.cssRules();return b.concat(Object.keys(this._indices).map(function(b){return[b,a._indices[b].map(function(a){return c[a].cssText}).join(a._optimizeForSpeed?"":"\n")]}).filter(function(a){return!!a[1]}))},b.styles=function(a){var b,c;return b=this.cssRules(),void 0===(c=a)&&(c={}),b.map(function(a){var b=a[0],d=a[1];return e.default.createElement("style",{id:"__"+b,key:"__"+b,nonce:c.nonce?c.nonce:void 0,dangerouslySetInnerHTML:{__html:d}})})},b.getIdAndRules=function(a){var b=a.children,c=a.dynamic,d=a.id;if(c){var e=l(d,c);return{styleId:e,rules:Array.isArray(b)?b.map(function(a){return m(e,a)}):[m(e,b)]}}return{styleId:l(d),rules:Array.isArray(b)?b:[b]}},b.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(a,b){return a[b.id.slice(2)]=b,a},{})},a}(),o=d.createContext(null);function p(){return new n}function q(){return d.useContext(o)}function r(a){var b=q();return b&&b.add(a),null}o.displayName="StyleSheetContext",e.default.useInsertionEffect||e.default.useLayoutEffect,r.dynamic=function(a){return a.map(function(a){return l(a[0],a[1])}).join(" ")},c.StyleRegistry=function(a){var b=a.registry,c=a.children,f=d.useContext(o),g=d.useState(function(){return f||b||p()})[0];return e.default.createElement(o.Provider,{value:g},c)},c.createStyleRegistry=p,c.style=r,c.useStyleRegistry=q},62627,(a,b,c)=>{b.exports=a.r(92157).style},45031,(a,b,c)=>{"use strict";var d=a.r(62817);Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var e=d(a.r(79626)),f=a.r(56856);c.default=(0,e.default)((0,f.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}),"ZoomOut")},77667,(a,b,c)=>{"use strict";var d=a.r(62817);Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var e=d(a.r(79626)),f=a.r(56856);c.default=(0,e.default)([(0,f.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},"0"),(0,f.jsx)("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"},"1")],"ZoomIn")},97241,(a,b,c)=>{"use strict";var d=a.r(62817);Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var e=d(a.r(79626)),f=a.r(56856);c.default=(0,e.default)((0,f.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh")},77050,a=>{"use strict";var b=a.i(56856),c=a.i(62627),d=a.i(55132),e=a.i(59165),f=a.i(62205),g=a.i(61981),h=a.i(89280),i=a.i(13874),j=a.i(13541),k=a.i(8607),l=a.i(14019),m=a.i(58461),n=a.i(9098),o=a.i(26281),p=a.i(45389),q=a.i(28683),r=a.i(45031),s=a.i(77667),t=a.i(97241),u=a.i(25028),v=a.i(58525),w=a.i(18906);function x(a){if(!a)return null;if(/^\d{4}-\d{2}-\d{2}$/.test(a)){let b=new Date(`${a}T00:00:00`).getTime();return isNaN(b)?null:b}if(/^\d{4}-\d{2}-\d{2}[T\s]\d{2}:\d{2}(:\d{2}(\.\d+)?)?$/.test(a)&&!/[Z+-]\d{2}:?\d{2}$/.test(a)&&!/Z$/.test(a)){let b=a.replace(" ","T").match(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d+))?)?$/);if(b){let a=Date.UTC(parseInt(b[1],10),parseInt(b[2],10)-1,parseInt(b[3],10),parseInt(b[4],10),parseInt(b[5],10),b[6]?parseInt(b[6],10):0,b[7]?Math.round(1e3*Number("0."+b[7])):0)-288e5;return isNaN(a)?null:a}}let b=Date.parse(a);return isNaN(b)?null:b}function y(a){if(!a)return"-";let b=new Date(a+288e5),c=a=>a.toString().padStart(2,"0"),d=c(b.getUTCDate()),e=c(b.getUTCMonth()+1),f=b.getUTCFullYear(),g=c(b.getUTCHours()),h=c(b.getUTCMinutes());return`${d}/${e}/${f} ${g}:${h}`}function z(a){return new Date(`${a}T00:00:00`)}let A={"Preventive Maintenance":"#16a34a","Corrective Maintenance":"#fb923c",Breakdown:"#ef4444",PM:"#16a34a",CM:"#fb923c",Default:"#3b82f6"},B={ASSIGNED:"#1e40af",DEPLOYED:"#db2777",READY_TO_DEPLOY:"#7c3aed",IN_PROGRESS:"#f97316",COMPLETED:"#10b981",PREPARATION:"#64748b",NEW:"#64748b",OPEN:"#64748b",CANCELLED:"#ef4444",CLOSED:"#334155"},C=["PREPARATION","ASSIGNED","READY_TO_DEPLOY","DEPLOYED","IN_PROGRESS","COMPLETED"];function D(a){let b=function(a){if(!a)return null;let b=a.replace("#","").trim();if(3===b.length){let a=parseInt(b[0]+b[0],16);return{r:a,g:parseInt(b[1]+b[1],16),b:parseInt(b[2]+b[2],16)}}if(6===b.length){let a=parseInt(b.substring(0,2),16);return{r:a,g:parseInt(b.substring(2,4),16),b:parseInt(b.substring(4,6),16)}}return null}(a)||{r:0,g:0,b:0};return .299*b.r+.587*b.g+.114*b.b<140}function E({pageSize:a=2e3}){let[E,F]=(0,d.useState)([]),[G,H]=(0,d.useState)([]),[I,J]=(0,d.useState)(""),[K,L]=(0,d.useState)(!1),[M,N]=(0,d.useState)(null),O=new Date().toISOString().slice(0,10),[P,Q]=(0,d.useState)(O),[R,S]=(0,d.useState)(1),[T,U]=(0,d.useState)(null),[V,W]=(0,d.useState)("both"),X=(0,d.useRef)(null),Y=(0,d.useRef)(null),[Z,$]=(0,d.useState)(900),[_,aa]=(0,d.useState)(!1),ab=(0,d.useMemo)(()=>{try{let a=z(P),b=a=>a.toString().padStart(2,"0");return`${b(a.getDate())}/${b(a.getMonth()+1)}/${a.getFullYear()}`}catch(a){return P}},[P]);(0,d.useEffect)(()=>{let a=Y.current??X.current;if(!a)return;$(a.clientWidth||900);let b=new ResizeObserver(()=>$(a.clientWidth||900));return b.observe(a),()=>b.disconnect()},[]),(0,d.useEffect)(()=>{ad()},[]),(0,d.useEffect)(()=>{ae()},[]),(0,d.useEffect)(()=>{ad()},[I]);let ac=(0,d.useRef)(null);async function ad(){L(!0),N(null);try{let b=`/work-orders?q=&page=1&pageSize=${a}`+(I?`&site=${encodeURIComponent(I)}`:""),c=await (0,e.default)(b),d=((c?.data??c)||[]).map(a=>({...a,start_date:a.start_date??null,end_date:a.end_date??null,description:a.description??a.raw?.description??null}));try{await Promise.all(d.map(async a=>{try{let b=await (0,e.default)(`/work-orders/${encodeURIComponent(String(a.id))}/realisasi`);a.realisasi=b?.data??b}catch(b){a.realisasi=null}}))}catch(a){}F(d)}catch(a){console.error("load gantt",a),N(a?.body?.message||a?.message||"Gagal memuat data")}finally{L(!1)}}async function ae(){try{let a=await (0,e.default)("/users?page=1&pageSize=1000"),b=(a?.data??a)||[],c=Array.from(new Set(b.map(a=>(a.site||a.vendor_cabang||"").toString()))).filter(Boolean);H(c)}catch(a){console.error("load sites for gantt",a)}}(0,d.useEffect)(()=>{ac.current=ad},[ad]),(0,d.useEffect)(()=>{let a=setInterval(()=>{try{ac.current&&ac.current()}catch(a){console.warn("Gantt auto-refresh failed",a)}},6e4);return()=>clearInterval(a)},[I,P,a]);let{dayStartMs:af,dayEndMs:ag}=(0,d.useMemo)(()=>{let a=z(P),b=new Date(a.getTime()+864e5);return{dayStartMs:a.getTime(),dayEndMs:b.getTime()}},[P]),ah=Math.max(300,Z-300-12-20),ai=12+ah+8,aj=ah/864e5*R;function ak(a){return 12+Math.round((a-af)*aj)}function al(a,b){return Math.max(4,b-a)}let am=(0,d.useMemo)(()=>{let a=[],b=18e5*Math.floor(af/18e5);for(let c=b;c<=ag;c+=18e5)a.push(c);return a},[af,ag]),an=(0,d.useMemo)(()=>{let a=[];return E.filter(b=>{let c=x(b.start_date),d=x(b.end_date),e={id:b.id??b.doc_no,rawStart:b.start_date,rawEnd:b.end_date,s:c,e:d};if(null==c&&null==d)return e.passes=!1,e.reason="no start and end",a.push(e),!1;let f=c??d??null,g=d??c??null;return(e.start=f,e.end=g,null==f||null==g)?(e.passes=!1,e.reason="start or end null after fallback",a.push(e),!1):g<=af?(e.passes=!1,e.reason=`ends before or at dayStart (${g} <= ${af})`,a.push(e),!1):f>=ag?(e.passes=!1,e.reason=`starts at/after dayEnd (${f} >= ${ag})`,a.push(e),!1):(e.passes=!0,e.reason="in range",a.push(e),!0)}).sort((a,b)=>(x(a.start_date)??0)-(x(b.start_date)??0))},[E,af,ag]);(0,d.useEffect)(()=>{},[an]);let ao=Date.now(),ap=ao>=af&&ao<=ag,aq=ap?ak(ao):null,ar=Math.max(140,44*an.length+80);async function as(){let a=Y.current??X.current;if(!a)return;let b=document,c=b.fullscreenElement||b.webkitFullscreenElement||b.mozFullScreenElement||b.msFullscreenElement;try{c?b.exitFullscreen?await b.exitFullscreen():b.webkitExitFullscreen?await b.webkitExitFullscreen():a.classList.remove("gantt-fs-fallback"):a.requestFullscreen?await a.requestFullscreen():a.webkitRequestFullscreen?await a.webkitRequestFullscreen():a.classList.add("gantt-fs-fallback")}catch(b){a.classList.toggle("gantt-fs-fallback"),aa(a=>!a)}}return(0,d.useEffect)(()=>{function a(){let a=document;aa(!!(a.fullscreenElement??a.webkitFullscreenElement??a.mozFullScreenElement??a.msFullscreenElement))}return document.addEventListener("fullscreenchange",a),document.addEventListener("webkitfullscreenchange",a),document.addEventListener("mozfullscreenchange",a),document.addEventListener("MSFullscreenChange",a),()=>{document.removeEventListener("fullscreenchange",a),document.removeEventListener("webkitfullscreenchange",a),document.removeEventListener("mozfullscreenchange",a),document.removeEventListener("MSFullscreenChange",a)}},[]),(0,b.jsxs)("div",{style:{padding:18,fontFamily:'Inter, system-ui, -apple-system, Roboto, "Helvetica Neue", Arial'},className:"jsx-98a0eb5974c95edc",children:[(0,b.jsx)("header",{style:{position:"sticky",top:0,zIndex:30},className:"jsx-98a0eb5974c95edc",children:(0,b.jsx)(n.default,{elevation:1,style:{background:"#f7fafc",padding:12,borderBottom:"1px solid #eee"},children:(0,b.jsxs)(f.default,{display:"flex",alignItems:"center",justifyContent:"space-between",gap:2,flexWrap:"wrap",children:[(0,b.jsx)(f.default,{sx:{minWidth:0,pr:2},children:(0,b.jsx)(p.default,{variant:"h6",component:"h2",sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"Work Orders (per-hari)"})}),(0,b.jsxs)(f.default,{display:"flex",alignItems:"center",gap:1,sx:{flexWrap:"wrap"},children:[(0,b.jsxs)(f.default,{sx:{display:"flex",alignItems:"center",gap:1,background:"#ffffff",padding:"6px",borderRadius:1,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.03)"},children:[(0,b.jsx)(i.default,{label:"Tanggal",type:"date",size:"small",value:P,onChange:a=>Q(a.target.value),InputLabelProps:{shrink:!0},sx:{width:160}}),(0,b.jsxs)(l.default,{size:"small",sx:{minWidth:160},children:[(0,b.jsx)(m.default,{id:"gantt-site-label",children:"Site"}),(0,b.jsxs)(j.default,{labelId:"gantt-site-label",label:"Site",value:I,onChange:a=>J(a.target.value),renderValue:a=>a||"-- All sites --",sx:{minWidth:140},children:[(0,b.jsx)(k.default,{value:"",children:"-- All sites --"}),G.map(a=>(0,b.jsx)(k.default,{value:a,children:a},a))]})]}),(0,b.jsxs)(l.default,{size:"small",sx:{minWidth:180},children:[(0,b.jsx)(m.default,{id:"gantt-show-label",children:"Show"}),(0,b.jsxs)(j.default,{labelId:"gantt-show-label",label:"Show",value:V,onChange:a=>W(String(a.target.value)),sx:{minWidth:160},children:[(0,b.jsx)(k.default,{value:"both",children:"Planned + Actual"}),(0,b.jsx)(k.default,{value:"planned",children:"Planned only"}),(0,b.jsx)(k.default,{value:"actual",children:"Actual only"})]})]})]}),(0,b.jsxs)(f.default,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,b.jsx)(o.default,{title:"Zoom out",children:(0,b.jsx)(h.default,{size:"small",onClick:()=>S(a=>Math.max(.5,.9*a)),children:(0,b.jsx)(r.default,{})})}),(0,b.jsx)(o.default,{title:"Zoom in",children:(0,b.jsx)(h.default,{size:"small",onClick:()=>S(a=>Math.min(4,1.1*a)),children:(0,b.jsx)(s.default,{})})}),(0,b.jsx)(o.default,{title:"Refresh",children:(0,b.jsx)(h.default,{size:"small",onClick:ad,children:(0,b.jsx)(t.default,{})})}),(0,b.jsx)(o.default,{title:_?"Exit fullscreen":"Fullscreen",children:(0,b.jsx)(h.default,{size:"small",onClick:as,children:_?(0,b.jsx)(v.default,{}):(0,b.jsx)(u.default,{})})})]})]})]})})}),(0,b.jsxs)(f.default,{display:"flex",gap:1,alignItems:"center",flexWrap:"wrap",sx:{mt:1,mb:2},children:[(0,b.jsx)(p.default,{sx:{fontWeight:700,mr:1},children:"Status colors:"}),C.map(a=>{let c=B[a]||"#999",d=D(c)?"#ffffff":"#000000";return(0,b.jsx)(q.default,{label:a.replace(/_/g," "),size:"small",sx:{backgroundColor:c,color:d,fontWeight:700}},a)}),(0,b.jsxs)(f.default,{sx:{display:"flex",alignItems:"center",gap:1,ml:1},children:[(0,b.jsx)(f.default,{sx:{width:14,height:14,backgroundColor:"#0f172a",borderRadius:.5,opacity:.12}}),(0,b.jsx)(p.default,{sx:{fontSize:13,color:"#333"},children:"Realisasi (actual)"})]})]}),(0,b.jsxs)("div",{ref:Y,style:{border:"1px solid #eee",overflow:"auto",background:_?"#fff":void 0,height:_?"100vh":void 0,padding:_?18:void 0,position:_?"fixed":void 0,left:_?0:void 0,top:_?0:void 0,right:_?0:void 0,bottom:_?0:void 0,width:_?"100vw":void 0,zIndex:_?99999:void 0,borderRadius:8*!_,boxSizing:"border-box"},className:"jsx-98a0eb5974c95edc gantt-svg-wrapper",children:[_&&(0,b.jsxs)(f.default,{display:"flex",gap:1,alignItems:"center",sx:{mt:1,mb:2,position:"sticky",top:0,zIndex:40,background:"#fff",padding:"8px",borderBottom:"1px solid #eee"},children:[(0,b.jsxs)(f.default,{sx:{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[(0,b.jsx)(p.default,{sx:{fontWeight:700,mr:1},children:"Status colors:"}),C.map(a=>{let c=B[a]||"#999",d=D(c)?"#ffffff":"#000000";return(0,b.jsx)(q.default,{label:a.replace(/_/g," "),size:"small",sx:{backgroundColor:c,color:d,fontWeight:700}},a+"-fs")}),(0,b.jsxs)(f.default,{sx:{display:"flex",alignItems:"center",gap:1,ml:1},children:[(0,b.jsx)(f.default,{sx:{width:14,height:14,backgroundColor:"#0f172a",borderRadius:.5,opacity:.12}}),(0,b.jsx)(p.default,{sx:{fontSize:13,color:"#333"},children:"Realisasi (actual)"})]})]}),(0,b.jsxs)(f.default,{sx:{marginLeft:"auto",display:"flex",alignItems:"center",gap:1},children:[(0,b.jsx)(p.default,{sx:{fontSize:13,color:"#444",fontWeight:700},children:"Tanggal"}),(0,b.jsx)(p.default,{sx:{fontSize:13,color:"#111"},children:ab})]})]}),(0,b.jsx)("div",{ref:X,style:{overflowX:"auto",height:_?"100%":void 0},className:"jsx-98a0eb5974c95edc",children:(0,b.jsxs)("div",{style:{display:"flex",minWidth:Math.max(900,ai)},className:"jsx-98a0eb5974c95edc",children:[(0,b.jsxs)("div",{style:{width:300,borderRight:"1px solid #f0f0f0",background:"#fafafa"},className:"jsx-98a0eb5974c95edc",children:[(0,b.jsx)("div",{style:{padding:"10px 12px",fontWeight:700},className:"jsx-98a0eb5974c95edc",children:"Work Order"}),(0,b.jsx)("div",{style:{height:8},className:"jsx-98a0eb5974c95edc"}),an.map((a,c)=>(0,b.jsxs)("div",{style:{height:44,display:"flex",flexDirection:"column",justifyContent:"center",padding:"6px 12px",borderBottom:"1px solid #f1f1f1",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},className:"jsx-98a0eb5974c95edc",children:[(0,b.jsx)("div",{style:{fontSize:13,fontWeight:700},className:"jsx-98a0eb5974c95edc",children:a.asset_name??""}),(0,b.jsxs)("div",{style:{marginTop:4,color:"#666",fontSize:12},className:"jsx-98a0eb5974c95edc",children:[a.doc_no??a.id," ",a.work_type?` â€¢ ${a.work_type}`:""]})]},a.id))]}),(0,b.jsx)("div",{style:{flex:"1 0 auto",minWidth:600,position:"relative",background:"#fff",height:_?"100%":ar},className:"jsx-98a0eb5974c95edc",children:(0,b.jsxs)("svg",{width:ai,height:ar,style:{width:_?"100%":void 0,height:_?"100%":void 0},className:"jsx-98a0eb5974c95edc",children:[an.map((a,c)=>(0,b.jsx)("rect",{x:0,y:44*c+40,width:ai,height:44,fill:c%2==0?"#ffffff":"#fbfbfb",className:"jsx-98a0eb5974c95edc"},"bg"+c)),am.map((a,c)=>{let d=ak(a),e=(a-af)%72e5==0;return(0,b.jsxs)("g",{className:"jsx-98a0eb5974c95edc",children:[(0,b.jsx)("line",{x1:d,y1:30,x2:d,y2:30+Math.max(20,ar-40),stroke:"#e7e7e7",className:"jsx-98a0eb5974c95edc"}),e&&(0,b.jsx)("text",{x:d+4,y:20,fontSize:11,fill:"#333",className:"jsx-98a0eb5974c95edc",children:new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})})]},"tick"+c)}),ap&&null!==aq&&(0,b.jsx)("g",{className:"jsx-98a0eb5974c95edc",children:(0,b.jsx)("line",{x1:aq,y1:30,x2:aq,y2:30+Math.max(20,ar-40),stroke:"#8b5cf6",strokeWidth:2,strokeDasharray:"6,4",className:"jsx-98a0eb5974c95edc"})}),an.map((a,c)=>{let d,e,f,g,h=x(a.start_date),i=x(a.end_date),j=x(a.realisasi?.actualStart),k=x(a.realisasi?.actualEnd);if(null==h||null==i)return null;let l=Math.max(h,af),m=Math.min(i,ag);if(m<=l)return null;let n=ak(l),o=ak(m),p=al(n,o),q=44*c+40+6,r=function(a){let b=a.status||a.raw&&(a.raw.doc_status||a.raw.status||a.raw.state)||null;if(b&&"string"==typeof b){let a=b.toString().toUpperCase().replace(/[-\s]/g,"_");if(B[a])return B[a]}let c=(a.work_type||a.raw&&(a.raw.work_type||a.raw.type_work)||"").toString();return c&&A[c]?A[c]:c&&A[c.toUpperCase()]?A[c.toUpperCase()]:A.Default}(a),s=(a.status||a.raw&&(a.raw.status||a.raw.doc_status)||"").toString().toUpperCase().replace(/[-\s]/g,"_"),t=null,u=a.progress??a.raw?.progress??null;function v(a){if(!a)return null;let b=a.replace("#","").trim();if(3===b.length){let a=parseInt(b[0]+b[0],16);return{r:a,g:parseInt(b[1]+b[1],16),b:parseInt(b[2]+b[2],16)}}if(6===b.length){let a=parseInt(b.substring(0,2),16);return{r:a,g:parseInt(b.substring(2,4),16),b:parseInt(b.substring(4,6),16)}}return null}"number"==typeof u&&(t=u>1?Math.max(0,Math.min(1,u/100)):Math.max(0,Math.min(1,u)));let w=function(a,b=.22){try{let c=v(a);if(!c)return a;let d=Math.max(0,Math.min(255,Math.round(c.r*(1-b)))),e=Math.max(0,Math.min(255,Math.round(c.g*(1-b)))),f=Math.max(0,Math.min(255,Math.round(c.b*(1-b)))),g=a=>a.toString(16).padStart(2,"0");return`#${g(d)}${g(e)}${g(f)}`}catch(b){return a}}(r,.22),y=.299*(d=v(w)||{r:0,g:0,b:0}).r+.587*d.g+.114*d.b<140?"#ffffff":"#000000";return(0,b.jsxs)("g",{style:{cursor:"pointer"},onClick:()=>U(a),className:"jsx-98a0eb5974c95edc",children:["actual"!==V&&(0,b.jsx)("rect",{x:n,y:q,rx:6,ry:6,width:p,height:32,fill:r,opacity:.98,className:"jsx-98a0eb5974c95edc"}),null!=j&&null!=k&&"planned"!==V&&(()=>{let a=Math.max(j,af),c=Math.min(k,ag);if(c<=a)return null;let d=ak(a),e=al(d,ak(c)),f=q+6;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("rect",{x:d,y:f,rx:3,ry:3,width:e,height:20,fill:"#0f172a",opacity:.12,className:"jsx-98a0eb5974c95edc"}),(0,b.jsx)("rect",{x:d,y:f,rx:3,ry:3,width:e,height:20,fill:"none",stroke:"#0f172a",strokeWidth:1,opacity:.22,className:"jsx-98a0eb5974c95edc"})]})})(),("IN_PROGRESS"===s&&null!==t||"COMPLETED"===s)&&(f=Math.max(4,p*(e="COMPLETED"===s?1:t??0)),g=Math.round(100*e)+"%",(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("rect",{x:n,y:q,rx:6,ry:6,width:f,height:32,fill:w,opacity:.72,className:"jsx-98a0eb5974c95edc"}),f>28?(0,b.jsx)("text",{x:n+6,y:q+16+4,fontSize:12,fill:y,fontWeight:700,className:"jsx-98a0eb5974c95edc",children:g}):(0,b.jsx)("text",{x:o+6,y:q+16+4,fontSize:12,fill:r,fontWeight:700,className:"jsx-98a0eb5974c95edc",children:g})]}))]},"bar"+a.id)})]})})]})})]}),T&&(0,b.jsx)("div",{style:{position:"fixed",left:0,right:0,top:0,bottom:0,background:"rgba(0,0,0,0.36)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},className:"jsx-98a0eb5974c95edc",children:(0,b.jsxs)("div",{style:{background:"#fff",width:720,maxHeight:"80%",overflowY:"auto",borderRadius:8,padding:16},className:"jsx-98a0eb5974c95edc",children:[(0,b.jsx)("h3",{style:{marginTop:0},className:"jsx-98a0eb5974c95edc",children:T.doc_no}),(0,b.jsxs)("div",{className:"jsx-98a0eb5974c95edc",children:[(0,b.jsx)("strong",{className:"jsx-98a0eb5974c95edc",children:"Asset:"})," ",T.asset_name]}),(0,b.jsxs)("div",{className:"jsx-98a0eb5974c95edc",children:[(0,b.jsx)("strong",{className:"jsx-98a0eb5974c95edc",children:"Type:"})," ",T.work_type]}),(0,b.jsxs)("div",{className:"jsx-98a0eb5974c95edc",children:[(0,b.jsx)("strong",{className:"jsx-98a0eb5974c95edc",children:"Start:"})," ",y(x(T.start_date))]}),(0,b.jsxs)("div",{className:"jsx-98a0eb5974c95edc",children:[(0,b.jsx)("strong",{className:"jsx-98a0eb5974c95edc",children:"End:"})," ",y(x(T.end_date))]}),(0,b.jsxs)("div",{className:"jsx-98a0eb5974c95edc",children:[(0,b.jsx)("strong",{className:"jsx-98a0eb5974c95edc",children:"Actual Start:"})," ",y(x(T.realisasi?.actualStart))]}),(0,b.jsxs)("div",{className:"jsx-98a0eb5974c95edc",children:[(0,b.jsx)("strong",{className:"jsx-98a0eb5974c95edc",children:"Actual End:"})," ",y(x(T.realisasi?.actualEnd))]}),(0,b.jsx)("div",{style:{marginTop:12},className:"jsx-98a0eb5974c95edc",children:(0,b.jsx)("pre",{style:{whiteSpace:"pre-wrap",background:"#f7f7f7",padding:8,borderRadius:6},className:"jsx-98a0eb5974c95edc",children:T.description??JSON.stringify(T.raw??T,null,2)})}),(0,b.jsx)("div",{style:{textAlign:"right",marginTop:8},className:"jsx-98a0eb5974c95edc",children:(0,b.jsx)(g.default,{variant:"contained",size:"small",startIcon:(0,b.jsx)(w.default,{}),onClick:()=>U(null),children:"Close"})})]})}),(0,b.jsx)(c.default,{id:"98a0eb5974c95edc",children:".gantt-svg-wrapper.gantt-fs-fallback.jsx-98a0eb5974c95edc{z-index:99999;background:#fff;padding:18px;inset:0;width:100vw!important;height:100vh!important;position:fixed!important}"})]})}a.s(["default",()=>E])}];

//# sourceMappingURL=web_8dc15605._.js.map
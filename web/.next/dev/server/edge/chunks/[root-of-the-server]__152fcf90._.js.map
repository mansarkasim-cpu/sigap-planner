{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/web/middleware.js"],"sourcesContent":["import { NextResponse } from 'next/server'\r\n\r\n/**\r\n * Server-side middleware to protect pages by checking for a `token` cookie.\r\n * If not present, redirect to /login. Public pages: / and /login are allowed.\r\n */\r\nexport function middleware(req) {\r\n  const { pathname } = req.nextUrl\r\n\r\n  // allow next internals, static assets and api routes\r\n  if (pathname.startsWith('/_next') || pathname.startsWith('/static') || pathname.startsWith('/api') ) {\r\n    return NextResponse.next()\r\n  }\r\n\r\n  // public pages\r\n  const publicPaths = ['/', '/login']\r\n  if (publicPaths.includes(pathname)) return NextResponse.next()\r\n\r\n  const tokenCookie = req.cookies.get('token')\r\n  const token = tokenCookie && tokenCookie.value\r\n  if (!token) {\r\n    const loginUrl = new URL('/login', req.url)\r\n    return NextResponse.redirect(loginUrl)\r\n  }\r\n\r\n  return NextResponse.next()\r\n}\r\n\r\nexport const config = {\r\n  // apply middleware to all routes except assets and static internals\r\n  matcher: ['/((?!_next/static|_next/image|favicon.ico).*)'],\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAMO,SAAS,WAAW,GAAG;IAC5B,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,OAAO;IAEhC,qDAAqD;IACrD,IAAI,SAAS,UAAU,CAAC,aAAa,SAAS,UAAU,CAAC,cAAc,SAAS,UAAU,CAAC,SAAU;QACnG,OAAO,uMAAY,CAAC,IAAI;IAC1B;IAEA,eAAe;IACf,MAAM,cAAc;QAAC;QAAK;KAAS;IACnC,IAAI,YAAY,QAAQ,CAAC,WAAW,OAAO,uMAAY,CAAC,IAAI;IAE5D,MAAM,cAAc,IAAI,OAAO,CAAC,GAAG,CAAC;IACpC,MAAM,QAAQ,eAAe,YAAY,KAAK;IAC9C,IAAI,CAAC,OAAO;QACV,MAAM,WAAW,IAAI,IAAI,UAAU,IAAI,GAAG;QAC1C,OAAO,uMAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,OAAO,uMAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,oEAAoE;IACpE,SAAS;QAAC;KAAgD;AAC5D"}}]
}
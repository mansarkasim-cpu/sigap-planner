{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project/SigapPlanner/web/app/account/change-password/page.jsx"],"sourcesContent":["\"use client\"\r\nimport { useState } from 'react'\r\nimport Box from '@mui/material/Box'\r\nimport TextField from '@mui/material/TextField'\r\nimport Button from '@mui/material/Button'\r\nimport apiClient from '../../../lib/api-client'\r\n\r\nexport default function ChangePasswordPage(){\r\n  const [currentPassword, setCurrentPassword] = useState('')\r\n  const [newPassword, setNewPassword] = useState('')\r\n  const [confirmPassword, setConfirmPassword] = useState('')\r\n  const [loading, setLoading] = useState(false)\r\n  const [message, setMessage] = useState(null)\r\n\r\n  async function submit(e){\r\n    e.preventDefault()\r\n    setMessage(null)\r\n    if (!newPassword) return setMessage('New password is required')\r\n    if (newPassword !== confirmPassword) return setMessage('Passwords do not match')\r\n    setLoading(true)\r\n    try{\r\n      await apiClient('/auth/me/password', { method: 'PATCH', body: { currentPassword, newPassword } })\r\n      setMessage('Password updated')\r\n      setCurrentPassword('')\r\n      setNewPassword('')\r\n      setConfirmPassword('')\r\n    }catch(err){\r\n      setMessage(err?.body?.message || err?.message || String(err))\r\n    }finally{ setLoading(false) }\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ p:2, maxWidth:540 }}>\r\n      <h2>Change Password</h2>\r\n      <form onSubmit={submit}>\r\n        <Box sx={{ display:'flex', flexDirection:'column', gap:2 }}>\r\n          <TextField label=\"Current password\" type=\"password\" fullWidth value={currentPassword} onChange={e=>setCurrentPassword(e.target.value)} />\r\n          <TextField label=\"New password\" type=\"password\" fullWidth value={newPassword} onChange={e=>setNewPassword(e.target.value)} />\r\n          <TextField label=\"Confirm new password\" type=\"password\" fullWidth value={confirmPassword} onChange={e=>setConfirmPassword(e.target.value)} />\r\n          {message && <div style={{ color: message === 'Password updated' ? 'green' : 'red' }}>{message}</div>}\r\n          <Button variant=\"contained\" type=\"submit\" disabled={loading}>{loading ? 'Saving...' : 'Change Password'}</Button>\r\n        </Box>\r\n      </form>\r\n    </Box>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AALA;;;;;;;AAOe,SAAS;IACtB,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,wNAAQ,EAAC;IACvD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,wNAAQ,EAAC;IAC/C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,wNAAQ,EAAC;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wNAAQ,EAAC;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wNAAQ,EAAC;IAEvC,eAAe,OAAO,CAAC;QACrB,EAAE,cAAc;QAChB,WAAW;QACX,IAAI,CAAC,aAAa,OAAO,WAAW;QACpC,IAAI,gBAAgB,iBAAiB,OAAO,WAAW;QACvD,WAAW;QACX,IAAG;YACD,MAAM,IAAA,sIAAS,EAAC,qBAAqB;gBAAE,QAAQ;gBAAS,MAAM;oBAAE;oBAAiB;gBAAY;YAAE;YAC/F,WAAW;YACX,mBAAmB;YACnB,eAAe;YACf,mBAAmB;QACrB,EAAC,OAAM,KAAI;YACT,WAAW,KAAK,MAAM,WAAW,KAAK,WAAW,OAAO;QAC1D,SAAQ;YAAE,WAAW;QAAO;IAC9B;IAEA,qBACE,qPAAC,iKAAG;QAAC,IAAI;YAAE,GAAE;YAAG,UAAS;QAAI;;0BAC3B,qPAAC;0BAAG;;;;;;0BACJ,qPAAC;gBAAK,UAAU;0BACd,cAAA,qPAAC,iKAAG;oBAAC,IAAI;wBAAE,SAAQ;wBAAQ,eAAc;wBAAU,KAAI;oBAAE;;sCACvD,qPAAC,6KAAS;4BAAC,OAAM;4BAAmB,MAAK;4BAAW,SAAS;4BAAC,OAAO;4BAAiB,UAAU,CAAA,IAAG,mBAAmB,EAAE,MAAM,CAAC,KAAK;;;;;;sCACpI,qPAAC,6KAAS;4BAAC,OAAM;4BAAe,MAAK;4BAAW,SAAS;4BAAC,OAAO;4BAAa,UAAU,CAAA,IAAG,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;sCACxH,qPAAC,6KAAS;4BAAC,OAAM;4BAAuB,MAAK;4BAAW,SAAS;4BAAC,OAAO;4BAAiB,UAAU,CAAA,IAAG,mBAAmB,EAAE,MAAM,CAAC,KAAK;;;;;;wBACvI,yBAAW,qPAAC;4BAAI,OAAO;gCAAE,OAAO,YAAY,qBAAqB,UAAU;4BAAM;sCAAI;;;;;;sCACtF,qPAAC,uKAAM;4BAAC,SAAQ;4BAAY,MAAK;4BAAS,UAAU;sCAAU,UAAU,cAAc;;;;;;;;;;;;;;;;;;;;;;;AAKhG"}}]
}
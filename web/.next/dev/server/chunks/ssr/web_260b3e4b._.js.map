{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project/SigapPlanner/web/components/WorkOrderForm.tsx"],"sourcesContent":["'use client';\r\nimport { useState } from 'react';\r\nimport apiClient from '../lib/api-client';\r\nimport { TextField, Button, Stack, Paper, Alert, InputAdornment } from '@mui/material';\r\nimport SaveIcon from '@mui/icons-material/Save';\r\nimport BoltIcon from '@mui/icons-material/Bolt';\r\n\r\ntype Props = { onCreated?: () => void };\r\n\r\nexport default function WorkOrderForm({ onCreated }: Props) {\r\n  const [id, setId] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState<string | null>(null);\r\n\r\n  async function handleSubmit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setMessage(null);\r\n    if (!id.trim()) return setMessage('Masukkan id SIGAP');\r\n    setLoading(true);\r\n    try {\r\n      const res = await apiClient('/work-orders/add', { method: 'POST', body: { id: id.trim() } } as any);\r\n      setMessage('Work order tersimpan: ' + (res?.data?.doc_no || res?.data?.id || 'OK'));\r\n      setId('');\r\n      onCreated?.();\r\n    } catch (err: any) {\r\n      console.error('add error', err);\r\n      setMessage('Error: ' + (err.body?.detail || err.body?.message || err.message || 'gagal'));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Paper elevation={2} sx={{ p: 2, mb: 2 }}>\r\n      <form onSubmit={handleSubmit}>\r\n        <Stack direction=\"row\" spacing={2} alignItems=\"center\">\r\n          <TextField\r\n            value={id}\r\n            onChange={e => setId(e.target.value)}\r\n            placeholder=\"Masukkan id SIGAP (contoh: 1656)\"\r\n            disabled={loading}\r\n            size=\"small\"\r\n            variant=\"outlined\"\r\n            sx={{ minWidth: 320 }}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <BoltIcon color=\"primary\" />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            startIcon={<SaveIcon />}\r\n            disabled={loading}\r\n            sx={{ whiteSpace: 'nowrap' }}\r\n          >\r\n            {loading ? 'Mengambil...' : 'Ambil & Simpan'}\r\n          </Button>\r\n\r\n          {message && (\r\n            <Alert severity={message.startsWith('Error') ? 'error' : 'success'} sx={{ ml: 1 }}>\r\n              {message}\r\n            </Alert>\r\n          )}\r\n        </Stack>\r\n      </form>\r\n    </Paper>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AALA;;;;;;;AASe,SAAS,cAAc,EAAE,SAAS,EAAS;IACxD,MAAM,CAAC,IAAI,MAAM,GAAG,IAAA,wNAAQ,EAAC;IAC7B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wNAAQ,EAAC;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wNAAQ,EAAgB;IAEtD,eAAe,aAAa,CAAkB;QAC5C,EAAE,cAAc;QAChB,WAAW;QACX,IAAI,CAAC,GAAG,IAAI,IAAI,OAAO,WAAW;QAClC,WAAW;QACX,IAAI;YACF,MAAM,MAAM,MAAM,IAAA,sIAAS,EAAC,oBAAoB;gBAAE,QAAQ;gBAAQ,MAAM;oBAAE,IAAI,GAAG,IAAI;gBAAG;YAAE;YAC1F,WAAW,2BAA2B,CAAC,KAAK,MAAM,UAAU,KAAK,MAAM,MAAM,IAAI;YACjF,MAAM;YACN;QACF,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,aAAa;YAC3B,WAAW,YAAY,CAAC,IAAI,IAAI,EAAE,UAAU,IAAI,IAAI,EAAE,WAAW,IAAI,OAAO,IAAI,OAAO;QACzF,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,qPAAC,uMAAK;QAAC,WAAW;QAAG,IAAI;YAAE,GAAG;YAAG,IAAI;QAAE;kBACrC,cAAA,qPAAC;YAAK,UAAU;sBACd,cAAA,qPAAC,uMAAK;gBAAC,WAAU;gBAAM,SAAS;gBAAG,YAAW;;kCAC5C,qPAAC,uNAAS;wBACR,OAAO;wBACP,UAAU,CAAA,IAAK,MAAM,EAAE,MAAM,CAAC,KAAK;wBACnC,aAAY;wBACZ,UAAU;wBACV,MAAK;wBACL,SAAQ;wBACR,IAAI;4BAAE,UAAU;wBAAI;wBACpB,YAAY;4BACV,8BACE,qPAAC,2OAAc;gCAAC,UAAS;0CACvB,cAAA,qPAAC,oKAAQ;oCAAC,OAAM;;;;;;;;;;;wBAGtB;;;;;;kCAGF,qPAAC,2MAAM;wBACL,MAAK;wBACL,SAAQ;wBACR,OAAM;wBACN,yBAAW,qPAAC,oKAAQ;;;;;wBACpB,UAAU;wBACV,IAAI;4BAAE,YAAY;wBAAS;kCAE1B,UAAU,iBAAiB;;;;;;oBAG7B,yBACC,qPAAC,uMAAK;wBAAC,UAAU,QAAQ,UAAU,CAAC,WAAW,UAAU;wBAAW,IAAI;4BAAE,IAAI;wBAAE;kCAC7E;;;;;;;;;;;;;;;;;;;;;;AAOf"}},
    {"offset": {"line": 147, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project/SigapPlanner/web/components/WorkOrderList.tsx"],"sourcesContent":["'use client';\r\nimport { useEffect, useState } from 'react';\r\nimport apiClient from '../lib/api-client';\r\nimport Box from '@mui/material/Box';\r\nimport Paper from '@mui/material/Paper';\r\nimport TextField from '@mui/material/TextField';\r\nimport Autocomplete from '@mui/material/Autocomplete';\r\nimport Select from '@mui/material/Select';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport Stack from '@mui/material/Stack';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Chip from '@mui/material/Chip';\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport LinearProgress from '@mui/material/LinearProgress';\r\nimport Typography from '@mui/material/Typography';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\r\nimport ListAltOutlinedIcon from '@mui/icons-material/ListAltOutlined';\r\nimport EditOutlinedIcon from '@mui/icons-material/EditOutlined';\r\n\r\nexport type Activity = {\r\n  id?: string;\r\n  task_name?: string;\r\n  task_number?: number;\r\n  task_duration?: number;\r\n  [key: string]: any;\r\n};\r\n\r\nexport type WorkOrder = {\r\n  id: string;\r\n  doc_no?: string;\r\n  sigap_id?: number;\r\n  vendor_cabang?: string; // location field from external API\r\n  work_type?: string;\r\n  type_work?: string;\r\n  date_doc?: string;\r\n  asset_name?: string;\r\n  description?: string;\r\n  start_date?: string | null;\r\n  end_date?: string | null;\r\n  raw?: {\r\n    activities?: Activity[];\r\n    [key: string]: any;\r\n  };\r\n  tasks?: any[];\r\n  created_at?: string;\r\n  progress?: number;\r\n};\r\n\r\ntype Props = {\r\n  onRefreshRequested?: (fn: () => Promise<void>) => void;\r\n};\r\n\r\nexport default function WorkOrderList({ onRefreshRequested }: Props) {\r\n  // format stored dates (possibly SQL 'YYYY-MM-DD HH:mm:ss' without timezone)\r\n  function formatUtcDisplay(raw?: string | null) {\r\n    if (!raw) return '-';\r\n    const s = String(raw).trim();\r\n    // If stored as SQL-like 'YYYY-MM-DD HH:mm:ss' return the same local datetime\r\n    const sqlRx = /^(\\d{4})-(\\d{2})-(\\d{2})(?:[ T](\\d{2}):(\\d{2})(?::(\\d{2}))?)?$/;\r\n    const m = sqlRx.exec(s);\r\n    const pad = (n: number) => String(n).padStart(2, '0');\r\n    if (m) {\r\n      const [, yyyy, mm, dd, hh = '00', mi = '00'] = m as any;\r\n      return `${pad(Number(dd))}/${pad(Number(mm))}/${yyyy} ${pad(Number(hh))}:${pad(Number(mi))}`;\r\n    }\r\n    // fallback: parse ISO and show local components (best-effort)\r\n    const parsed = new Date(s);\r\n    if (isNaN(parsed.getTime())) return '-';\r\n    return `${pad(parsed.getDate())}/${pad(parsed.getMonth() + 1)}/${parsed.getFullYear()} ${pad(parsed.getHours())}:${pad(parsed.getMinutes())}`;\r\n  }\r\n  function normalizeStatusRaw(s?: any) {\r\n    if (s == null) return ''\r\n    const str = String(s).toString()\r\n    if (str.toUpperCase().trim() === 'NEW') return 'PREPARATION'\r\n    return str\r\n  }\r\n  const [list, setList] = useState<WorkOrder[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const [locations, setLocations] = useState<string[]>([]);\r\n  const [locationFilter, setLocationFilter] = useState<string>('');\r\n  const [statuses, setStatuses] = useState<string[]>([]);\r\n  const [selectedStatuses, setSelectedStatuses] = useState<string[]>([]);\r\n\r\n  const [page, setPage] = useState(1);\r\n  const [pageSize] = useState(10);\r\n  const [total, setTotal] = useState(0);\r\n  const [q, setQ] = useState('');\r\n\r\n  const [editing, setEditing] = useState<WorkOrder | null>(null);\r\n  const [editLoading, setEditLoading] = useState(false);\r\n  const [editNote, setEditNote] = useState<string>('');\r\n  const [dateHistory, setDateHistory] = useState<any[]>([]);\r\n\r\n  const [taskModal, setTaskModal] = useState<{ open: boolean; wo: WorkOrder | null }>({ open: false, wo: null });\r\n  const [technicians, setTechnicians] = useState<Array<any>>([]);\r\n  const [techQuery, setTechQuery] = useState<string>('');\r\n  const [selectedAssignees, setSelectedAssignees] = useState<Record<string, string[]>>({});\r\n  const [currentUser, setCurrentUser] = useState<any | null>(undefined);\r\n  const [editStartInput, setEditStartInput] = useState<string>('');\r\n  const [editEndInput, setEditEndInput] = useState<string>('');\r\n\r\n  async function load(p = page, query = q, location = locationFilter) {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const params = new URLSearchParams();\r\n      if (query) params.set('q', query);\r\n      params.set('page', String(p));\r\n      params.set('pageSize', String(pageSize));\r\n      if (location) params.set('location', location);\r\n      const res = await apiClient(`/work-orders?${params.toString()}`);\r\n      const data = Array.isArray(res) ? res : (res?.data ?? []);\r\n      const meta = (res && typeof res === 'object' && !Array.isArray(res)) ? (res.meta ?? { page: p, pageSize, total: 0 }) : { page: p, pageSize, total: 0 };\r\n      const listData = Array.isArray(data) ? data : [];\r\n      // derive available locations from returned (unfiltered) data\r\n      const allListData = listData;\r\n      const locs = Array.from(new Set(allListData.map((w: WorkOrder) => (w.vendor_cabang ?? w.raw?.vendor_cabang ?? '').toString().trim()).filter(Boolean)));\r\n      const sts = Array.from(new Set(allListData.map((w: WorkOrder) => normalizeStatusRaw((w as any).status ?? w.raw?.status ?? 'PREPARATION').toString().trim()).filter(Boolean)));\r\n      setStatuses(sts);\r\n      setLocations(locs);\r\n      // apply client-side filtering by location (case-insensitive) so filter works\r\n      let displayed = allListData;\r\n      console.debug('test ', allListData);\r\n      if (location) {\r\n        const low = location.toString().toLowerCase().trim();\r\n        displayed = allListData.filter((w: WorkOrder) => {\r\n          const v = (w.vendor_cabang ?? w.raw?.vendor_cabang ?? '').toString().toLowerCase().trim();\r\n          return v === low;\r\n        });\r\n      }\r\n      // apply client-side filtering by selected statuses (if any)\r\n      if (selectedStatuses && selectedStatuses.length > 0) {\r\n        const normSet = new Set(selectedStatuses.map(s => s.toString().toUpperCase().replace(/[-\\s]/g, '_')));\r\n        displayed = displayed.filter((w: WorkOrder) => {\r\n          const sRaw = normalizeStatusRaw((w as any).status ?? w.raw?.status ?? 'PREPARATION').toString();\r\n          const sNorm = sRaw.toString().toUpperCase().replace(/[-\\s]/g, '_');\r\n          return normSet.has(sNorm);\r\n        });\r\n      }\r\n\r\n      // Default behavior: when no status selected, hide COMPLETED items\r\n      if (!selectedStatuses || selectedStatuses.length === 0) {\r\n        displayed = displayed.filter((w: WorkOrder) => {\r\n          const sRaw = normalizeStatusRaw((w as any).status ?? w.raw?.status ?? 'PREPARATION').toString();\r\n          const sNorm = sRaw.toString().toUpperCase().replace(/[-\\s]/g, '_');\r\n          return sNorm !== 'COMPLETED';\r\n        });\r\n      }\r\n      setList(displayed);\r\n      setTotal(typeof meta.total === 'number' ? meta.total : 0);\r\n    } catch (err: any) {\r\n      console.error('load work orders', err);\r\n      setError(err?.body?.message || err?.message || 'Gagal memuat');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => { load(1, q); setPage(1); }, [q, locationFilter, selectedStatuses]);\r\n\r\n  // expose the refresh function to parent via callback (so WorkOrderForm can trigger it)\r\n  useEffect(() => {\r\n    if (typeof onRefreshRequested === 'function') {\r\n      onRefreshRequested(async () => {\r\n        await load(1, q, locationFilter);\r\n        setPage(1);\r\n      });\r\n    }\r\n    // we intentionally omit onRefreshRequested from deps to only register once on mount\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // Responsive: show stacked card view on small screens\r\n  const [isSmallScreen, setIsSmallScreen] = useState<boolean>(false);\r\n  useEffect(() => {\r\n    function check() { setIsSmallScreen(typeof window !== 'undefined' ? window.innerWidth < 800 : false); }\r\n    check();\r\n    window.addEventListener('resize', check);\r\n    return () => window.removeEventListener('resize', check);\r\n  }, []);\r\n\r\n  // per-row expand/collapse state (used to show/hide long descriptions)\r\n  const [expandedRows, setExpandedRows] = useState<Record<string, boolean>>({});\r\n  function toggleRow(id: string) {\r\n    setExpandedRows(prev => ({ ...prev, [id]: !prev[id] }));\r\n  }\r\n\r\n  // modal for showing full details when Expand is clicked in table view\r\n  const [modalRow, setModalRow] = useState<WorkOrder | null>(null);\r\n  function openRowModal(w: WorkOrder) { setModalRow(w); }\r\n  function closeRowModal() { setModalRow(null); }\r\n\r\n  function onPrev() { if (page > 1) { setPage(p => { const np = p - 1; load(np); return np; }); } }\r\n  function onNext() { const maxPage = Math.ceil(total / pageSize); if (page < maxPage) { setPage(p => { const np = p + 1; load(np); return np; }); } }\r\n\r\n  function openEdit(w: WorkOrder) {\r\n    setEditing(w);\r\n    setEditNote('');\r\n    setEditStartInput(toInputDatetime(w.start_date));\r\n    setEditEndInput(toInputDatetime(w.end_date));\r\n    // load date history for this workorder (if authenticated)\r\n    (async () => {\r\n      try {\r\n        const h = await apiClient(`/work-orders/${encodeURIComponent(w.id)}/date-history`);\r\n        const rows = h?.data ?? h;\r\n        if (Array.isArray(rows)) setDateHistory(rows);\r\n        else setDateHistory([]);\r\n      } catch (e) {\r\n        setDateHistory([]);\r\n      }\r\n    })();\r\n  }\r\n\r\n  function openTaskModal(w: WorkOrder) {\r\n    console.debug('[openTaskModal]');\r\n    console.debug('workorder:', w);\r\n    // Require start_date on work order. If missing, prompt user to fill dates first.\r\n    if (!w.start_date) {\r\n      alert('Work Order belum memiliki Start Date. Isi Start Date dan End Date terlebih dahulu.');\r\n      setEditing(w);\r\n      return;\r\n    }\r\n\r\n    // reset technician search and selections when opening modal\r\n    setTechQuery('');\r\n    setTechnicians([]);\r\n    setSelectedAssignees({});\r\n    setTaskModal({ open: true, wo: w });\r\n    // load technicians (users with role=technician) and workorder detail (assignments)\r\n    (async () => {\r\n      let filteredTechs: any[] = [];\r\n      try {\r\n        // determine workorder site/location (use vendor_cabang or raw.site)\r\n        const woSiteRaw = (w.vendor_cabang ?? w.raw?.vendor_cabang ?? w.raw?.site ?? '');\r\n        const woSite = String(woSiteRaw || '').toLowerCase().trim();\r\n        // determine assignment date/time from workorder start_date (must exist)\r\n        // parse stored start_date robustly and interpret SQL datetimes without timezone as UTC\r\n        const pad = (n: number) => String(n).padStart(2, '0');\r\n        function parseToUtcDate(val?: string | null): Date | null {\r\n          if (!val) return null;\r\n          const s = String(val).trim();\r\n          const sqlRx = /^(\\d{4})-(\\d{2})-(\\d{2})(?:[ T](\\d{2}):(\\d{2})(?::(\\d{2}))?)?$/;\r\n          const m = sqlRx.exec(s);\r\n          if (m) {\r\n            const [, yy, mm, dd, hh = '00', mi = '00', ss = '00'] = m as any;\r\n            // interpret stored value as UTC, then shift to backend-local (+8h) for assignment calculations\r\n            const BASE = new Date(Date.UTC(Number(yy), Number(mm) - 1, Number(dd), Number(hh), Number(mi), Number(ss)));\r\n            const BACKEND_TZ_OFFSET_HOURS = 0;\r\n            return new Date(BASE.getTime() + BACKEND_TZ_OFFSET_HOURS * 60 * 60 * 1000);\r\n          }\r\n          const parsed = new Date(s);\r\n          if (!isNaN(parsed.getTime())) {\r\n            const BACKEND_TZ_OFFSET_HOURS = 0;\r\n            return new Date(parsed.getTime() + BACKEND_TZ_OFFSET_HOURS * 60 * 60 * 1000);\r\n          }\r\n          return null;\r\n        }\r\n\r\n        const sdUtc = parseToUtcDate(String(w.start_date));\r\n        if (!sdUtc) {\r\n          alert('Start Date tidak valid. Isi Start Date yang benar terlebih dahulu.');\r\n          setEditing(w);\r\n          return;\r\n        }\r\n        const assignDate = `${sdUtc.getUTCFullYear()}-${pad(sdUtc.getUTCMonth() + 1)}-${pad(sdUtc.getUTCDate())}`;\r\n        const assignTime = `${pad(sdUtc.getUTCHours())}:${pad(sdUtc.getUTCMinutes())}`;\r\n        console.debug('[openTaskModal] assignDate/time (local)', { assignDate, assignTime, raw: w.start_date });\r\n        const schedUrl = `/scheduled-technicians?date=${encodeURIComponent(assignDate)}&time=${encodeURIComponent(assignTime)}` + (woSite ? `&site=${encodeURIComponent(woSite)}` : '');\r\n        console.debug(schedUrl);\r\n\r\n        try {\r\n          console.debug('[openTaskModal] fetching scheduled technicians', { schedUrl });\r\n          const sched = await apiClient(schedUrl);\r\n          console.debug(sched);\r\n\r\n          const schedRows = Array.isArray(sched) ? sched : (sched?.data ?? []);\r\n          console.debug('[openTaskModal] scheduled-technicians response', { count: Array.isArray(schedRows) ? schedRows.length : 0 });\r\n          if (schedRows && schedRows.length > 0) {\r\n            filteredTechs = schedRows;\r\n            console.debug('[openTaskModal] using scheduled-technicians sample', (schedRows as any[]).slice(0, 5));\r\n          } else {\r\n            // fallback: load site-filtered technicians\r\n            // console.log('[openTaskModal] scheduled-technicians empty — falling back to /users?role=technician');\r\n            // const techs = await apiClient('/users?role=technician');\r\n            // const list = Array.isArray(techs) ? techs : (techs?.data ?? []);\r\n            // console.log('[openTaskModal] /users?role=technician response', { count: Array.isArray(list) ? list.length : 0 });\r\n            // if (woSite) {\r\n            //   filteredTechs = list.filter((t: any) => {\r\n            //     const tSite = String(t.site ?? t.vendor_cabang ?? t.location ?? '').toLowerCase().trim();\r\n            //     return tSite === woSite;\r\n            //   });\r\n            //   console.log('[openTaskModal] after site-filtering technicians', { count: filteredTechs.length });\r\n            // } else {\r\n            //   filteredTechs = list;\r\n            // }\r\n            filteredTechs = schedRows;\r\n          }\r\n        } catch (e) {\r\n          console.warn('scheduled-technicians fetch failed, falling back', e);\r\n          const techs = await apiClient('/users?role=technician');\r\n          const list = Array.isArray(techs) ? techs : (techs?.data ?? []);\r\n          console.debug('[openTaskModal] fallback /users?role=technician response', { count: Array.isArray(list) ? list.length : 0 });\r\n          filteredTechs = list;\r\n        }\r\n\r\n        console.debug('[openTaskModal] final filteredTechs', { count: filteredTechs.length, sample: filteredTechs.slice(0, 5) });\r\n        setTechnicians(filteredTechs);\r\n      } catch (e) {\r\n        console.warn('Failed to load technicians from shift assignments', e);\r\n        setTechnicians([]);\r\n        filteredTechs = [];\r\n      }\r\n\r\n      // load full workorder detail to get existing assignments and tasks\r\n      try {\r\n        const res = await apiClient(`/work-orders/${encodeURIComponent(w.id)}`);\r\n        const woDetail = res?.data ?? res;\r\n        // load tasks for this work order (fallback to raw.activities if no tasks)\r\n        try {\r\n          console.debug('[openTaskModal] fetching tasks for workorder', { workOrderId: w.id });\r\n          const tasksRes = await apiClient(`/work-orders/${encodeURIComponent(w.id)}/tasks`);\r\n          const tasks = Array.isArray(tasksRes) ? tasksRes : (tasksRes?.data ?? []);\r\n          console.debug('[openTaskModal] tasks fetch result', { count: Array.isArray(tasks) ? tasks.length : 0, sample: (tasks as any[]).slice(0, 5) });\r\n          // attach tasks to woDetail for modal rendering\r\n          woDetail.tasks = tasks;\r\n        } catch (e) {\r\n          console.debug('[openTaskModal] /tasks fetch failed, falling back to raw.activities', e);\r\n          // fallback: map raw.activities -> tasks for display\r\n          const acts = Array.isArray(woDetail.raw?.activities) ? woDetail.raw.activities : [];\r\n          woDetail.tasks = acts.map((act: any, idx: number) => ({ id: `raw-${idx}`, name: act.task_name || act.name || `Task ${idx + 1}`, duration_min: act.task_duration }));\r\n        }\r\n        // update modal workorder with full details (assignments)\r\n        setTaskModal({ open: true, wo: woDetail });\r\n\r\n        // build selectedAssignees from task.assignments for each task (tasks came from /work-orders/:id/tasks)\r\n        const nextSelected: Record<string, string[]> = {};\r\n        const taskRows = Array.isArray(woDetail.tasks) ? woDetail.tasks : [];\r\n        // only pre-check assignments whose assignee is present in the filtered technician list\r\n        const techIds = new Set((Array.isArray(filteredTechs) ? filteredTechs : []).map(t => String(t.id)));\r\n        console.debug('[openTaskModal] building selectedAssignees from task.assignments', { taskCount: taskRows.length, techIdsCount: techIds.size });\r\n        for (const t of taskRows) {\r\n          const key = String(t.id ?? t.task_id ?? t.external_id ?? '');\r\n          if (!key) continue;\r\n          const assigns = Array.isArray(t.assignments) ? t.assignments : [];\r\n          const keeps: string[] = [];\r\n          for (const a of assigns) {\r\n            const assId = String(a?.user?.id ?? a.user_id ?? a.userId ?? '');\r\n            if (!assId) continue;\r\n            if (!techIds.has(assId)) {\r\n              console.debug('[openTaskModal] skipping assignment because assignee not in filtered technicians', { assId, key });\r\n              continue;\r\n            }\r\n            if (!keeps.includes(assId)) keeps.push(assId);\r\n          }\r\n          if (keeps.length > 0) nextSelected[key] = keeps;\r\n        }\r\n        console.debug('[openTaskModal] selectedAssignees prepared', nextSelected);\r\n        setSelectedAssignees(nextSelected);\r\n      } catch (err) {\r\n        console.warn('Failed to load workorder detail', err);\r\n      }\r\n\r\n      // load current user info (auth status)\r\n      try {\r\n        const me = await apiClient('/auth/me');\r\n        setCurrentUser(me?.data ?? me);\r\n      } catch (err) {\r\n        // if unauthorized or error, mark as not authenticated\r\n        setCurrentUser(null);\r\n      }\r\n    })();\r\n  }\r\n\r\n  function closeTaskModal() {\r\n    setTaskModal({ open: false, wo: null });\r\n    // reset tech query so checklist isn't filtered on next open\r\n    setTechQuery('');\r\n    // refresh work order list so changes made in the modal are reflected\r\n    try {\r\n      load(page, q);\r\n    } catch (e) {\r\n      console.warn('Failed to refresh work order list after closing modal', e);\r\n    }\r\n  }\r\n\r\n  async function saveEdit(id: string, start_date?: string | null, end_date?: string | null) {\r\n    setEditLoading(true);\r\n    try {\r\n      const body: any = {};\r\n      // accept ISO strings (from datetime-local) or null\r\n      if (start_date !== undefined) body.start_date = start_date || null;\r\n      if (end_date !== undefined) body.end_date = end_date || null;\r\n        if (editNote && editNote.trim().length) body.note = editNote.trim();\r\n      await apiClient(`/work-orders/${encodeURIComponent(id)}`, { method: 'PATCH', body });\r\n      load(page, q);\r\n      setEditing(null);\r\n    } catch (err: any) {\r\n      console.error('save edit', err);\r\n      alert('Gagal menyimpan: ' + (err?.body?.message || err?.message));\r\n    } finally {\r\n      setEditLoading(false);\r\n    }\r\n  }\r\n\r\n  function toInputDatetime(iso?: string | null) {\r\n    if (!iso) return '';\r\n    const s = String(iso).trim();\r\n    const rx = /^(\\d{4})-(\\d{2})-(\\d{2})(?:[ T](\\d{2}):(\\d{2})(?::(\\d{2}))?)?$/;\r\n    const m = rx.exec(s);\r\n    const pad = (n: number) => String(n).padStart(2, '0');\r\n    if (m) {\r\n      const [, yyyy, mm, dd, hh = '00', mi = '00'] = m as any;\r\n      return `${yyyy}-${mm}-${dd}T${pad(Number(hh))}:${pad(Number(mi))}`;\r\n    }\r\n    const parsed = new Date(s);\r\n    if (isNaN(parsed.getTime())) return '';\r\n    return `${parsed.getFullYear()}-${pad(parsed.getMonth() + 1)}-${pad(parsed.getDate())}T${pad(parsed.getHours())}:${pad(parsed.getMinutes())}`;\r\n  }\r\n\r\n  function parseDdMMyyyyToIso(input?: string | null) {\r\n    if (!input) return null;\r\n    const s = input.toString().trim();\r\n    // expect 'dd/mm/yyyy HH:MM' or 'dd/mm/yyyy'\r\n    const rx = /^(\\d{2})\\/(\\d{2})\\/(\\d{4})(?:[ T](\\d{2}):(\\d{2}))?$/;\r\n    const m = rx.exec(s);\r\n    if (!m) return null;\r\n    const dd = parseInt(m[1], 10);\r\n    const mm = parseInt(m[2], 10);\r\n    const yyyy = parseInt(m[3], 10);\r\n    const hh = m[4] ? parseInt(m[4], 10) : 0;\r\n    const mi = m[5] ? parseInt(m[5], 10) : 0;\r\n    const dt = new Date(Date.UTC(yyyy, mm - 1, dd, hh, mi, 0));\r\n    if (isNaN(dt.getTime())) return null;\r\n    return dt.toISOString();\r\n  }\r\n\r\n  function getColorForStatus(s: string) {\r\n    const k = normalizeStatusRaw(s).toString().toUpperCase();\r\n    switch (k) {\r\n      case 'ASSIGNED': return '#1e40af';\r\n      case 'DEPLOYED': return '#db2777';\r\n      case 'READY_TO_DEPLOY': return '#7c3aed';\r\n      case 'IN_PROGRESS': return '#f97316';\r\n      case 'IN-PROGRESS': return '#f97316';\r\n      case 'COMPLETED': return '#10b981';\r\n      case 'PREPARATION': return '#64748b';\r\n      case 'OPEN': return '#64748b';\r\n      case 'CANCELLED': return '#ef4444';\r\n      case 'CLOSED': return '#334155';\r\n      default: return '#6b7280';\r\n    }\r\n  }\r\n\r\n  const STATUS_OPTIONS = [\r\n    'PREPARATION',\r\n    'ASSIGNED',\r\n    'READY TO DEPLOY',\r\n    'DEPLOYED',\r\n    'IN PROGRESS',\r\n    'COMPLETED'\r\n  ];\r\n\r\n  function shouldShowAssignColumn(wo: WorkOrder | null) {\r\n    const s = ((wo as any)?.status ?? wo?.raw?.status ?? '').toString().toUpperCase().replace(/[-\\s]/g, '_');\r\n    return !(s === 'IN_PROGRESS' || s === 'COMPLETED');\r\n  }\r\n\r\n  function renderStatusBadge(s: string) {\r\n    const n = normalizeStatusRaw(s);\r\n    const color = getColorForStatus(n);\r\n    return (\r\n      <span style={{ display: 'inline-block', padding: '4px 8px', borderRadius: 999, background: color, color: 'white', fontSize: 10, fontWeight: 600 }}>\r\n        {String(n).replace(/_/g, ' ')}\r\n      </span>\r\n    );\r\n  }\r\n\r\n  async function handleDeploy(woId: string) {\r\n    try {\r\n      await apiClient(`/work-orders/${encodeURIComponent(woId)}/deploy`, { method: 'POST' });\r\n      // refresh modal and list\r\n      const woRes = await apiClient(`/work-orders/${encodeURIComponent(woId)}`);\r\n      const woDetail = woRes?.data ?? woRes;\r\n      const tasksRes = await apiClient(`/work-orders/${encodeURIComponent(woId)}/tasks`);\r\n      const tasks = Array.isArray(tasksRes) ? tasksRes : (tasksRes?.data ?? []);\r\n      setTaskModal(prev => ({ ...(prev || {}), wo: { ...(prev?.wo || {}), ...woDetail, tasks } } as any));\r\n      load(page, q);\r\n    } catch (e) {\r\n      console.error('deploy failed', e);\r\n      alert('Deploy gagal: ' + (e?.message || e));\r\n    }\r\n  }\r\n\r\n  async function handleUndeploy(woId: string) {\r\n    try {\r\n      await apiClient(`/work-orders/${encodeURIComponent(woId)}/undeploy`, { method: 'POST' });\r\n      const woRes = await apiClient(`/work-orders/${encodeURIComponent(woId)}`);\r\n      const woDetail = woRes?.data ?? woRes;\r\n      const tasksRes = await apiClient(`/work-orders/${encodeURIComponent(woId)}/tasks`);\r\n      const tasks = Array.isArray(tasksRes) ? tasksRes : (tasksRes?.data ?? []);\r\n      setTaskModal(prev => ({ ...(prev || {}), wo: { ...(prev?.wo || {}), ...woDetail, tasks } } as any));\r\n      load(page, q);\r\n    } catch (e) {\r\n      console.error('undeploy failed', e);\r\n      alert('Undeploy gagal: ' + (e?.message || e));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ display: 'flex', gap: 8, marginBottom: 12, alignItems: 'center' }}>\r\n          <Box sx={{ display: 'flex', gap: 2, flexWrap: 'wrap', mb: 2 }}>\r\n            <Select\r\n              value={locationFilter}\r\n              onChange={e => setLocationFilter(String(e.target.value))}\r\n              displayEmpty\r\n              size=\"small\"\r\n              sx={{ minWidth: 180 }}\r\n            >\r\n              <MenuItem value=\"\">Semua Lokasi</MenuItem>\r\n              {locations.map(s => (\r\n                <MenuItem key={s} value={s}>{s}</MenuItem>\r\n              ))}\r\n            </Select>\r\n\r\n            <Select\r\n              multiple\r\n              displayEmpty\r\n              size=\"small\"\r\n              value={selectedStatuses}\r\n              onChange={e => setSelectedStatuses(typeof e.target.value === 'string' ? e.target.value.split(',') : (e.target.value as string[]))}\r\n              renderValue={(selected) => (\r\n                selected && (selected as string[]).length > 0 ? (\r\n                  <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap' }}>\r\n                    {(selected as string[]).map((val) => (\r\n                      <Chip key={val} label={val} size=\"small\" />\r\n                    ))}\r\n                  </Box>\r\n                ) : 'Semua Status'\r\n              )}\r\n              sx={{ minWidth: 220 }}\r\n            >\r\n              {STATUS_OPTIONS.map(opt => (\r\n                <MenuItem key={opt} value={opt}>\r\n                  <Checkbox checked={selectedStatuses.indexOf(opt) > -1} />\r\n                  {opt}\r\n                </MenuItem>\r\n              ))}\r\n            </Select>\r\n\r\n            <TextField\r\n              placeholder=\"Search doc_no / asset / desc\"\r\n              value={q}\r\n              onChange={e => setQ(e.target.value)}\r\n              size=\"small\"\r\n              sx={{ flex: 1, minWidth: 240 }}\r\n            />\r\n\r\n            <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={() => load(1, q)} disabled={loading}>Search</Button>\r\n            <Button variant=\"outlined\" size=\"small\" onClick={() => load(1, q)} disabled={loading}>Refresh</Button>\r\n\r\n            <Box sx={{ alignSelf: 'center', ml: 'auto', color: 'text.secondary' }}>{total} item</Box>\r\n          </Box>\r\n\r\n          {loading ? <Typography variant=\"body2\">Loading...</Typography> : null}\r\n          {error ? <Typography variant=\"body2\" color=\"error\">{error}</Typography> : null}\r\n        </div>\r\n\r\n      <div>\r\n        {isSmallScreen ? (\r\n          <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\r\n            {list.map(w => {\r\n              const activities = (w.raw?.activities ?? []) as Activity[];\r\n              const statusRaw = normalizeStatusRaw((w as any).status ?? w.raw?.status ?? 'PREPARATION').toString();\r\n              const statusNorm = statusRaw.toUpperCase().replace(/[-\\s]/g, '_');\r\n              return (\r\n                <Paper key={w.id} sx={{ p: 2 }}>\r\n                  <Box sx={{ display: 'flex', gap: 2, alignItems: 'flex-start', justifyContent: 'space-between' }}>\r\n                    <Box sx={{ flex: 1 }}>\r\n                      <div style={{ fontWeight: 700 }}>{w.doc_no ?? w.id} — {w.asset_name ?? '-'}</div>\r\n                      <div style={{ color: '#666', marginTop: 6 }}>{w.description ?? '-'}</div>\r\n                      <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap', mt: 1 }}>\r\n                        <div style={{ fontSize: 12, color: '#666' }}>Start: {formatUtcDisplay(w.start_date)}</div>\r\n                        <div style={{ fontSize: 12, color: '#666' }}>End: {formatUtcDisplay(w.end_date)}</div>\r\n                        <div>{renderStatusBadge((w as any).status ?? w.raw?.status ?? 'PREPARATION')}</div>\r\n                      </Box>\r\n                      <div style={{ marginTop: 8 }}>\r\n                        <div style={expandedRows[w.id] ? {} : { maxHeight: '3em', overflow: 'hidden' }}>{w.description ?? '-'}</div>\r\n                        <Box sx={{ display: 'flex', gap: 1, justifyContent: 'flex-start', mt: 1 }}>\r\n                          <Button size=\"small\" onClick={() => toggleRow(w.id)}>{expandedRows[w.id] ? 'Collapse' : 'Expand'}</Button>\r\n                        </Box>\r\n                      </div>\r\n                      {statusNorm === 'IN_PROGRESS' && typeof (w as any).progress === 'number' && (\r\n                        <Box sx={{ mt: 1 }}>\r\n                          {(() => {\r\n                            const prog = Math.max(0, Math.min(1, (w as any).progress || 0));\r\n                            const statusColor = getColorForStatus(statusRaw);\r\n                            return (\r\n                              <Box sx={{ display: 'flex', flexDirection: 'column', gap: 0.5 }}>\r\n                                <Typography variant=\"caption\" sx={{ fontWeight: 700 }}>{Math.round(prog * 100)}%</Typography>\r\n                                <LinearProgress variant=\"determinate\" value={Math.round(prog * 100)} sx={{ height: 8, borderRadius: 2, backgroundColor: '#f1f5f9', '& .MuiLinearProgress-bar': { background: statusColor } }} />\r\n                              </Box>\r\n                            );\r\n                          })()}\r\n                        </Box>\r\n                      )}\r\n                    </Box>\r\n\r\n                    <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1, alignItems: 'flex-end' }}>\r\n                      <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap', alignItems: 'center' }}>\r\n                        <Button size=\"small\" onClick={() => toggleRow(w.id)}>{expandedRows[w.id] ? 'Collapse' : 'Expand'}</Button>\r\n                        {Array.isArray(activities) && activities.length > 0 && (\r\n                          <Tooltip title={`Lihat Task (${activities.length})`}>\r\n                            <IconButton size=\"small\" onClick={() => openTaskModal(w)} aria-label={`Lihat Task ${activities.length}`}>\r\n                              <ListAltOutlinedIcon fontSize=\"small\" />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                        )}\r\n                        {!(statusNorm === 'IN_PROGRESS' || statusNorm === 'COMPLETED' || statusNorm === 'DEPLOYED') && (\r\n                          <Tooltip title=\"Edit Tanggal\">\r\n                            <IconButton size=\"small\" color=\"secondary\" onClick={() => openEdit(w)} aria-label=\"Edit Dates\">\r\n                              <EditOutlinedIcon fontSize=\"small\" />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                        )}\r\n                      </Box>\r\n                      <div style={{ color: '#666', fontSize: 12 }}>{w.vendor_cabang ?? w.raw?.vendor_cabang ?? '-'}</div>\r\n                    </Box>\r\n                  </Box>\r\n                </Paper>\r\n              );\r\n            })}\r\n          </Box>\r\n        ) : (\r\n          <div style={{ overflowX: 'hidden' }}>\r\n            <TableContainer component={Paper} sx={{ mb: 2 }}>\r\n              <Table size=\"small\" sx={{ tableLayout: 'fixed', width: '100%' }}>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell sx={{ width: '12%' }}>Doc No</TableCell>\r\n                    <TableCell sx={{ width: '12%' }}>Jenis Work Order</TableCell>\r\n                    <TableCell sx={{ width: '9%' }}>Start</TableCell>\r\n                    <TableCell sx={{ width: '9%' }}>End</TableCell>\r\n                    <TableCell sx={{ width: '10%' }}>Equipment</TableCell>\r\n                    <TableCell sx={{ width: '8%' }}>Status</TableCell>\r\n                    <TableCell sx={{ width: '10%' }}>Location</TableCell>\r\n                    <TableCell sx={{ width: '24%', whiteSpace: 'normal' }}>Description</TableCell>\r\n                    <TableCell sx={{ width: '8%' }}>Action</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {list.map(w => {\r\n                    const activities = (w.raw?.activities ?? []) as Activity[];\r\n                    const statusRaw = normalizeStatusRaw((w as any).status ?? w.raw?.status ?? 'PREPARATION').toString();\r\n                    const statusNorm = statusRaw.toUpperCase().replace(/[-\\s]/g, '_');\r\n                    return (\r\n                      <TableRow key={w.id} hover>\r\n                        <TableCell sx={{ whiteSpace: 'normal', overflowWrap: 'anywhere', wordBreak: 'break-word' }}>{w.doc_no ?? w.id}</TableCell>\r\n                        <TableCell sx={{ whiteSpace: 'normal', overflowWrap: 'anywhere', wordBreak: 'break-word' }}>{w.work_type ?? w.type_work ?? w.raw?.work_type ?? w.raw?.type_work ?? '-'}</TableCell>\r\n                        <TableCell sx={{ whiteSpace: 'normal', overflowWrap: 'anywhere', wordBreak: 'break-word' }}>{formatUtcDisplay(w.start_date)}</TableCell>\r\n                        <TableCell sx={{ whiteSpace: 'normal', overflowWrap: 'anywhere', wordBreak: 'break-word' }}>{formatUtcDisplay(w.end_date)}</TableCell>\r\n                        <TableCell sx={{ whiteSpace: 'normal', overflowWrap: 'anywhere', wordBreak: 'break-word' }}>{w.asset_name ?? '-'}</TableCell>\r\n                        <TableCell sx={{ whiteSpace: 'normal', overflowWrap: 'anywhere', wordBreak: 'break-word' }}>{renderStatusBadge((w as any).status ?? w.raw?.status ?? 'PREPARATION')}</TableCell>\r\n                        <TableCell sx={{ whiteSpace: 'normal', overflowWrap: 'anywhere', wordBreak: 'break-word' }}>{w.vendor_cabang ?? w.raw?.vendor_cabang ?? '-'}</TableCell>\r\n                        <TableCell sx={{ whiteSpace: 'normal', overflowWrap: 'anywhere', wordBreak: 'break-word' }}>{w.description ?? '-'}</TableCell>\r\n                        <TableCell sx={{ whiteSpace: 'normal' }}>\r\n                          <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap', alignItems: 'center' }}>\r\n                              <Tooltip title=\"Details\">\r\n                                <IconButton size=\"small\" onClick={() => openRowModal(w)} aria-label=\"Details\">\r\n                                  <InfoOutlinedIcon fontSize=\"small\" />\r\n                                </IconButton>\r\n                              </Tooltip>\r\n                              {Array.isArray(activities) && activities.length > 0 && (\r\n                                <Tooltip title={`Lihat Task (${activities.length})`}>\r\n                                  <IconButton size=\"small\" onClick={() => openTaskModal(w)} aria-label=\"Lihat Task\">\r\n                                    <ListAltOutlinedIcon fontSize=\"small\" />\r\n                                  </IconButton>\r\n                                </Tooltip>\r\n                              )}\r\n                              {!(statusNorm === 'IN_PROGRESS' || statusNorm === 'COMPLETED' || statusNorm === 'DEPLOYED') && (\r\n                                <Tooltip title=\"Edit Tanggal\">\r\n                                  <IconButton size=\"small\" color=\"secondary\" onClick={() => openEdit(w)} aria-label=\"Edit Dates\">\r\n                                    <EditOutlinedIcon fontSize=\"small\" />\r\n                                  </IconButton>\r\n                                </Tooltip>\r\n                              )}\r\n                            </Box>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    );\r\n                  })}\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n          </div>\r\n        )}\r\n\r\n        <Box sx={{ display: 'flex', gap: 2, alignItems: 'center' }}>\r\n          <Button onClick={onPrev} disabled={page <= 1} size=\"small\">Prev</Button>\r\n          <Typography variant=\"body2\">Page {page} / {Math.max(1, Math.ceil(total / pageSize))}</Typography>\r\n          <Button onClick={onNext} disabled={page >= Math.max(1, Math.ceil(total / pageSize))} size=\"small\">Next</Button>\r\n        </Box>\r\n      </div>\r\n\r\n      {/* Task Modal */}\r\n      {taskModal.open && taskModal.wo && (\r\n        <div style={{\r\n          position: 'fixed', left: 0, right: 0, top: 0, bottom: 0, background: 'rgba(0,0,0,0.5)',\r\n          display: 'flex', justifyContent: 'center', alignItems: 'center', zIndex: 2000, padding: 16\r\n        }}>\r\n          <div style={{ background: 'white', padding: 16, width: '95%', maxWidth: 900, borderRadius: 8, maxHeight: '86vh', overflow: 'auto', boxShadow: '0 6px 30px rgba(0,0,0,0.2)' }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', gap: 12, marginBottom: 12 }}>\r\n              <div style={{ flex: 1 }}>\r\n                <h2 style={{ marginTop: 0, marginBottom: 6, fontSize: 20 }}>Task - {taskModal.wo.doc_no ?? taskModal.wo.id}</h2>\r\n                <div style={{ color: '#666', fontSize: 13 }}>{taskModal.wo.description}</div>\r\n              </div>\r\n              <div style={{ textAlign: 'right', minWidth: 180 }}>\r\n                <div style={{ fontSize: 13, marginBottom: 8 }}>\r\n                  {currentUser === undefined ? (\r\n                    <span style={{ color: '#666' }}>Checking auth...</span>\r\n                  ) : currentUser === null ? (\r\n                    <span style={{ color: '#c00' }}>Not authenticated</span>\r\n                  ) : (\r\n                    <div>\r\n                      <div style={{ fontWeight: 700 }}>{currentUser.name || currentUser.username || currentUser.email}</div>\r\n                      <div style={{ color: '#666', fontSize: 12 }}>{currentUser.email} — {currentUser.role ?? currentUser.type}</div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <div style={{ display: 'flex', gap: 8, justifyContent: 'flex-end' }}>\r\n                  {(taskModal.wo as any)?.status === 'READY_TO_DEPLOY' && (\r\n                    <button onClick={() => handleDeploy(taskModal.wo!.id)} style={{ padding: '6px 10px', background: '#7c3aed', color: 'white', borderRadius: 6 }}>Deploy</button>\r\n                  )}\r\n                  {(taskModal.wo as any)?.status === 'DEPLOYED' && (\r\n                    <button onClick={() => handleUndeploy(taskModal.wo!.id)} style={{ padding: '6px 10px', background: '#ef4444', color: 'white', borderRadius: 6 }}>Undeploy</button>\r\n                  )}\r\n                  <button onClick={closeTaskModal} style={{ padding: '6px 10px' }}>Close</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: 8 }}>\r\n              <table style={{ width: '100%', borderCollapse: 'collapse', tableLayout: 'fixed' }}>\r\n                <colgroup>\r\n                  <col style={{ width: '50px' }} />\r\n                  <col />\r\n                  <col style={{ width: '110px' }} />\r\n                  <col style={{ width: '340px' }} />\r\n                </colgroup>\r\n                <thead>\r\n                  <tr style={{ background: '#f5f5f5' }}>\r\n                    <th style={{ textAlign: 'left', padding: 12, borderBottom: '1px solid #ddd' }}>No</th>\r\n                    <th style={{ textAlign: 'left', padding: 12, borderBottom: '1px solid #ddd' }}>Task Name</th>\r\n                    <th style={{ textAlign: 'left', padding: 12, borderBottom: '1px solid #ddd', textAlignLast: 'right' }}>Duration (min)</th>\r\n                    {shouldShowAssignColumn(taskModal.wo as any) && (\r\n                      <th style={{ textAlign: 'left', padding: 12, borderBottom: '1px solid #ddd' }}>Assign technicians</th>\r\n                    )}\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {Array.isArray(taskModal.wo.tasks) && taskModal.wo.tasks.map((act: any, idx: number) => {\r\n                    const taskKey = (act.id ?? act.task_id ?? String(idx));\r\n                    const selected = selectedAssignees[taskKey] || [];\r\n                    // robust detection for whether task has realisasi\r\n                    function taskHasRealisasi(t: any) {\r\n                      try {\r\n                        // 1) task-local explicit lists (common patterns)\r\n                        const lists = ['realisasi','realisasis','realisasi_list','realisasi_entries','realisasiItems','realisasi_items','realisasiEntries'];\r\n                        for (const k of lists) {\r\n                          const v = t[k];\r\n                          if (Array.isArray(v) && v.length > 0) return true;\r\n                        }\r\n\r\n                        // 2) assignment records that are attached directly to the task (if present)\r\n                        if (Array.isArray(t.assignments)) {\r\n                          for (const a of t.assignments) {\r\n                            if (Array.isArray(a.realisasi) && a.realisasi.length > 0) return true;\r\n                            if ((a.realisasi_count || a.realisasiCount || a.realisasiTotal) > 0) return true;\r\n                            const s = (a.status || a.state || '').toString().toUpperCase();\r\n                            if (s.includes('COMP') || s.includes('VERIF') || s.includes('DONE') || s.includes('APPROV')) return true;\r\n                          }\r\n                        }\r\n\r\n                        // 3) workorder-level assignments: some data models store realisasi on a separate `assignment` table\r\n                        const woAssigns = Array.isArray((taskModal.wo as any)?.assignments) ? (taskModal.wo as any).assignments : [];\r\n                        if (woAssigns.length > 0) {\r\n                          for (const a of woAssigns) {\r\n                            // match by explicit task_id first, then by name fallback\r\n                            const aTaskId = (a.task_id ?? a.taskId ?? a.task?.id) ? String(a.task_id ?? a.taskId ?? a.task?.id) : null;\r\n                            const tId = (t.id ?? t.task_id ?? t.external_id) ? String(t.id ?? t.task_id ?? t.external_id) : null;\r\n                            if (aTaskId && tId && aTaskId === tId) {\r\n                              if (Array.isArray(a.realisasi) && a.realisasi.length > 0) return true;\r\n                              if ((a.realisasi_count || a.realisasiCount || a.realisasiTotal) > 0) return true;\r\n                              const s = (a.status || a.state || '').toString().toUpperCase();\r\n                              if (s.includes('COMP') || s.includes('VERIF') || s.includes('DONE') || s.includes('APPROV')) return true;\r\n                            }\r\n                            // name-based fallback (older rows)\r\n                            const aName = (a.task_name || a.taskName || a.task?.name || '').toString().trim().toLowerCase();\r\n                            const tName = (t.name || t.task_name || t.taskName || '').toString().trim().toLowerCase();\r\n                            if (aName && tName && aName === tName) {\r\n                              if (Array.isArray(a.realisasi) && a.realisasi.length > 0) return true;\r\n                              if ((a.realisasi_count || a.realisasiCount || a.realisasiTotal) > 0) return true;\r\n                              const s2 = (a.status || a.state || '').toString().toUpperCase();\r\n                              if (s2.includes('COMP') || s2.includes('VERIF') || s2.includes('DONE') || s2.includes('APPROV')) return true;\r\n                            }\r\n                          }\r\n                        }\r\n\r\n                        // 4) task-level flags and timestamps\r\n                        if (t.completed === true || t.is_completed === true || String(t.status || '').toUpperCase().includes('COMP')) return true;\r\n                        if (t.completed_at || t.realisasi_at || t.approved_at) return true;\r\n                      } catch (e) {\r\n                        // ignore\r\n                      }\r\n                      return false;\r\n                    }\r\n                    const hasRealisasi = taskHasRealisasi(act) || Boolean(act.has_realisasi || act.realisasi_count);\r\n                    return (\r\n                      <tr key={idx} style={{ borderBottom: '1px solid #f1f1f1' }}>\r\n                        <td style={{ padding: 12, verticalAlign: 'top' }}>{act.task_number ?? idx + 1}</td>\r\n                        <td style={{ padding: 12, verticalAlign: 'top' }}>\r\n                          <div style={{ display: 'flex', gap: 8, alignItems: 'center' }}>\r\n                            <div style={{ fontWeight: 700 }}>{act.name ?? act.task_name ?? '-'}</div>\r\n                            {hasRealisasi ? (\r\n                              <span style={{ background: '#10b981', color: 'white', padding: '2px 8px', borderRadius: 999, fontSize: 12, fontWeight: 600 }}>Realisasi ✓</span>\r\n                            ) : (\r\n                              (() => {\r\n                                const pendingCount = Number(act.pending_realisasi_count || act.pendingCount || 0);\r\n                                const hasPending = Boolean(act.has_pending || pendingCount > 0);\r\n                                if (hasPending) {\r\n                                  return <span style={{ background: '#f59e0b', color: 'white', padding: '2px 8px', borderRadius: 999, fontSize: 12, fontWeight: 600 }}>Pending{pendingCount ? ` (${pendingCount})` : ''}</span>;\r\n                                }\r\n                                // explicit 'Belum Realisasi' state when neither realisasi nor pending exist\r\n                                return <span style={{ background: '#64748b', color: 'white', padding: '2px 8px', borderRadius: 999, fontSize: 12, fontWeight: 600 }}>Belum Realisasi</span>;\r\n                              })()\r\n                            )}\r\n                          </div>\r\n                          <div style={{ fontSize: 12, color: '#888', marginTop: 6 }}>ID: {act.id ?? '-'}</div>\r\n                          {/* show already-assigned technicians */}\r\n                          {Array.isArray(act.assignments) && act.assignments.length > 0 && (\r\n                              <div style={{ marginTop: 8, display: 'flex', gap: 8, flexWrap: 'wrap' }}>\r\n                                {act.assignments.map((asgn: any) => (\r\n                                  <div\r\n                                    key={asgn.id}\r\n                                    style={{ background: '#eef2ff', padding: '4px 8px', borderRadius: 6, display: 'flex', gap: 8, alignItems: 'center' }}\r\n                                  >\r\n                                    <span style={{ fontSize: 13, fontWeight: 600 }}>{asgn.user?.name ?? asgn.user?.nipp ?? asgn.user?.email ?? asgn.assigned_to ?? 'Unknown'}</span>\r\n                                    {currentUser && !['DEPLOYED', 'IN_PROGRESS'].includes(((taskModal.wo as any)?.status ?? '').toString()) && (\r\n                                      <button onClick={async () => {\r\n                                        try {\r\n                                          await apiClient(`/tasks/${encodeURIComponent(act.id)}/assign/${encodeURIComponent(asgn.id)}`, { method: 'DELETE' });\r\n                                        } catch (err) {\r\n                                          try {\r\n                                            await apiClient(`/tasks/${encodeURIComponent(act.id)}/assign/${encodeURIComponent(asgn.id)}`, { method: 'DELETE' });\r\n                                          } catch (e) { console.error('unassign failed', e); alert('Unassign failed'); return; }\r\n                                        }\r\n                                        try {\r\n                                          const woRes = await apiClient(`/work-orders/${encodeURIComponent(taskModal.wo?.id)}`);\r\n                                          const woDetail = woRes?.data ?? woRes;\r\n                                          const tasksRes = await apiClient(`/work-orders/${encodeURIComponent(taskModal.wo?.id)}/tasks`);\r\n                                          const tasks = Array.isArray(tasksRes) ? tasksRes : (tasksRes?.data ?? []);\r\n                                          setTaskModal(prev => ({ ...(prev || {}), wo: { ...(prev?.wo || {}), ...woDetail, tasks } } as any));\r\n                                        } catch (e) { console.warn('refresh workorder after unassign failed', e); }\r\n                                      }} style={{ background: 'transparent', border: 'none', color: '#c00', cursor: 'pointer' }}>Unassign</button>\r\n                                    )}\r\n                                  </div>\r\n                                ))}\r\n                              </div>\r\n                            )}\r\n                        </td>\r\n                        <td style={{ padding: 12, verticalAlign: 'top', textAlign: 'right' }}>{(act.duration_min ?? act.task_duration) ?? '-'}</td>\r\n                        {shouldShowAssignColumn(taskModal.wo as any) ? (\r\n                          <td style={{ padding: 12, verticalAlign: 'top' }}>\r\n                            <div style={{ display: 'flex', flexDirection: 'column', gap: 8 }}>\r\n                              <Autocomplete\r\n                                multiple\r\n                                options={technicians || []}\r\n                                getOptionLabel={(t: any) => (t.name || t.nipp || t.email || '').toString()}\r\n                                filterSelectedOptions\r\n                                value={(selectedAssignees[taskKey] || []).map((id: any) => technicians.find((t: any) => t.id === id)).filter(Boolean)}\r\n                                onChange={(e, newVal) => setSelectedAssignees(prev => ({ ...prev, [taskKey]: newVal.map((n: any) => n.id) }))}\r\n                                renderInput={(params) => <TextField {...params} placeholder=\"Cari teknisi (nama / email / id)\" size=\"small\" />}\r\n                              />\r\n\r\n                                <div style={{ display: 'flex', gap: 8, flexWrap: 'wrap', marginTop: 8 }}>\r\n                                  {(technicians || []).slice(0, 200).map((t: any) => {\r\n                                    const isSel = (selectedAssignees[taskKey] || []).includes(t.id);\r\n                                    return (\r\n                                      <Chip\r\n                                        key={t.id}\r\n                                        label={(t.name || t.nipp || t.email || '').toString()}\r\n                                        onClick={() => {\r\n                                          setSelectedAssignees(prev => {\r\n                                            const cur = new Set(prev[taskKey] || []);\r\n                                            if (cur.has(t.id)) cur.delete(t.id); else cur.add(t.id);\r\n                                            return { ...prev, [taskKey]: Array.from(cur) };\r\n                                          });\r\n                                        }}\r\n                                        clickable\r\n                                        color={isSel ? 'primary' : 'default'}\r\n                                        variant={isSel ? 'filled' : 'outlined'}\r\n                                        size=\"small\"\r\n                                        sx={{ marginRight: 0.5 }}\r\n                                      />\r\n                                    );\r\n                                  })}\r\n                                </div>\r\n\r\n                                <div style={{ display: 'flex', gap: 8, justifyContent: 'flex-start', marginTop: 8 }}>\r\n                                {currentUser === undefined ? (\r\n                                  <Button size=\"small\" disabled>Checking...</Button>\r\n                                ) : currentUser === null ? (\r\n                                  <>\r\n                                    <Button size=\"small\" variant=\"contained\" color=\"primary\" onClick={() => { window.location.href = '/login'; }}>Login to assign</Button>\r\n                                    <Button size=\"small\" onClick={() => { setSelectedAssignees(prev => ({ ...prev, [taskKey]: [] })); }}>Clear</Button>\r\n                                  </>\r\n                                ) : !['DEPLOYED', 'IN_PROGRESS'].includes(((taskModal.wo as any)?.status ?? '').toString()) ? (\r\n                                  <>\r\n                                    <Button size=\"small\" variant=\"contained\" onClick={async () => {\r\n                                      const ass = selectedAssignees[taskKey] || [];\r\n                                      if (!ass || ass.length === 0) { alert('Pilih minimal 1 teknisi'); return; }\r\n                                      try {\r\n                                        const unique = Array.from(new Set(ass));\r\n                                        for (const uid of unique) {\r\n                                          await apiClient(`/tasks/${encodeURIComponent(act.id ?? act.task_id ?? String(idx))}/assign`, { method: 'POST', body: { userId: uid, assignedBy: currentUser?.id } } as any);\r\n                                        }\r\n                                        alert('Assignment created');\r\n                                        try {\r\n                                          const woRes = await apiClient(`/work-orders/${encodeURIComponent(taskModal.wo?.id)}`);\r\n                                          const woDetail = woRes?.data ?? woRes;\r\n                                          const tasksRes = await apiClient(`/work-orders/${encodeURIComponent(taskModal.wo?.id)}/tasks`);\r\n                                          const tasks = Array.isArray(tasksRes) ? tasksRes : (tasksRes?.data ?? []);\r\n                                          setTaskModal(prev => ({ ...(prev || {}), wo: { ...(prev?.wo || {}), ...woDetail, tasks } } as any));\r\n                                        } catch (e) { console.warn('refresh tasks after assign failed', e); }\r\n                                        load(page, q);\r\n                                      } catch (err) {\r\n                                        console.error('assign error', err);\r\n                                        alert(err?.body?.message || err?.message || 'Assignment failed');\r\n                                      }\r\n                                    }}>Assign</Button>\r\n                                    <Button size=\"small\" onClick={() => { setSelectedAssignees(prev => ({ ...prev, [taskKey]: [] })); }}>Clear</Button>\r\n                                  </>\r\n                                ) : (\r\n                                  <Button size=\"small\" disabled>Deployed</Button>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          </td>\r\n                        ) : (\r\n                          <td style={{ padding: 12, verticalAlign: 'top' }} />\r\n                        )}\r\n                      </tr>\r\n                    );\r\n                  })}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Row Details Dialog for table view */}\r\n      <Dialog open={Boolean(modalRow)} onClose={closeRowModal} fullWidth maxWidth=\"sm\">\r\n        <DialogTitle>Details — {modalRow?.doc_no ?? modalRow?.id}</DialogTitle>\r\n        <DialogContent dividers>\r\n          {modalRow ? (\r\n            <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\r\n              <div style={{ fontWeight: 700 }}>{modalRow.asset_name ?? '-'}</div>\r\n              <div style={{ color: '#666' }}>{modalRow.description ?? '-'}</div>\r\n              <div style={{ color: '#666', fontSize: 13 }}>Location: {modalRow.vendor_cabang ?? modalRow.raw?.vendor_cabang ?? '-'}</div>\r\n              <div style={{ color: '#666', fontSize: 13 }}>Start: {formatUtcDisplay(modalRow.start_date)}</div>\r\n              <div style={{ color: '#666', fontSize: 13 }}>End: {formatUtcDisplay(modalRow.end_date)}</div>\r\n              <div style={{ marginTop: 8 }}>{renderStatusBadge((modalRow as any).status ?? modalRow?.raw?.status ?? 'PREPARATION')}</div>\r\n              {typeof (modalRow as any).progress === 'number' && (\r\n                <Box sx={{ mt: 1 }}>\r\n                  <Typography variant=\"caption\" sx={{ fontWeight: 700 }}>{Math.round(Math.max(0, Math.min(1, (modalRow as any).progress || 0)) * 100)}%</Typography>\r\n                  <LinearProgress variant=\"determinate\" value={Math.round(Math.max(0, Math.min(1, (modalRow as any).progress || 0)) * 100)} sx={{ height: 8, borderRadius: 2, backgroundColor: '#f1f5f9', '& .MuiLinearProgress-bar': { background: getColorForStatus((modalRow as any).status ?? modalRow?.raw?.status ?? 'PREPARATION') } }} />\r\n                </Box>\r\n              )}\r\n            </Box>\r\n          ) : null}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={closeRowModal}>Close</Button>\r\n          <Tooltip title=\"Edit Tanggal\">\r\n            <IconButton onClick={() => { if (!modalRow) return; openEdit(modalRow); closeRowModal(); }} aria-label=\"Edit Dates\">\r\n              <EditOutlinedIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n          {modalRow && Array.isArray(modalRow.raw?.activities) && modalRow.raw.activities.length > 0 && (\r\n            <Tooltip title={`Lihat Task (${(modalRow.raw?.activities || []).length})`}>\r\n              <IconButton onClick={() => { if (modalRow) { openTaskModal(modalRow); closeRowModal(); } }} aria-label=\"Lihat Task\">\r\n                <ListAltOutlinedIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          )}\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Edit Dates Dialog (styled) */}\r\n      <Dialog open={Boolean(editing)} onClose={() => setEditing(null)} fullWidth maxWidth=\"sm\">\r\n        <DialogTitle>Edit Dates — {editing?.doc_no ?? editing?.id}</DialogTitle>\r\n        <DialogContent dividers>\r\n          <Stack spacing={2} sx={{ mt: 1 }}>\r\n            <TextField\r\n              label=\"Start Date & Time\"\r\n              type=\"datetime-local\"\r\n              size=\"small\"\r\n              value={editStartInput}\r\n              onChange={e => setEditStartInput(e.target.value)}\r\n              InputLabelProps={{ shrink: true }}\r\n              fullWidth\r\n            />\r\n            <div style={{ fontSize: 12, color: '#666' }}>Current: {formatUtcDisplay(editing?.start_date)}</div>\r\n\r\n            <TextField\r\n              label=\"End Date & Time\"\r\n              type=\"datetime-local\"\r\n              size=\"small\"\r\n              value={editEndInput}\r\n              onChange={e => setEditEndInput(e.target.value)}\r\n              InputLabelProps={{ shrink: true }}\r\n              fullWidth\r\n            />\r\n            <div style={{ fontSize: 12, color: '#666' }}>Current: {formatUtcDisplay(editing?.end_date)}</div>\r\n\r\n            <TextField\r\n              label=\"Keterangan (opsional)\"\r\n              placeholder=\"Alasan atau catatan perubahan tanggal\"\r\n              multiline\r\n              rows={4}\r\n              value={editNote}\r\n              onChange={e => setEditNote(e.target.value)}\r\n              fullWidth\r\n              size=\"small\"\r\n            />\r\n\r\n            {Array.isArray(dateHistory) && dateHistory.length > 0 && (\r\n              <div>\r\n                <div style={{ fontWeight: 700, marginBottom: 8 }}>History perubahan tanggal</div>\r\n                <div style={{ maxHeight: 240, overflow: 'auto' }}>\r\n                  {dateHistory.map((h, idx) => (\r\n                    <div key={h.id || idx} style={{ padding: 12, borderBottom: '1px solid #f5f5f5' }}>\r\n                      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                        <div style={{ fontSize: 13, color: '#333', fontWeight: 700 }}>{h.changed_at ? new Date(h.changed_at).toLocaleString() : '-'}</div>\r\n                        <div style={{ fontSize: 12, color: '#666' }}>{h.changed_by ? `${h.changed_by.nipp ?? h.changed_by.id ?? '-'} • ${h.changed_by.name ?? h.changed_by.email ?? '-'}` : '-'}</div>\r\n                      </div>\r\n                      <div style={{ marginTop: 6, color: '#444' }}>\r\n                        <div>Start: {h.old_start ? formatUtcDisplay(h.old_start) : '-'} → {h.new_start ? formatUtcDisplay(h.new_start) : '-'}</div>\r\n                        <div>End: {h.old_end ? formatUtcDisplay(h.old_end) : '-'} → {h.new_end ? formatUtcDisplay(h.new_end) : '-'}</div>\r\n                      </div>\r\n                      {h.note && <div style={{ marginTop: 8, fontSize: 13, color: '#555' }}>Catatan: {h.note}</div>}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions sx={{ p: 2 }}>\r\n          <Button onClick={() => setEditing(null)} disabled={editLoading}>Batal</Button>\r\n          <Button variant=\"contained\" color=\"primary\" onClick={async () => {\r\n            // Convert datetime-local (YYYY-MM-DDTHH:MM) to SQL datetime string 'YYYY-MM-DD HH:MM:00'\r\n            function datetimeLocalToSql(local?: string | null) {\r\n              if (!local) return null;\r\n              const rx = /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2})$/;\r\n              const m = rx.exec(local);\r\n              if (!m) return null;\r\n              const [, yy, mm, dd, hh, mi] = m as any;\r\n              return `${yy}-${mm}-${dd} ${hh}:${mi}:00`;\r\n            }\r\n\r\n            // basic validation: ensure input matches expected pattern\r\n            if (editStartInput && !/^(\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2})$/.test(editStartInput)) { alert('Start date tidak valid'); return; }\r\n            if (editEndInput && !/^(\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2})$/.test(editEndInput)) { alert('End date tidak valid'); return; }\r\n\r\n            const sSql = datetimeLocalToSql(editStartInput || null);\r\n            const eSql = datetimeLocalToSql(editEndInput || null);\r\n            await saveEdit(editing!.id, sSql, eSql);\r\n          }} disabled={editLoading}>{editLoading ? 'Menyimpan...' : 'Simpan Perubahan'}</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3044, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project/SigapPlanner/web/app/work-orders/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport WorkOrderForm from '../../components/WorkOrderForm';\r\nimport WorkOrderList from '../../components/WorkOrderList';\r\nimport { useRef } from 'react';\r\n\r\nexport default function Page() {\r\n  // expose refresh function from list via ref\r\n  const refreshRef = useRef<(() => Promise<void>) | null>(null);\r\n  const WorkOrderListAny = WorkOrderList as any;\r\n\r\n  return (\r\n    <main style={{ padding: 24, fontFamily: 'Inter, system-ui, -apple-system, Roboto, \"Helvetica Neue\", Arial' }}>\r\n      <h1 style={{ marginBottom: 12 }}>Work Orders</h1>\r\n\r\n      <section style={{ marginBottom: 20 }}>\r\n        <WorkOrderForm onCreated={() => refreshRef.current?.()} />\r\n      </section>\r\n\r\n      <section>\r\n        <WorkOrderListAny onRefreshRequested={(fn: any) => { return refreshRef.current = fn; }} />\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,4CAA4C;IAC5C,MAAM,aAAa,IAAA,sNAAM,EAA+B;IACxD,MAAM,mBAAmB,8IAAa;IAEtC,qBACE,qPAAC;QAAK,OAAO;YAAE,SAAS;YAAI,YAAY;QAAmE;;0BACzG,qPAAC;gBAAG,OAAO;oBAAE,cAAc;gBAAG;0BAAG;;;;;;0BAEjC,qPAAC;gBAAQ,OAAO;oBAAE,cAAc;gBAAG;0BACjC,cAAA,qPAAC,8IAAa;oBAAC,WAAW,IAAM,WAAW,OAAO;;;;;;;;;;;0BAGpD,qPAAC;0BACC,cAAA,qPAAC;oBAAiB,oBAAoB,CAAC;wBAAc,OAAO,WAAW,OAAO,GAAG;oBAAI;;;;;;;;;;;;;;;;;AAI7F"}}]
}
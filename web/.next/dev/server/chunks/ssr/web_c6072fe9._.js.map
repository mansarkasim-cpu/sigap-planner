{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project/SigapPlanner/web/lib/api-client.ts"],"sourcesContent":["// lib/api-client.ts\r\nexport type ApiOptions = RequestInit & { body?: any };\r\n\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4000/api';\r\n\r\nasync function handleResp(res: Response) {\r\n  const text = await res.text();\r\n  let data;\r\n  try { data = text ? JSON.parse(text) : undefined; } catch { data = text; }\r\n  if (!res.ok) {\r\n    const err: any = new Error(data?.message || res.statusText || 'API error');\r\n    err.status = res.status;\r\n    err.body = data;\r\n    throw err;\r\n  }\r\n  return data;\r\n}\r\n\r\nexport default async function apiClient(path: string, opts: ApiOptions = {}) {\r\n  const url = path.startsWith('http') ? path : `${API_BASE}${path.startsWith('/') ? '' : '/'}${path}`;\r\n\r\n  const headers: Record<string,string> = {\r\n    'Accept': 'application/json',\r\n    ...(opts.headers as Record<string,string> || {}),\r\n  };\r\n\r\n  let body: BodyInit | undefined;\r\n  if (opts.body !== undefined) {\r\n    headers['Content-Type'] = 'application/json';\r\n    body = JSON.stringify(opts.body);\r\n  }\r\n\r\n  try {\r\n    const res = await fetch(url, {\r\n      credentials: 'include',\r\n      ...opts,\r\n      headers,\r\n      body,\r\n    });\r\n    return await handleResp(res);\r\n  } catch (err: any) {\r\n    // Network-level error (CORS, DNS, connection refused, etc)\r\n    const e: any = new Error(err.message || 'Network error');\r\n    e.detail = err;\r\n    e.url = url;\r\n    throw e;\r\n  }\r\n}\r\n"],"names":[],"mappings":"AAAA,oBAAoB;;;;;AAGpB,MAAM,WAAW,QAAQ,GAAG,CAAC,mBAAmB,IAAI;AAEpD,eAAe,WAAW,GAAa;IACrC,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,IAAI;IACJ,IAAI;QAAE,OAAO,OAAO,KAAK,KAAK,CAAC,QAAQ;IAAW,EAAE,OAAM;QAAE,OAAO;IAAM;IACzE,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,MAAW,IAAI,MAAM,MAAM,WAAW,IAAI,UAAU,IAAI;QAC9D,IAAI,MAAM,GAAG,IAAI,MAAM;QACvB,IAAI,IAAI,GAAG;QACX,MAAM;IACR;IACA,OAAO;AACT;AAEe,eAAe,UAAU,IAAY,EAAE,OAAmB,CAAC,CAAC;IACzE,MAAM,MAAM,KAAK,UAAU,CAAC,UAAU,OAAO,GAAG,WAAW,KAAK,UAAU,CAAC,OAAO,KAAK,MAAM,MAAM;IAEnG,MAAM,UAAiC;QACrC,UAAU;QACV,GAAI,KAAK,OAAO,IAA6B,CAAC,CAAC;IACjD;IAEA,IAAI;IACJ,IAAI,KAAK,IAAI,KAAK,WAAW;QAC3B,OAAO,CAAC,eAAe,GAAG;QAC1B,OAAO,KAAK,SAAS,CAAC,KAAK,IAAI;IACjC;IAEA,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,KAAK;YAC3B,aAAa;YACb,GAAG,IAAI;YACP;YACA;QACF;QACA,OAAO,MAAM,WAAW;IAC1B,EAAE,OAAO,KAAU;QACjB,2DAA2D;QAC3D,MAAM,IAAS,IAAI,MAAM,IAAI,OAAO,IAAI;QACxC,EAAE,MAAM,GAAG;QACX,EAAE,GAAG,GAAG;QACR,MAAM;IACR;AACF"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project/SigapPlanner/web/components/VisTimelineGantt.tsx"],"sourcesContent":["// components/VisTimelineGantt.tsx\r\n'use client';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport apiClient from '../lib/api-client';\r\n\r\ntype WO = {\r\n  id: string | number;\r\n  doc_no?: string;\r\n  asset_name?: string;\r\n  work_type?: string;\r\n  start_date?: string | null;\r\n  end_date?: string | null;\r\n  description?: string | null;\r\n  raw?: any;\r\n};\r\n\r\n// color mapping explicit for legend\r\nconst LEGEND_COLORS: Record<string,string> = {\r\n  PM: '#16a34a', // green\r\n  CM: '#fb923c', // orange (softer)\r\n  'B/D': '#ef4444', // breakdown / failure red\r\n  DEFAULT: '#3b82f6'\r\n};\r\n\r\nfunction pickColor(w: WO) {\r\n  const wt = (w.work_type || (w.raw && (w.raw.work_type || w.raw.type_work)) || '').toString().toLowerCase();\r\n  const status = (w.raw && (w.raw.doc_status || w.raw.status || w.raw.state) || '').toString().toLowerCase();\r\n\r\n  // priority on recognized keywords\r\n  if (/(breakdown|failure|bd)/i.test(wt) || status.includes('breakdown') || status.includes('failure')) return LEGEND_COLORS['B/D'];\r\n  if (/preventive|pm/i.test(wt)) return LEGEND_COLORS['PM'];\r\n  if (/corrective|cm/i.test(wt)) return LEGEND_COLORS['CM'];\r\n  // fallback\r\n  return LEGEND_COLORS['DEFAULT'];\r\n}\r\n\r\nfunction toDate(iso?: string | null) {\r\n  if (!iso) return null;\r\n  const d = new Date(iso);\r\n  return isNaN(d.getTime()) ? null : d;\r\n}\r\n\r\nexport default function VisTimelineGantt({ pageSize = 2000 }: { pageSize?: number }) {\r\n  const containerRef = useRef<HTMLDivElement | null>(null);\r\n  const tlRef = useRef<any>(null);\r\n  const customNowIdRef = useRef<string | null>(null);\r\n\r\n  const [itemsRaw, setItemsRaw] = useState<WO[]>([]);\r\n  const [selectedDate, setSelectedDate] = useState<string>(new Date().toISOString().slice(0, 10));\r\n  const [loading, setLoading] = useState(false);\r\n  const [selected, setSelected] = useState<WO | null>(null);\r\n\r\n  // inject vis CSS once\r\n  useEffect(() => {\r\n    const cssHref = 'https://unpkg.com/vis-timeline@latest/dist/vis-timeline-graph2d.min.css';\r\n    if (!document.querySelector(`link[href=\"${cssHref}\"]`)) {\r\n      const l = document.createElement('link');\r\n      l.rel = 'stylesheet';\r\n      l.href = cssHref;\r\n      document.head.appendChild(l);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => { load(); }, []);\r\n\r\n  async function load() {\r\n    setLoading(true);\r\n    try {\r\n      const res = await apiClient(`/work-orders?q=&page=1&pageSize=${pageSize}`);\r\n      const rows = res?.data ?? res;\r\n      const mapped: WO[] = (rows || []).map((r: any) => ({\r\n        ...r,\r\n        start_date: r.start_date ?? null,\r\n        end_date: r.end_date ?? null,\r\n        description: r.description ?? r.raw?.description ?? ''\r\n      }));\r\n      setItemsRaw(mapped);\r\n    } catch (e) {\r\n      console.error('load', e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  function buildDataForDay(dateStr: string) {\r\n    const dayStart = new Date(`${dateStr}T00:00:00`).getTime();\r\n    const dayEnd = dayStart + 24 * 60 * 60 * 1000;\r\n\r\n    const filtered = itemsRaw.filter(it => {\r\n      const s = toDate(it.start_date)?.getTime() ?? null;\r\n      const e = toDate(it.end_date)?.getTime() ?? null;\r\n      if (s === null && e === null) return false;\r\n      const start = s ?? e!;\r\n      const end = e ?? s!;\r\n      return !(end <= dayStart || start >= dayEnd);\r\n    }).sort((a,b) => {\r\n      const sa = toDate(a.start_date)?.getTime() ?? 0;\r\n      const sb = toDate(b.start_date)?.getTime() ?? 0;\r\n      return sa - sb;\r\n    });\r\n\r\n    // groups: one group per asset_name (if multiple WO per asset, they stack under same asset)\r\n    // But original required y-axis = work order. We'll keep one group per workorder but label shows asset/work_type\r\n    const groups = filtered.map(it => ({\r\n      id: String(it.id),\r\n      content: `${it.asset_name ?? ''} ${it.work_type ? '• ' + it.work_type : ''}`.trim()\r\n    }));\r\n\r\n    const items = filtered.map(it => {\r\n      const sRaw = toDate(it.start_date)?.getTime() ?? null;\r\n      const eRaw = toDate(it.end_date)?.getTime() ?? null;\r\n      const start = Math.max(sRaw ?? eRaw ?? dayStart, dayStart);\r\n      const end = Math.min(eRaw ?? sRaw ?? dayEnd, dayEnd);\r\n\r\n      // content: remove WO number — show asset_name or work_type\r\n      const content = it.asset_name ? it.asset_name : (it.work_type ?? '');\r\n\r\n      return {\r\n        id: String(it.id),\r\n        group: String(it.id),\r\n        start: new Date(start),\r\n        end: new Date(end),\r\n        content: content,\r\n        className: `wo-${String(it.id)}`,\r\n        _raw: it\r\n      };\r\n    });\r\n\r\n    return { groups, items, dayStart, dayEnd };\r\n  }\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n\r\n    async function mount() {\r\n      if (!containerRef.current) return;\r\n\r\n      const visUrl = 'https://unpkg.com/vis-timeline@latest/dist/vis-timeline-graph2d.min.js';\r\n      if (!(window as any).vis) {\r\n        await new Promise<void>((resolve, reject) => {\r\n          const already = document.querySelector(`script[src=\"${visUrl}\"]`);\r\n          if (already) return setTimeout(() => resolve(), 120);\r\n          const s = document.createElement('script');\r\n          s.src = visUrl;\r\n          s.async = true;\r\n          s.onload = () => resolve();\r\n          s.onerror = () => reject(new Error('Failed to load vis-timeline'));\r\n          document.body.appendChild(s);\r\n        });\r\n      }\r\n\r\n      const vis = (window as any).vis;\r\n      if (!vis || !vis.Timeline) {\r\n        console.error('vis not available');\r\n        return;\r\n      }\r\n\r\n      containerRef.current.innerHTML = '';\r\n\r\n      const { groups, items, dayStart, dayEnd } = buildDataForDay(selectedDate);\r\n\r\n      const DataSet = vis.DataSet;\r\n      const groupsDs = new DataSet(groups);\r\n      const itemsDs = new DataSet(items);\r\n\r\n      const options = {\r\n        stack: false,\r\n        start: new Date(dayStart),\r\n        end: new Date(dayEnd),\r\n        min: new Date(dayStart),\r\n        max: new Date(dayEnd),\r\n        zoomMin: 30 * 60 * 1000,\r\n        zoomMax: 24 * 60 * 60 * 1000,\r\n        orientation: 'top',\r\n        editable: false,\r\n        // configure time axis grid: scale per hour\r\n        // timeAxis supported format in newer vis: use 'timeAxis' option\r\n        timeAxis: {scale: 'hour', step: 1}\r\n      };\r\n\r\n      // instantiate\r\n      const timeline = new vis.Timeline(containerRef.current, itemsDs, groupsDs, options);\r\n      tlRef.current = timeline;\r\n\r\n      // add NOW marker if in day\r\n      const now = Date.now();\r\n      if (now >= dayStart && now <= dayEnd) {\r\n        const id = 'now-marker';\r\n        timeline.addCustomTime(new Date(), id);\r\n        setTimeout(() => {\r\n          const el = containerRef.current!.querySelector('.vis-custom-time');\r\n          if (el) {\r\n            (el as HTMLElement).style.borderLeft = '2px dashed #ef4444';\r\n            (el as HTMLElement).style.height = '100%';\r\n          }\r\n        }, 80);\r\n        customNowIdRef.current = id;\r\n      } else {\r\n        customNowIdRef.current = null;\r\n      }\r\n\r\n      // color items by pickColor\r\n      items.forEach((it:any) => {\r\n        const raw: WO = it._raw;\r\n        const color = pickColor(raw);\r\n        addCssRule(`.vis-item.wo-${it.id} .vis-item-content`, `background:${color} !important; color:#fff !important; border-radius:6px;`);\r\n      });\r\n\r\n      // select handler -> open modal\r\n      timeline.on('select', (props:any) => {\r\n        if (!props.items || props.items.length === 0) return;\r\n        const id = String(props.items[0]);\r\n        const row = items.find((it:any) => String(it.id) === id);\r\n        if (row && row._raw) setSelected(row._raw);\r\n      });\r\n    }\r\n\r\n    mount().catch(err => console.error(err));\r\n\r\n    return () => {\r\n      try {\r\n        const t = tlRef.current?.timeline || tlRef.current;\r\n        if (t && typeof t.destroy === 'function') t.destroy();\r\n      } catch (e) {}\r\n    };\r\n  }, [itemsRaw, selectedDate]);\r\n\r\n  // helper to inject css\r\n  function addCssRule(selector:string, rule:string) {\r\n    const id = 'vis-dynamic-styles';\r\n    let ss = document.getElementById(id) as HTMLStyleElement | null;\r\n    if (!ss) {\r\n      ss = document.createElement('style');\r\n      ss.id = id;\r\n      document.head.appendChild(ss);\r\n    }\r\n    ss.appendChild(document.createTextNode(`${selector} { ${rule} }`));\r\n  }\r\n\r\n  return (\r\n    <div style={{ padding: 12 }}>\r\n      <div style={{\r\n        display: 'flex', alignItems: 'center', gap: 12, marginBottom: 12,\r\n        background: '#fff', padding: 12, borderRadius: 8, boxShadow: '0 6px 18px rgba(0,0,0,0.04)'\r\n      }}>\r\n        <h3 style={{ margin: 0 }}>Gantt (Vis Timeline)</h3>\r\n\r\n        <div style={{ marginLeft: 'auto', display: 'flex', gap: 8, alignItems: 'center' }}>\r\n          <label style={{ display:'flex', alignItems:'center', gap:8 }}>\r\n            Tanggal:\r\n            <input type=\"date\" value={selectedDate} onChange={e => setSelectedDate(e.target.value)} style={{ padding:'6px 8px', borderRadius:6, border:'1px solid #ddd' }} />\r\n          </label>\r\n\r\n          <button onClick={() => load()} style={{ padding:'6px 10px', borderRadius:6, border:'none', background:'#2563eb', color:'#fff' }}>\r\n            Refresh\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* legend */}\r\n      <div style={{ display:'flex', gap:12, alignItems:'center', marginBottom:10 }}>\r\n        <LegendItem color={LEGEND_COLORS.PM} label=\"PM (Preventive Maintenance)\" />\r\n        <LegendItem color={LEGEND_COLORS.CM} label=\"CM (Corrective Maintenance)\" />\r\n        <LegendItem color={LEGEND_COLORS['B/D']} label=\"B/D (Breakdown / Failure)\" />\r\n      </div>\r\n\r\n      <div ref={containerRef} style={{ border:'1px solid #eee', borderRadius:8, minHeight: 380, overflow:'auto' }} />\r\n\r\n      {/* modal */}\r\n      {selected && (\r\n        <div style={{\r\n          position:'fixed', left:0, right:0, top:0, bottom:0, background:'rgba(0,0,0,0.45)',\r\n          display:'flex', alignItems:'center', justifyContent:'center', zIndex: 99999\r\n        }}>\r\n          <div style={{ background:'#fff', width:720, maxHeight:'80%', overflowY:'auto', borderRadius:10, padding:16 }}>\r\n            <h3 style={{ marginTop:0 }}>{selected.asset_name}</h3>\r\n            <div><strong>Work Type:</strong> {selected.work_type}</div>\r\n            <div><strong>Start:</strong> {selected.start_date}</div>\r\n            <div><strong>End:</strong> {selected.end_date}</div>\r\n            <div style={{ marginTop:12 }}>\r\n              <pre style={{ background:'#f7f7f7', padding:10, borderRadius:6 }}>{JSON.stringify(selected.raw ?? selected, null, 2)}</pre>\r\n            </div>\r\n            <div style={{ textAlign:'right' }}>\r\n              <button onClick={() => setSelected(null)} style={{ padding:'6px 10px', borderRadius:6 }}>Close</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// small legend component\r\nfunction LegendItem({ color, label }: { color: string; label: string }) {\r\n  return (\r\n    <div style={{ display:'flex', alignItems:'center', gap:8 }}>\r\n      <div style={{ width:14, height:14, background: color, borderRadius:3, boxShadow:'0 1px 0 rgba(0,0,0,0.05)' }} />\r\n      <small style={{ color:'#333' }}>{label}</small>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}
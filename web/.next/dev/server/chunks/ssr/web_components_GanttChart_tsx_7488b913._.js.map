{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project/SigapPlanner/web/components/GanttChart.tsx"],"sourcesContent":["// components/GanttChart.tsx\r\n'use client';\r\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\r\nimport apiClient from '../lib/api-client';\r\nimport Box from '@mui/material/Box';\r\nimport Button from '@mui/material/Button';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport TextField from '@mui/material/TextField';\r\nimport Select from '@mui/material/Select';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport Paper from '@mui/material/Paper';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport Typography from '@mui/material/Typography';\r\nimport Chip from '@mui/material/Chip';\r\nimport ZoomOutIcon from '@mui/icons-material/ZoomOut';\r\nimport ZoomInIcon from '@mui/icons-material/ZoomIn';\r\nimport RefreshIcon from '@mui/icons-material/Refresh';\r\nimport FullscreenIcon from '@mui/icons-material/Fullscreen';\r\nimport FullscreenExitIcon from '@mui/icons-material/FullscreenExit';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\ntype WO = {\r\n  id: string | number;\r\n  doc_no?: string | null;\r\n  asset_name?: string | null;\r\n  work_type?: string | null;\r\n  start_date?: string | null;\r\n  end_date?: string | null;\r\n  description?: string | null;\r\n  raw?: any;\r\n  realisasi?: { actualStart?: string | null; actualEnd?: string | null; items?: Array<{ id: string; start?: string | null; end?: string | null }> } | null;\r\n};\r\n\r\nconst rowHeight = 44;\r\nconst labelWidth = 300;\r\nconst gutter = 12;\r\nconst minBarWidthPx = 4;\r\n\r\nfunction isoToMs(val?: string | null) {\r\n  if (!val) return null;\r\n  // If string is date-only (YYYY-MM-DD), parse as local midnight to avoid UTC offset issues\r\n  if (/^\\d{4}-\\d{2}-\\d{2}$/.test(val)) {\r\n    const d = new Date(`${val}T00:00:00`);\r\n    const n = d.getTime();\r\n    return isNaN(n) ? null : n;\r\n  }\r\n  // If string is datetime without timezone (e.g. \"YYYY-MM-DDTHH:mm:ss\" or \"YYYY-MM-DD HH:mm:ss\"),\r\n  // parse components and treat them as backend-local time. Many backends send naive datetimes\r\n  // (no TZ) — assume backend uses UTC+8 and subtract that offset to get UTC ms.\r\n  if (/^\\d{4}-\\d{2}-\\d{2}[T\\s]\\d{2}:\\d{2}(:\\d{2}(\\.\\d+)?)?$/.test(val) && !/[Z+-]\\d{2}:?\\d{2}$/.test(val) && !/Z$/.test(val)) {\r\n    // normalize separator to T\r\n    const norm = val.replace(' ', 'T');\r\n    const m = norm.match(/^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d+))?)?$/);\r\n    if (m) {\r\n      const year = parseInt(m[1], 10);\r\n      const month = parseInt(m[2], 10) - 1;\r\n      const day = parseInt(m[3], 10);\r\n      const hour = parseInt(m[4], 10);\r\n      const minute = parseInt(m[5], 10);\r\n      const second = m[6] ? parseInt(m[6], 10) : 0;\r\n      const ms = m[7] ? Math.round(Number('0.' + m[7]) * 1000) : 0;\r\n      // Adjust this offset if your backend uses a different timezone\r\n      const BACKEND_TZ_OFFSET_HOURS = 8;\r\n      const nUtc = Date.UTC(year, month, day, hour, minute, second, ms) - (BACKEND_TZ_OFFSET_HOURS * 60 * 60 * 1000);\r\n      return isNaN(nUtc) ? null : nUtc;\r\n    }\r\n  }\r\n  const n = Date.parse(val);\r\n  return isNaN(n) ? null : n;\r\n}\r\nfunction niceTime(ms: number | null) {\r\n  if (!ms) return '-';\r\n  const d = new Date(ms);\r\n  return d.toLocaleString();\r\n}\r\n// Format ms to dd/mm/yyyy HH24:mi using UTC getters to avoid local TZ differences\r\nfunction formatDdMmYyyyHHMM(ms: number | null) {\r\n  if (!ms) return '-';\r\n  // display with +8h offset (backend local timezone) on the frontend\r\n  const BACKEND_TZ_OFFSET_HOURS = 8;\r\n  const d = new Date(ms + BACKEND_TZ_OFFSET_HOURS * 60 * 60 * 1000);\r\n  const pad = (n: number) => n.toString().padStart(2, '0');\r\n  const dd = pad(d.getUTCDate());\r\n  const mm = pad(d.getUTCMonth() + 1);\r\n  const yyyy = d.getUTCFullYear();\r\n  const hh = pad(d.getUTCHours());\r\n  const mi = pad(d.getUTCMinutes());\r\n  return `${dd}/${mm}/${yyyy} ${hh}:${mi}`;\r\n}\r\nfunction dateInputToDayStart(dateStr: string) {\r\n  return new Date(`${dateStr}T00:00:00`);\r\n}\r\n\r\nconst WORK_TYPE_COLORS: Record<string, string> = {\r\n  'Preventive Maintenance': '#16a34a',\r\n  'Corrective Maintenance': '#fb923c',\r\n  'Breakdown': '#ef4444',\r\n  'PM': '#16a34a',\r\n  'CM': '#fb923c',\r\n  'Default': '#3b82f6',\r\n};\r\nconst STATUS_COLORS: Record<string, string> = {\r\n  'ASSIGNED': '#0ea5e9', // blue\r\n  'DEPLOYED': '#06b6d4', // teal\r\n  'READY_TO_DEPLOY': '#7c3aed', // purple\r\n  'IN_PROGRESS': '#f97316', // orange\r\n  'COMPLETED': '#10b981', // green\r\n  'NEW': '#64748b', // gray\r\n  'OPEN': '#64748b',\r\n  'CANCELLED': '#ef4444', // red\r\n  'CLOSED': '#334155',\r\n};\r\n\r\n// preferred legend order for statuses\r\nconst STATUS_ORDER = ['NEW', 'ASSIGNED', 'READY_TO_DEPLOY', 'DEPLOYED', 'IN_PROGRESS', 'COMPLETED'];\r\n\r\n// simple hex -> rgb helper and luminance check for label text color\r\nfunction hexToRgbStatic(hex: string | undefined | null) {\r\n  if (!hex) return null;\r\n  const h = hex.replace('#','').trim();\r\n  if (h.length === 3) {\r\n    const r = parseInt(h[0]+h[0],16);\r\n    const g = parseInt(h[1]+h[1],16);\r\n    const b = parseInt(h[2]+h[2],16);\r\n    return { r, g, b };\r\n  }\r\n  if (h.length === 6) {\r\n    const r = parseInt(h.substring(0,2),16);\r\n    const g = parseInt(h.substring(2,4),16);\r\n    const b = parseInt(h.substring(4,6),16);\r\n    return { r, g, b };\r\n  }\r\n  return null;\r\n}\r\nfunction isDarkColor(hex: string) {\r\n  const rgb = hexToRgbStatic(hex) || { r: 0, g: 0, b: 0 };\r\n  const lum = 0.299 * rgb.r + 0.587 * rgb.g + 0.114 * rgb.b;\r\n  return lum < 140;\r\n}\r\n\r\nfunction pickColorForWork(w: WO) {\r\n  // prefer top-level status if present (set by backend), fallback to raw payload fields\r\n  const statusRaw = (w as any).status || (w.raw && (w.raw.doc_status || w.raw.status || w.raw.state)) || null;\r\n  if (statusRaw && typeof statusRaw === 'string') {\r\n    const k = statusRaw.toString().toUpperCase().replace(/[-\\s]/g, '_');\r\n    if (STATUS_COLORS[k]) return STATUS_COLORS[k];\r\n  }\r\n  const wt = (w.work_type || (w.raw && (w.raw.work_type || w.raw.type_work)) || '').toString();\r\n  if (wt && WORK_TYPE_COLORS[wt]) return WORK_TYPE_COLORS[wt];\r\n  if (wt && WORK_TYPE_COLORS[wt.toUpperCase() as keyof typeof WORK_TYPE_COLORS]) return WORK_TYPE_COLORS[wt.toUpperCase() as keyof typeof WORK_TYPE_COLORS];\r\n  return WORK_TYPE_COLORS['Default'];\r\n}\r\n\r\n\r\nexport default function GanttChart({ pageSize = 2000 }: { pageSize?: number }) {\r\n  const [items, setItems] = useState<WO[]>([]);\r\n  const [sites, setSites] = useState<string[]>([]);\r\n  const [site, setSite] = useState<string>('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const todayIsoDate = new Date().toISOString().slice(0,10);\r\n  const [selectedDate, setSelectedDate] = useState<string>(todayIsoDate);\r\n  const [scale, setScale] = useState<number>(1);\r\n  const [selected, setSelected] = useState<WO | null>(null);\r\n  // displayMode: 'both' | 'planned' | 'actual'\r\n  const [displayMode, setDisplayMode] = useState<string>('both');\r\n\r\n  const containerRef = useRef<HTMLDivElement | null>(null);\r\n  const svgWrapperRef = useRef<HTMLDivElement | null>(null);\r\n  const [containerWidth, setContainerWidth] = useState<number>(900);\r\n  const [isFullscreen, setIsFullscreen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const el = svgWrapperRef.current ?? containerRef.current;\r\n    if (!el) return;\r\n    setContainerWidth(el.clientWidth || 900);\r\n    const ro = new ResizeObserver(() => setContainerWidth(el.clientWidth || 900));\r\n    ro.observe(el);\r\n    return () => ro.disconnect();\r\n  }, []);\r\n\r\n  useEffect(() => { load(); }, []);\r\n\r\n  useEffect(() => { loadSites(); }, []);\r\n\r\n  useEffect(() => { load(); }, [site]);\r\n\r\n  // Auto-refresh: call `load()` every 60 seconds without recreating the interval.\r\n  const loadRef = useRef<any>(null);\r\n  useEffect(() => { loadRef.current = load; }, [load]);\r\n  useEffect(() => {\r\n    const AUTO_REFRESH_MS = 60 * 1000; // 1 minute\r\n    const id = setInterval(() => {\r\n      try {\r\n        if (loadRef.current) loadRef.current();\r\n      } catch (e) {\r\n        console.warn('Gantt auto-refresh failed', e);\r\n      }\r\n    }, AUTO_REFRESH_MS);\r\n    return () => clearInterval(id);\r\n  }, [site, selectedDate, pageSize]);\r\n\r\n  async function load() {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const url = `/work-orders?q=&page=1&pageSize=${pageSize}` + (site ? `&site=${encodeURIComponent(site)}` : '');\r\n      const res = await apiClient(url);\r\n      const rows = res?.data ?? res;\r\n      const mapped: WO[] = (rows || []).map((r: any) => ({\r\n        ...r,\r\n        start_date: r.start_date ?? null,\r\n        end_date: r.end_date ?? null,\r\n        description: r.description ?? r.raw?.description ?? null,\r\n      }));\r\n        // fetch realisasi summary for each workorder in parallel (small batches)\r\n        try {\r\n          await Promise.all(mapped.map(async (m) => {\r\n            try {\r\n              const rr = await apiClient(`/work-orders/${encodeURIComponent(String(m.id))}/realisasi`);\r\n              m.realisasi = rr?.data ?? rr;\r\n            } catch (e) {\r\n              m.realisasi = null;\r\n            }\r\n          }));\r\n        } catch (e) {\r\n          // ignore per-item failures\r\n        }\r\n      setItems(mapped);\r\n      // debug: log loaded items for troubleshooting\r\n      if (typeof window !== 'undefined' && (window as any).console && (window as any).console.debug) {\r\n        console.debug('[Gantt] loaded items:', mapped.length, mapped.map((r: any) => r.id ?? r.doc_no));\r\n      }\r\n      // detailed debug: show start/end values and parsed timestamps\r\n      if (typeof window !== 'undefined' && (window as any).console && (window as any).console.debug) {\r\n        try {\r\n          console.debug('[Gantt] items details:', mapped.map((r: any) => ({ id: r.id ?? r.doc_no, start_date: r.start_date, end_date: r.end_date, sMs: isoToMs(r.start_date), eMs: isoToMs(r.end_date) })));\r\n        } catch (e) {}\r\n      }\r\n    } catch (err: any) {\r\n      console.error('load gantt', err);\r\n      setError(err?.body?.message || err?.message || 'Gagal memuat data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function loadSites() {\r\n    try {\r\n      const res = await apiClient('/users?page=1&pageSize=1000');\r\n      const rows: any[] = (res?.data ?? res) || [];\r\n      const uniqueSites: string[] = Array.from(new Set(rows.map((r: any) => (r.site || r.vendor_cabang || '').toString()))).filter(Boolean);\r\n      setSites(uniqueSites);\r\n    } catch (err) {\r\n      console.error('load sites for gantt', err);\r\n    }\r\n  }\r\n\r\n  const { dayStartMs, dayEndMs } = useMemo(() => {\r\n    const ds = dateInputToDayStart(selectedDate);\r\n    const de = new Date(ds.getTime() + 24*60*60*1000);\r\n    return { dayStartMs: ds.getTime(), dayEndMs: de.getTime() };\r\n  }, [selectedDate]);\r\n\r\n  const totalMs = 24 * 60 * 60 * 1000;\r\n  const available = Math.max(300, containerWidth - labelWidth - gutter - 20);\r\n  const timelineWidth = available;\r\n  const svgWidth = gutter + timelineWidth + 8;\r\n  const pxPerMs = (timelineWidth / totalMs) * scale;\r\n  function msToX(ms: number) { return gutter + Math.round((ms - dayStartMs) * pxPerMs); }\r\n  function clampBarWidth(x1: number, x2: number) { return Math.max(minBarWidthPx, x2 - x1); }\r\n\r\n  const tickStepMs = 30 * 60 * 1000;\r\n  const ticks = useMemo(() => {\r\n    const out: number[] = [];\r\n    const startTick = Math.floor(dayStartMs / tickStepMs) * tickStepMs;\r\n    for (let t = startTick; t <= dayEndMs; t += tickStepMs) out.push(t);\r\n    return out;\r\n  }, [dayStartMs, dayEndMs]);\r\n\r\n\r\n  const validItems = useMemo(() => {\r\n    const debugReasons: any[] = [];\r\n    const filtered = items.filter(it => {\r\n      const s = isoToMs(it.start_date);\r\n      const e = isoToMs(it.end_date);\r\n      const rec: any = { id: it.id ?? it.doc_no, rawStart: it.start_date, rawEnd: it.end_date, s, e };\r\n      if (s == null && e == null) {\r\n        rec.passes = false;\r\n        rec.reason = 'no start and end';\r\n        debugReasons.push(rec);\r\n        return false;\r\n      }\r\n      const start = s ?? e ?? null;\r\n      const end = e ?? s ?? null;\r\n      rec.start = start; rec.end = end;\r\n      if (start == null || end == null) {\r\n        rec.passes = false;\r\n        rec.reason = 'start or end null after fallback';\r\n        debugReasons.push(rec);\r\n        return false;\r\n      }\r\n      if (end <= dayStartMs) {\r\n        rec.passes = false;\r\n        rec.reason = `ends before or at dayStart (${end} <= ${dayStartMs})`;\r\n        debugReasons.push(rec);\r\n        return false;\r\n      }\r\n      if (start >= dayEndMs) {\r\n        rec.passes = false;\r\n        rec.reason = `starts at/after dayEnd (${start} >= ${dayEndMs})`;\r\n        debugReasons.push(rec);\r\n        return false;\r\n      }\r\n      rec.passes = true;\r\n      rec.reason = 'in range';\r\n      debugReasons.push(rec);\r\n      return true;\r\n    });\r\n    // sort by start time\r\n    const sorted = filtered.sort((a,b) => {\r\n      const sa = isoToMs(a.start_date) ?? 0;\r\n      const sb = isoToMs(b.start_date) ?? 0;\r\n      return sa - sb;\r\n    });\r\n    if (typeof window !== 'undefined' && (window as any).console && (window as any).console.debug) {\r\n      try { console.debug('[Gantt] filter reasons:', debugReasons); } catch (e) {}\r\n    }\r\n    return sorted;\r\n  }, [items, dayStartMs, dayEndMs]);\r\n\r\n  // debug: log validItems when they change so we can inspect filtering\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') return;\r\n    try {\r\n      console.debug('[Gantt] validItems:', validItems.length, validItems.map(i => i.id ?? i.doc_no));\r\n    } catch (e) {}\r\n  }, [validItems]);\r\n\r\n  // rows are simply the valid items (no shift grouping)\r\n  const rows = validItems;\r\n\r\n  const nowMs = Date.now();\r\n  const showNow = nowMs >= dayStartMs && nowMs <= dayEndMs;\r\n  const nowX = showNow ? msToX(nowMs) : null;\r\n\r\n  // Compute svg height; when fullscreen make it fill viewport height\r\n  const svgHeight = (typeof window !== 'undefined' && isFullscreen)\r\n    ? Math.max(140, window.innerHeight - 160)\r\n    : Math.max(140, validItems.length * rowHeight + 80);\r\n\r\n  // Fullscreen handling\r\n  useEffect(() => {\r\n    function onFsChange() {\r\n      const doc = document as any;\r\n      const fsElem = doc.fullscreenElement ?? doc.webkitFullscreenElement ?? doc.mozFullScreenElement ?? doc.msFullscreenElement;\r\n      setIsFullscreen(Boolean(fsElem));\r\n    }\r\n    document.addEventListener('fullscreenchange', onFsChange);\r\n    document.addEventListener('webkitfullscreenchange', onFsChange);\r\n    document.addEventListener('mozfullscreenchange', onFsChange);\r\n    document.addEventListener('MSFullscreenChange', onFsChange);\r\n    return () => {\r\n      document.removeEventListener('fullscreenchange', onFsChange);\r\n      document.removeEventListener('webkitfullscreenchange', onFsChange);\r\n      document.removeEventListener('mozfullscreenchange', onFsChange);\r\n      document.removeEventListener('MSFullscreenChange', onFsChange);\r\n    };\r\n  }, []);\r\n\r\n  async function toggleFullscreen() {\r\n    const el = svgWrapperRef.current ?? containerRef.current;\r\n    if (!el) return;\r\n    const doc: any = document;\r\n    const isFs = doc.fullscreenElement || doc.webkitFullscreenElement || doc.mozFullScreenElement || doc.msFullscreenElement;\r\n    try {\r\n      if (!isFs) {\r\n        if (el.requestFullscreen) await el.requestFullscreen();\r\n        else if ((el as any).webkitRequestFullscreen) await (el as any).webkitRequestFullscreen();\r\n        else (el as any).classList.add('gantt-fs-fallback');\r\n      } else {\r\n        if (doc.exitFullscreen) await doc.exitFullscreen();\r\n        else if (doc.webkitExitFullscreen) await doc.webkitExitFullscreen();\r\n        else (el as any).classList.remove('gantt-fs-fallback');\r\n      }\r\n    } catch (e) {\r\n      // fallback toggle class\r\n      (el as any).classList.toggle('gantt-fs-fallback');\r\n      setIsFullscreen((f) => !f);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={{ padding: 18, fontFamily: 'Inter, system-ui, -apple-system, Roboto, \"Helvetica Neue\", Arial' }}>\r\n      <header style={{ position: 'sticky', top: 0, zIndex: 30 }}>\r\n        <Paper elevation={1} style={{ background: '#f7fafc', padding: 12, borderBottom: '1px solid #eee' }}>\r\n          <Box display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\" gap={2} flexWrap=\"wrap\">\r\n            <Box sx={{ minWidth: 0, pr: 2 }}>\r\n              <Typography variant=\"h6\" component=\"h2\" sx={{ whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>Gantt Chart — Work Orders (per-hari)</Typography>\r\n            </Box>\r\n\r\n            <Box display=\"flex\" alignItems=\"center\" gap={1} sx={{ flexWrap: 'wrap' }}>\r\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, background: '#ffffff', padding: '6px', borderRadius: 1, boxShadow: 'inset 0 0 0 1px rgba(0,0,0,0.03)' }}>\r\n                <TextField\r\n                  label=\"Tanggal\"\r\n                  type=\"date\"\r\n                  size=\"small\"\r\n                  value={selectedDate}\r\n                  onChange={e => setSelectedDate(e.target.value)}\r\n                  InputLabelProps={{ shrink: true }}\r\n                  sx={{ width: 160 }}\r\n                />\r\n\r\n                <FormControl size=\"small\" sx={{ minWidth: 160 }}>\r\n                  <InputLabel id=\"gantt-site-label\">Site</InputLabel>\r\n                  <Select\r\n                    labelId=\"gantt-site-label\"\r\n                    label=\"Site\"\r\n                    value={site}\r\n                    onChange={e => setSite(e.target.value as string)}\r\n                    renderValue={(v) => v || '-- All sites --'}\r\n                    sx={{ minWidth: 140 }}\r\n                  >\r\n                    <MenuItem value=\"\">-- All sites --</MenuItem>\r\n                    {sites.map(s => <MenuItem key={s} value={s}>{s}</MenuItem>)}\r\n                  </Select>\r\n                </FormControl>\r\n\r\n                <FormControl size=\"small\" sx={{ minWidth: 180 }}>\r\n                  <InputLabel id=\"gantt-show-label\">Show</InputLabel>\r\n                  <Select\r\n                    labelId=\"gantt-show-label\"\r\n                    label=\"Show\"\r\n                    value={displayMode}\r\n                    onChange={e => setDisplayMode(String(e.target.value))}\r\n                    sx={{ minWidth: 160 }}\r\n                  >\r\n                    <MenuItem value=\"both\">Planned + Actual</MenuItem>\r\n                    <MenuItem value=\"planned\">Planned only</MenuItem>\r\n                    <MenuItem value=\"actual\">Actual only</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Box>\r\n\r\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 0.5 }}>\r\n                <Tooltip title=\"Zoom out\">\r\n                  <IconButton size=\"small\" onClick={() => setScale(s => Math.max(0.5, s * 0.9))}><ZoomOutIcon /></IconButton>\r\n                </Tooltip>\r\n                <Tooltip title=\"Zoom in\">\r\n                  <IconButton size=\"small\" onClick={() => setScale(s => Math.min(4, s * 1.1))}><ZoomInIcon /></IconButton>\r\n                </Tooltip>\r\n                <Tooltip title=\"Refresh\">\r\n                  <IconButton size=\"small\" onClick={load}><RefreshIcon /></IconButton>\r\n                </Tooltip>\r\n                <Tooltip title={isFullscreen ? 'Exit fullscreen' : 'Fullscreen'}>\r\n                  <IconButton size=\"small\" onClick={toggleFullscreen}>\r\n                    {isFullscreen ? <FullscreenExitIcon /> : <FullscreenIcon />}\r\n                  </IconButton>\r\n                </Tooltip>\r\n              </Box>\r\n            </Box>\r\n          </Box>\r\n        </Paper>\r\n      </header>\r\n\r\n      {/* (work-type legend removed) — keep status indicator only */}\r\n      {/* <div style={{ display:'flex', gap:12, alignItems:'center', marginBottom:12 }}>\r\n        <LegendItem color={STATUS_COLORS['IN_PROGRESS']} label=\"Status — In Progress\" showBox={false} />\r\n      </div> */}\r\n\r\n      {/* status legend (color mapping for bars) */}\r\n      <Box display=\"flex\" gap={1} alignItems=\"center\" flexWrap=\"wrap\" sx={{ mt: 1, mb: 2 }}>\r\n        <Typography sx={{ fontWeight: 700, mr: 1 }}>Status colors:</Typography>\r\n        {STATUS_ORDER.map((status) => {\r\n          const color = STATUS_COLORS[status] || '#999';\r\n          const textColor = isDarkColor(color) ? '#ffffff' : '#000000';\r\n          return (\r\n            <Chip\r\n              key={status}\r\n              label={status.replace(/_/g, ' ')}\r\n              size=\"small\"\r\n              sx={{ backgroundColor: color, color: textColor, fontWeight: 700 }}\r\n            />\r\n          );\r\n        })}\r\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, ml: 1 }}>\r\n          <Box sx={{ width: 14, height: 14, backgroundColor: '#0f172a', borderRadius: 0.5, opacity: 0.12 }} />\r\n          <Typography sx={{ fontSize: 13, color: '#333' }}>Realisasi (actual)</Typography>\r\n        </Box>\r\n      </Box>\r\n\r\n      {/* svg wrapper: used for fullscreen request */}\r\n      <div\r\n        ref={svgWrapperRef}\r\n        className=\"gantt-svg-wrapper\"\r\n        style={{\r\n          border: '1px solid #eee',\r\n          overflow: 'auto',\r\n          background: isFullscreen ? '#fff' : undefined,\r\n          height: isFullscreen ? '100vh' : undefined,\r\n          padding: isFullscreen ? 18 : undefined,\r\n          // when fullscreen, make wrapper fixed to fully cover viewport (fallback and ensure no black bars)\r\n          position: isFullscreen ? 'fixed' : undefined,\r\n          left: isFullscreen ? 0 : undefined,\r\n          top: isFullscreen ? 0 : undefined,\r\n          right: isFullscreen ? 0 : undefined,\r\n          bottom: isFullscreen ? 0 : undefined,\r\n          width: isFullscreen ? '100vw' : undefined,\r\n          zIndex: isFullscreen ? 99999 : undefined,\r\n          borderRadius: isFullscreen ? 0 : 8,\r\n          boxSizing: 'border-box'\r\n        }}\r\n      >\r\n        <div ref={containerRef} style={{ overflowX: 'auto', height: isFullscreen ? '100%' : undefined }}>\r\n          <div style={{ display:'flex', minWidth: Math.max(900, svgWidth) }}>\r\n            {/* labels */}\r\n            <div style={{ width: labelWidth, borderRight: '1px solid #f0f0f0', background: '#fafafa' }}>\r\n              <div style={{ padding: '10px 12px', fontWeight:700 }}>Work Order</div>\r\n              <div style={{ height:8 }} />\r\n              {validItems.map((w, idx) => (\r\n                <div key={w.id} style={{\r\n                  height: rowHeight,\r\n                  display:'flex',\r\n                  flexDirection:'column',\r\n                  justifyContent:'center',\r\n                  padding: '6px 12px',\r\n                  borderBottom: '1px solid #f1f1f1',\r\n                  whiteSpace: 'nowrap',\r\n                  overflow:'hidden',\r\n                  textOverflow:'ellipsis'\r\n                }}>\r\n                  <div style={{ fontSize:13, fontWeight:700 }}>{w.doc_no ?? w.id}</div>\r\n                  <div style={{ marginTop:4, color:'#666', fontSize:12 }}>{w.asset_name ?? ''} {w.work_type ? ` • ${w.work_type}` : ''}</div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            {/* timeline */}\r\n            <div style={{ flex:'1 0 auto', minWidth: 600, position:'relative', background:'#fff', height: isFullscreen ? '100%' : svgHeight }}>\r\n              <svg width={svgWidth} height={svgHeight} style={{ width: isFullscreen ? '100%' : undefined, height: isFullscreen ? '100%' : undefined }}>\r\n                {/* background rows */}\r\n                {validItems.map((r, idx) => (\r\n                  <rect key={'bg'+idx}\r\n                    x={0}\r\n                    y={idx * rowHeight + 40}\r\n                    width={svgWidth}\r\n                    height={rowHeight}\r\n                    fill={idx % 2 === 0 ? '#ffffff' : '#fbfbfb'}\r\n                  />\r\n                ))}\r\n\r\n                {/* ticks (30 min) */}\r\n                {ticks.map((t, i) => {\r\n                  const x = msToX(t);\r\n                  // show major label every 2 hours; minor ticks remain every 30 minutes\r\n                  const showLabel = (t - dayStartMs) % (2 * 60 * 60 * 1000) === 0;\r\n                  return (\r\n                    <g key={'tick'+i}>\r\n                      <line x1={x} y1={30} x2={x} y2={30 + Math.max(20, svgHeight - 40)} stroke=\"#e7e7e7\" />\r\n                      {showLabel && <text x={x + 4} y={20} fontSize={11} fill=\"#333\">{new Date(t).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', hour12: false })}</text>}\r\n                    </g>\r\n                  );\r\n                })}\r\n\r\n                {/* now line */}\r\n                {showNow && nowX !== null && (\r\n                  <g>\r\n                    <line x1={nowX} y1={30} x2={nowX} y2={30 + Math.max(20, svgHeight - 40)} stroke=\"#8b5cf6\" strokeWidth={2} strokeDasharray=\"6,4\" />\r\n                  </g>\r\n                )}\r\n\r\n                {/* bars */}\r\n                {validItems.map((w, idx) => {\r\n                  const sMsRaw = isoToMs(w.start_date) as number | null;\r\n                  const eMsRaw = isoToMs(w.end_date) as number | null;\r\n                  const realStartMsRaw = isoToMs(w.realisasi?.actualStart) as number | null;\r\n                  const realEndMsRaw = isoToMs(w.realisasi?.actualEnd) as number | null;\r\n                  if (sMsRaw == null || eMsRaw == null) return null;\r\n                  const sMs = Math.max(sMsRaw, dayStartMs);\r\n                  const eMs = Math.min(eMsRaw, dayEndMs);\r\n                  if (eMs <= sMs) return null;\r\n                  const x1 = msToX(sMs);\r\n                  const x2 = msToX(eMs);\r\n                  const width = clampBarWidth(x1, x2);\r\n                  const y = idx * rowHeight + 40 + 6;\r\n                  const rx = 6;\r\n                  // bar color reflects status or work-type (original behavior)\r\n                  const color = pickColorForWork(w);\r\n\r\n                  // determine status normalized\r\n                  const statusNorm = ((w as any).status || (w.raw && (w.raw.status || w.raw.doc_status)) || '').toString().toUpperCase().replace(/[-\\s]/g, '_');\r\n                  // progress value: prefer top-level `progress` (0..1) then raw.progress; accept 0..1 or 0..100\r\n                  let progressVal: number | null = null;\r\n                  const pRaw = (w as any).progress ?? w.raw?.progress ?? null;\r\n                  if (typeof pRaw === 'number') {\r\n                    if (pRaw > 1) progressVal = Math.max(0, Math.min(1, pRaw / 100));\r\n                    else progressVal = Math.max(0, Math.min(1, pRaw));\r\n                  }\r\n\r\n                  // helper: determine readable text color for a background hex color\r\n                  function hexToRgb(hex: string) {\r\n                    if (!hex) return null;\r\n                    const h = hex.replace('#','').trim();\r\n                    if (h.length === 3) {\r\n                      const r = parseInt(h[0]+h[0],16);\r\n                      const g = parseInt(h[1]+h[1],16);\r\n                      const b = parseInt(h[2]+h[2],16);\r\n                      return { r, g, b };\r\n                    }\r\n                    if (h.length === 6) {\r\n                      const r = parseInt(h.substring(0,2),16);\r\n                      const g = parseInt(h.substring(2,4),16);\r\n                      const b = parseInt(h.substring(4,6),16);\r\n                      return { r, g, b };\r\n                    }\r\n                    return null;\r\n                  }\r\n                  function isDark(hex: string) {\r\n                    const rgb = hexToRgb(hex) || { r: 0, g: 0, b: 0 };\r\n                    // luminance approximation\r\n                    const lum = 0.299 * rgb.r + 0.587 * rgb.g + 0.114 * rgb.b;\r\n                    return lum < 140;\r\n                  }\r\n\r\n                  // helper: darken a hex color by a fraction (0..1)\r\n                  function darkenHex(hex: string, frac = 0.22) {\r\n                    try {\r\n                      const rgb = hexToRgb(hex);\r\n                      if (!rgb) return hex;\r\n                      const r = Math.max(0, Math.min(255, Math.round(rgb.r * (1 - frac))));\r\n                      const g = Math.max(0, Math.min(255, Math.round(rgb.g * (1 - frac))));\r\n                      const b = Math.max(0, Math.min(255, Math.round(rgb.b * (1 - frac))));\r\n                      const toHex = (n: number) => n.toString(16).padStart(2, '0');\r\n                      return `#${toHex(r)}${toHex(g)}${toHex(b)}`;\r\n                    } catch (e) {\r\n                      return hex;\r\n                    }\r\n                  }\r\n\r\n                  // use a darker variant of the bar color for the progress overlay\r\n                  const progressColor = darkenHex(color, 0.22);\r\n                  const progressTextColorInside = isDark(progressColor) ? '#ffffff' : '#000000';\r\n\r\n                  return (\r\n                    <g key={'bar'+w.id} style={{ cursor:'pointer' }} onClick={() => setSelected(w)}>\r\n                      {/* work-type badge moved to Y-axis labels */}\r\n                      {displayMode !== 'actual' && (\r\n                        <rect x={x1} y={y} rx={rx} ry={rx} width={width} height={rowHeight - 12} fill={color} opacity={0.98} />\r\n                      )}\r\n\r\n                      {/* realized interval (if available) — draw a thinner, semi-transparent overlay */}\r\n                      {realStartMsRaw != null && realEndMsRaw != null && displayMode !== 'planned' && (() => {\r\n                        const rs = Math.max(realStartMsRaw, dayStartMs);\r\n                        const re = Math.min(realEndMsRaw, dayEndMs);\r\n                        if (re <= rs) return null;\r\n                        const rx1 = msToX(rs);\r\n                        const rx2 = msToX(re);\r\n                        const rwidth = clampBarWidth(rx1, rx2);\r\n                        const ry = y + 6; // inset slightly\r\n                        const rheight = Math.max(6, rowHeight - 24);\r\n                        return (\r\n                          <>\r\n                            <rect x={rx1} y={ry} rx={3} ry={3} width={rwidth} height={rheight} fill=\"#0f172a\" opacity={0.12} />\r\n                            <rect x={rx1} y={ry} rx={3} ry={3} width={rwidth} height={rheight} fill=\"none\" stroke=\"#0f172a\" strokeWidth={1} opacity={0.22} />\r\n                          </>\r\n                        );\r\n                      })()}\r\n\r\n                      {/* show realisasi/progress overlay when item is IN_PROGRESS and progress available */}\r\n                      {statusNorm === 'IN_PROGRESS' && progressVal !== null && (\r\n                        <>\r\n                          <rect x={x1} y={y} rx={rx} ry={rx} width={Math.max(minBarWidthPx, width * progressVal)} height={rowHeight - 12} fill={progressColor} opacity={0.72} />\r\n                          {/* percentage label: inside if space, otherwise outside to the right */}\r\n                          {(() => {\r\n                            const progWidth = Math.max(minBarWidthPx, width * progressVal);\r\n                            const pctText = Math.round(progressVal * 100) + '%';\r\n                            if (progWidth > 28) {\r\n                              return <text x={x1 + 6} y={y + (rowHeight - 12) / 2 + 4} fontSize={12} fill={progressTextColorInside} fontWeight={700}>{pctText}</text>;\r\n                            }\r\n                            // outside label\r\n                            return <text x={x2 + 6} y={y + (rowHeight - 12) / 2 + 4} fontSize={12} fill={color} fontWeight={700}>{pctText}</text>;\r\n                          })()}\r\n                        </>\r\n                      )}\r\n                    </g>\r\n                  );\r\n                })}\r\n              </svg>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* modal */}\r\n      {selected && (\r\n        <div style={{\r\n          position:'fixed', left:0, right:0, top:0, bottom:0, background:'rgba(0,0,0,0.36)',\r\n          display:'flex', justifyContent:'center', alignItems:'center', zIndex:9999\r\n        }}>\r\n          <div style={{ background:'#fff', width:720, maxHeight:'80%', overflowY:'auto', borderRadius:8, padding:16 }}>\r\n            <h3 style={{ marginTop:0 }}>{selected.doc_no}</h3>\r\n            <div><strong>Asset:</strong> {selected.asset_name}</div>\r\n            <div><strong>Type:</strong> {selected.work_type}</div>\r\n            <div><strong>Start:</strong> {formatDdMmYyyyHHMM(isoToMs(selected.start_date))}</div>\r\n            <div><strong>End:</strong> {formatDdMmYyyyHHMM(isoToMs(selected.end_date))}</div>\r\n            <div><strong>Actual Start:</strong> {formatDdMmYyyyHHMM(isoToMs(selected.realisasi?.actualStart))}</div>\r\n            <div><strong>Actual End:</strong> {formatDdMmYyyyHHMM(isoToMs(selected.realisasi?.actualEnd))}</div>\r\n            <div style={{ marginTop:12 }}>\r\n              <pre style={{ whiteSpace:'pre-wrap', background:'#f7f7f7', padding:8, borderRadius:6 }}>{selected.description ?? JSON.stringify(selected.raw ?? selected, null, 2)}</pre>\r\n            </div>\r\n            <div style={{ textAlign:'right', marginTop:8 }}>\r\n              <Button variant=\"contained\" size=\"small\" startIcon={<CloseIcon />} onClick={() => setSelected(null)}>Close</Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* small styles for fallback fullscreen */}\r\n      <style jsx>{`\r\n        .gantt-svg-wrapper.gantt-fs-fallback {\r\n          position: fixed !important;\r\n          left: 0; top: 0; right: 0; bottom: 0;\r\n          width: 100vw !important; height: 100vh !important;\r\n          z-index: 99999;\r\n          background: #fff;\r\n          padding: 18px;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction LegendItem({ color, label, showBox = true }: { color: string; label: string; showBox?: boolean }) {\r\n  const textColor = isDarkColor(color) ? '#ffffff' : '#000000';\r\n  return (\r\n    <Box display=\"flex\" alignItems=\"center\" gap={1} sx={{ background: '#fff', padding: '6px 8px', borderRadius: 1, boxShadow: '0 1px 4px rgba(0,0,0,0.03)' }}>\r\n      {showBox && <Box sx={{ width: 14, height: 14, backgroundColor: color, borderRadius: 0.5 }} />}\r\n      <Typography sx={{ fontSize: 13, color: '#333' }}>{label}</Typography>\r\n    </Box>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}
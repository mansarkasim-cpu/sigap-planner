{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project/SigapPlanner/web/app/MuiProviders.jsx"],"sourcesContent":["'use client'\r\nimport { ThemeProvider, createTheme } from '@mui/material/styles'\r\nimport CssBaseline from '@mui/material/CssBaseline'\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: { main: '#7c3aed' },\r\n    secondary: { main: '#6d28d9' },\r\n    background: { default: '#fafafa', paper: '#fff' },\r\n  },\r\n  typography: {\r\n    fontFamily: \"Inter, Roboto, 'Helvetica Neue', Arial\",\r\n  },\r\n  shape: { borderRadius: 12 },\r\n})\r\n\r\nexport default function MuiProviders({ children }){\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <CssBaseline />\r\n      {children}\r\n    </ThemeProvider>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AAAA;AACA;AAFA;;;;AAIA,MAAM,QAAQ,IAAA,0NAAW,EAAC;IACxB,SAAS;QACP,SAAS;YAAE,MAAM;QAAU;QAC3B,WAAW;YAAE,MAAM;QAAU;QAC7B,YAAY;YAAE,SAAS;YAAW,OAAO;QAAO;IAClD;IACA,YAAY;QACV,YAAY;IACd;IACA,OAAO;QAAE,cAAc;IAAG;AAC5B;AAEe,SAAS,aAAa,EAAE,QAAQ,EAAE;IAC/C,qBACE,qPAAC,gOAAa;QAAC,OAAO;;0BACpB,qPAAC,iLAAW;;;;;YACX;;;;;;;AAGP"}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project/SigapPlanner/web/components/RouteGuard.jsx"],"sourcesContent":["\"use client\"\r\nimport { useEffect } from 'react'\r\nimport { usePathname, useRouter } from 'next/navigation'\r\n\r\nexport default function RouteGuard(){\r\n  const pathname = usePathname()\r\n  const router = useRouter()\r\n\r\n  useEffect(()=>{\r\n    if (typeof window === 'undefined') return\r\n    const token = localStorage.getItem('token')\r\n    // allow unauthenticated access to public pages\r\n    const publicPaths = ['/login','/']\r\n    if (publicPaths.some(p => pathname === p)) return\r\n\r\n    // For all other pages, require token\r\n    if (!token) router.push('/login')\r\n  }, [pathname, router])\r\n\r\n  return null\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;AAIe,SAAS;IACtB,MAAM,WAAW,IAAA,wJAAW;IAC5B,MAAM,SAAS,IAAA,sJAAS;IAExB,IAAA,yNAAS,EAAC;QACR,wCAAmC;;;QACnC,MAAM;QACN,+CAA+C;QAC/C,MAAM;IAKR,GAAG;QAAC;QAAU;KAAO;IAErB,OAAO;AACT"}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project/SigapPlanner/web/components/AuthButton.jsx"],"sourcesContent":["'use client';\r\nimport { useEffect, useState } from 'react';\r\nimport Link from 'next/link';\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\n\r\nexport default function AuthButton() {\r\n  const [token, setToken] = useState(null);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const t = localStorage.getItem('token');\r\n      setToken(t);\r\n    } catch (e) {\r\n      setToken(null);\r\n    }\r\n  }, []);\r\n\r\n  function logout() {\r\n    try { localStorage.removeItem('token'); } catch (e) {}\r\n    try { localStorage.removeItem('sigap_user'); } catch (e) {}\r\n    try { localStorage.removeItem('sigap_role'); } catch (e) {}\r\n    try { document.cookie = 'token=; Path=/; Max-Age=0' } catch (e) {}\r\n    try { document.cookie = 'sigap_user=; Path=/; Max-Age=0' } catch (e) {}\r\n    try { document.cookie = 'sigap_role=; Path=/; Max-Age=0' } catch (e) {}\r\n    // force reload so client components re-evaluate auth state\r\n    if (typeof window !== 'undefined') window.location.reload();\r\n  }\r\n\r\n  if (token) {\r\n    return (\r\n      <button onClick={logout} title=\"Logout\" aria-label=\"Logout\" style={{ background: 'transparent', border: 'none', cursor: 'pointer', padding: 0 }} className=\"nav-link\">\r\n        <LogoutIcon style={{ fontSize: 18 }} />\r\n      </button>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Link href=\"/login\" className=\"nav-link\">Login</Link>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,wNAAQ,EAAC;IAEnC,IAAA,yNAAS,EAAC;QACR,IAAI;YACF,MAAM,IAAI,aAAa,OAAO,CAAC;YAC/B,SAAS;QACX,EAAE,OAAO,GAAG;YACV,SAAS;QACX;IACF,GAAG,EAAE;IAEL,SAAS;QACP,IAAI;YAAE,aAAa,UAAU,CAAC;QAAU,EAAE,OAAO,GAAG,CAAC;QACrD,IAAI;YAAE,aAAa,UAAU,CAAC;QAAe,EAAE,OAAO,GAAG,CAAC;QAC1D,IAAI;YAAE,aAAa,UAAU,CAAC;QAAe,EAAE,OAAO,GAAG,CAAC;QAC1D,IAAI;YAAE,SAAS,MAAM,GAAG;QAA4B,EAAE,OAAO,GAAG,CAAC;QACjE,IAAI;YAAE,SAAS,MAAM,GAAG;QAAiC,EAAE,OAAO,GAAG,CAAC;QACtE,IAAI;YAAE,SAAS,MAAM,GAAG;QAAiC,EAAE,OAAO,GAAG,CAAC;QACtE,2DAA2D;QAC3D;;IACF;IAEA,IAAI,OAAO;QACT,qBACE,qPAAC;YAAO,SAAS;YAAQ,OAAM;YAAS,cAAW;YAAS,OAAO;gBAAE,YAAY;gBAAe,QAAQ;gBAAQ,QAAQ;gBAAW,SAAS;YAAE;YAAG,WAAU;sBACzJ,cAAA,qPAAC,sKAAU;gBAAC,OAAO;oBAAE,UAAU;gBAAG;;;;;;;;;;;IAGxC;IAEA,qBACE,qPAAC,8KAAI;QAAC,MAAK;QAAS,WAAU;kBAAW;;;;;;AAE7C"}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project/SigapPlanner/web/components/Nav.jsx"],"sourcesContent":["\"use client\"\r\nimport Link from 'next/link'\r\nimport { usePathname } from 'next/navigation'\r\nimport AuthButton from './AuthButton'\r\nimport { useEffect, useState } from 'react'\r\n\r\nfunction isAdminRole(raw) {\r\n  if (!raw) return false\r\n  try {\r\n    if (typeof raw === 'string') {\r\n      // maybe a JSON string\r\n      if (raw.startsWith('[') || raw.startsWith('{')) {\r\n        const parsed = JSON.parse(raw)\r\n        if (Array.isArray(parsed)) return parsed.map(String).some(r => r.toLowerCase() === 'admin')\r\n        if (typeof parsed === 'string') return parsed.toLowerCase() === 'admin'\r\n        if (parsed && parsed.role) return String(parsed.role).toLowerCase() === 'admin'\r\n      }\r\n      return raw.toLowerCase() === 'admin'\r\n    }\r\n    if (Array.isArray(raw)) return raw.map(String).some(r => r.toLowerCase() === 'admin')\r\n    if (typeof raw === 'object') {\r\n      if (raw.role) return String(raw.role).toLowerCase() === 'admin'\r\n    }\r\n  } catch (e) {}\r\n  return false\r\n}\r\n\r\nexport default function Nav(){\r\n  const pathname = usePathname()\r\n  const [isAdmin, setIsAdmin] = useState(false)\r\n\r\n  useEffect(()=>{\r\n    try{\r\n      const raw = localStorage.getItem('sigap_role')\r\n      setIsAdmin(isAdminRole(raw))\r\n    }catch(e){ setIsAdmin(false) }\r\n  }, [])\r\n\r\n  // hide nav on login page\r\n  if (typeof pathname === 'string' && pathname === '/login') return null\r\n\r\n  return (\r\n    <nav className=\"nav\">\r\n      <ul className=\"nav-menu\">\r\n        <li className=\"nav-item\"><Link href=\"/dashboard\" className=\"nav-link\">Dashboard</Link></li>\r\n\r\n        {isAdmin && (\r\n          <li className=\"nav-item has-sub\">\r\n            <span className=\"nav-link\">Master</span>\r\n            <ul className=\"sub-menu\">\r\n              <li><Link href=\"/users\" className=\"nav-link\">Users</Link></li>\r\n            </ul>\r\n          </li>\r\n        )}\r\n\r\n        <li className=\"nav-item has-sub\">\r\n          <span className=\"nav-link\">Konfigurasi</span>\r\n          <ul className=\"sub-menu\">\r\n            <li><Link href=\"/shifts\" className=\"nav-link\">Shift</Link></li>\r\n          </ul>\r\n        </li>\r\n\r\n        <li className=\"nav-item has-sub\">\r\n          <span className=\"nav-link\">Work Order</span>\r\n          <ul className=\"sub-menu\">\r\n            <li><Link href=\"/work-orders\" className=\"nav-link\">List</Link></li>\r\n            <li><Link href=\"/gantt\" className=\"nav-link\">Gantt Chart</Link></li>\r\n          </ul>\r\n        </li>\r\n\r\n        <li className=\"nav-item auth-item\"><AuthButton /></li>\r\n      </ul>\r\n    </nav>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAJA;;;;;;AAMA,SAAS,YAAY,GAAG;IACtB,IAAI,CAAC,KAAK,OAAO;IACjB,IAAI;QACF,IAAI,OAAO,QAAQ,UAAU;YAC3B,sBAAsB;YACtB,IAAI,IAAI,UAAU,CAAC,QAAQ,IAAI,UAAU,CAAC,MAAM;gBAC9C,MAAM,SAAS,KAAK,KAAK,CAAC;gBAC1B,IAAI,MAAM,OAAO,CAAC,SAAS,OAAO,OAAO,GAAG,CAAC,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,WAAW,OAAO;gBACnF,IAAI,OAAO,WAAW,UAAU,OAAO,OAAO,WAAW,OAAO;gBAChE,IAAI,UAAU,OAAO,IAAI,EAAE,OAAO,OAAO,OAAO,IAAI,EAAE,WAAW,OAAO;YAC1E;YACA,OAAO,IAAI,WAAW,OAAO;QAC/B;QACA,IAAI,MAAM,OAAO,CAAC,MAAM,OAAO,IAAI,GAAG,CAAC,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,WAAW,OAAO;QAC7E,IAAI,OAAO,QAAQ,UAAU;YAC3B,IAAI,IAAI,IAAI,EAAE,OAAO,OAAO,IAAI,IAAI,EAAE,WAAW,OAAO;QAC1D;IACF,EAAE,OAAO,GAAG,CAAC;IACb,OAAO;AACT;AAEe,SAAS;IACtB,MAAM,WAAW,IAAA,wJAAW;IAC5B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wNAAQ,EAAC;IAEvC,IAAA,yNAAS,EAAC;QACR,IAAG;YACD,MAAM,MAAM,aAAa,OAAO,CAAC;YACjC,WAAW,YAAY;QACzB,EAAC,OAAM,GAAE;YAAE,WAAW;QAAO;IAC/B,GAAG,EAAE;IAEL,yBAAyB;IACzB,IAAI,OAAO,aAAa,YAAY,aAAa,UAAU,OAAO;IAElE,qBACE,qPAAC;QAAI,WAAU;kBACb,cAAA,qPAAC;YAAG,WAAU;;8BACZ,qPAAC;oBAAG,WAAU;8BAAW,cAAA,qPAAC,8KAAI;wBAAC,MAAK;wBAAa,WAAU;kCAAW;;;;;;;;;;;gBAErE,yBACC,qPAAC;oBAAG,WAAU;;sCACZ,qPAAC;4BAAK,WAAU;sCAAW;;;;;;sCAC3B,qPAAC;4BAAG,WAAU;sCACZ,cAAA,qPAAC;0CAAG,cAAA,qPAAC,8KAAI;oCAAC,MAAK;oCAAS,WAAU;8CAAW;;;;;;;;;;;;;;;;;;;;;;8BAKnD,qPAAC;oBAAG,WAAU;;sCACZ,qPAAC;4BAAK,WAAU;sCAAW;;;;;;sCAC3B,qPAAC;4BAAG,WAAU;sCACZ,cAAA,qPAAC;0CAAG,cAAA,qPAAC,8KAAI;oCAAC,MAAK;oCAAU,WAAU;8CAAW;;;;;;;;;;;;;;;;;;;;;;8BAIlD,qPAAC;oBAAG,WAAU;;sCACZ,qPAAC;4BAAK,WAAU;sCAAW;;;;;;sCAC3B,qPAAC;4BAAG,WAAU;;8CACZ,qPAAC;8CAAG,cAAA,qPAAC,8KAAI;wCAAC,MAAK;wCAAe,WAAU;kDAAW;;;;;;;;;;;8CACnD,qPAAC;8CAAG,cAAA,qPAAC,8KAAI;wCAAC,MAAK;wCAAS,WAAU;kDAAW;;;;;;;;;;;;;;;;;;;;;;;8BAIjD,qPAAC;oBAAG,WAAU;8BAAqB,cAAA,qPAAC,2IAAU;;;;;;;;;;;;;;;;;;;;;AAItD"}}]
}
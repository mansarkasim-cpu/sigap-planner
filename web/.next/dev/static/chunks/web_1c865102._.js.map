{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project/SigapPlanner/web/components/ShiftManager.jsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport apiClient from '../lib/api-client';\r\nimport { Button, TextField, MenuItem, Paper, IconButton, Chip, Box, Typography, Checkbox } from '@mui/material';\r\nconst SHIFT_DEFS = [\r\n  { id: 1, label: 'Shift 1', time: '07:00 - 15:00' },\r\n  { id: 2, label: 'Shift 2', time: '15:00 - 23:00' },\r\n  { id: 3, label: 'Shift 3', time: '23:00 - 07:00' },\r\n];\r\n\r\nfunction Badge({ children, color = '#2563eb' }) {\r\n  return <Chip label={children} sx={{ backgroundColor: color, color: '#fff', fontWeight: 700 }} size=\"small\" />;\r\n}\r\n\r\nexport default function ShiftManager() {\r\n  const [sites, setSites] = useState([]);\r\n  const [site, setSite] = useState('');\r\n  const [users, setUsers] = useState([]);\r\n  const [groups, setGroups] = useState([]);\r\n  const [assignments, setAssignments] = useState([]);\r\n\r\n  const [groupName, setGroupName] = useState('');\r\n  const [selectedUsers, setSelectedUsers] = useState(new Set());\r\n  const [techQuery, setTechQuery] = useState('');\r\n  const [groupLeader, setGroupLeader] = useState('');\r\n\r\n  const [selectedDate, setSelectedDate] = useState(new Date().toISOString().slice(0,10));\r\n  const [selectedGroupToAssign, setSelectedGroupToAssign] = useState('');\r\n  const [selectedShift, setSelectedShift] = useState(1);\r\n\r\n  // load sites (deriving from users' vendor_cabang) and users for selected site\r\n  useEffect(() => { loadSites(); }, []);\r\n\r\n  // reload groups whenever selected site changes\r\n  useEffect(() => {\r\n    loadGroups();\r\n  }, [site]);\r\n\r\n  async function loadSites() {\r\n    try {\r\n      const res = await apiClient('/users?page=1&pageSize=1000');\r\n      const rows = (res?.data ?? res) || [];\r\n      // users may store site in different fields depending on source: prefer `site`, fall back to `vendor_cabang`\r\n      const uniqueSites = Array.from(new Set(rows.map(r => r.site || r.vendor_cabang || ''))).filter(Boolean);\r\n      setSites(uniqueSites);\r\n      if (!site && uniqueSites[0]) setSite(uniqueSites[0]);\r\n    } catch (err) {\r\n      console.error('load sites', err);\r\n    }\r\n  }\r\n\r\n  useEffect(() => { if (site) loadUsers(site); }, [site]);\r\n\r\n  async function loadUsers(siteFilter) {\r\n    try {\r\n      const res = await apiClient(`/users?page=1&pageSize=1000&site=${encodeURIComponent(siteFilter)}`);\r\n      const rows = (res?.data ?? res) || [];\r\n      // only technicians are selectable\r\n      setUsers(rows.filter(u => (u.role || '').toLowerCase() === 'technician'));\r\n    } catch (err) { console.error('load users', err); }\r\n  }\r\n\r\n  async function loadGroups() {\r\n    try {\r\n      const url = site ? `/shift-groups?site=${encodeURIComponent(site)}` : '/shift-groups';\r\n      const res = await apiClient(url);\r\n      const rows = (res?.data ?? res) || [];\r\n      setGroups(rows);\r\n    } catch (err) { console.error('load groups', err); }\r\n  }\r\n\r\n  async function loadAssignments() {\r\n    try {\r\n      let url;\r\n      // For calendar view, fetch all assignments (optionally filtered by site) so we can show shifts for every day\r\n      if (viewMode === 'calendar') {\r\n        url = site ? `/shift-assignments?site=${encodeURIComponent(site)}` : '/shift-assignments';\r\n      } else {\r\n        url = `/shift-assignments?date=${selectedDate}` + (site ? `&site=${encodeURIComponent(site)}` : '');\r\n      }\r\n      const res = await apiClient(url);\r\n      const rows = (res?.data ?? res) || [];\r\n      setAssignments(rows);\r\n    } catch (err) { console.error('load assignments', err); setAssignments([]); }\r\n  }\r\n\r\n  useEffect(() => { loadAssignments(); }, [selectedDate, site]);\r\n\r\n  function toggleUserSelection(id) {\r\n    const s = new Set(selectedUsers);\r\n    if (s.has(id)) s.delete(id); else s.add(id);\r\n    setSelectedUsers(s);\r\n  }\r\n\r\n  async function createGroup() {\r\n    if (!groupName || selectedUsers.size === 0) return alert('Please enter a group name and choose at least one technician');\r\n    if (groupLeader && !selectedUsers.has(groupLeader)) return alert('Leader must be one of the selected members');\r\n    const payload = { name: groupName, members: Array.from(selectedUsers), site, leader: groupLeader || null };\r\n    try {\r\n      await apiClient('/shift-groups', { method: 'POST', body: payload });\r\n      setGroupName('');\r\n      setGroupLeader('');\r\n      setSelectedUsers(new Set());\r\n      await loadGroups();\r\n      alert('Group created');\r\n    } catch (err) { console.error('create group', err); alert('Failed to create group'); }\r\n  }\r\n\r\n  async function assignGroup() {\r\n    if (!selectedGroupToAssign) return alert('Select a group to assign');\r\n    const payload = { date: selectedDate, shift: selectedShift, groupId: selectedGroupToAssign, site };\r\n    try {\r\n      await apiClient('/shift-assignments', { method: 'POST', body: payload });\r\n      await loadAssignments();\r\n      alert('Assigned');\r\n    } catch (err) { console.error('assign', err); alert('Failed to assign'); }\r\n  }\r\n\r\n  // Edit group UI state\r\n  const [editGroupId, setEditGroupId] = useState('');\r\n  const [editGroupName, setEditGroupName] = useState('');\r\n  const [editGroupSelectedUsers, setEditGroupSelectedUsers] = useState(new Set());\r\n  const [editGroupLeader, setEditGroupLeader] = useState('');\r\n\r\n  function startEditGroup(g) {\r\n    setEditGroupId(g.id);\r\n    setEditGroupName(g.name || '');\r\n    setEditGroupSelectedUsers(new Set(g.members || []));\r\n    setEditGroupLeader(g.leader || '');\r\n  }\r\n\r\n  function toggleEditUserSelection(id) {\r\n    const s = new Set(editGroupSelectedUsers);\r\n    if (s.has(id)) s.delete(id); else s.add(id);\r\n    setEditGroupSelectedUsers(s);\r\n  }\r\n\r\n  function cancelEditGroup() {\r\n    setEditGroupId('');\r\n    setEditGroupName('');\r\n    setEditGroupSelectedUsers(new Set());\r\n    setEditGroupLeader('');\r\n  }\r\n\r\n  async function saveEditGroup() {\r\n    if (!editGroupId) return;\r\n    try {\r\n      if (editGroupLeader && !editGroupSelectedUsers.has(editGroupLeader)) return alert('Leader must be one of the selected members');\r\n      const payload = { name: editGroupName, members: Array.from(editGroupSelectedUsers), site, leader: editGroupLeader || null };\r\n      await apiClient(`/shift-groups/${editGroupId}`, { method: 'PUT', body: payload });\r\n      await loadGroups();\r\n      await loadAssignments();\r\n      cancelEditGroup();\r\n      alert('Group updated');\r\n    } catch (err) { console.error('save edit group', err); alert('Failed to update group'); }\r\n  }\r\n\r\n  const groupsById = useMemo(() => {\r\n    const m = {};\r\n    groups.forEach(g => m[g.id] = g);\r\n    return m;\r\n  }, [groups]);\r\n\r\n  const usersById = useMemo(() => {\r\n    const m = {};\r\n    users.forEach(u => { m[u.id] = u; });\r\n    return m;\r\n  }, [users]);\r\n\r\n  const assignmentMap = useMemo(() => {\r\n    const m = {};\r\n    assignments.forEach(a => {\r\n      const key = a.shift;\r\n      if (!m[key]) m[key] = [];\r\n      m[key].push(a);\r\n    });\r\n    return m;\r\n  }, [assignments]);\r\n\r\n  // assignments grouped by date for calendar view\r\n  const assignmentsByDate = useMemo(() => {\r\n    const m = {};\r\n    assignments.forEach(a => {\r\n      if (!a || !a.date) return;\r\n      if (!m[a.date]) m[a.date] = [];\r\n      m[a.date].push(a);\r\n    });\r\n    return m;\r\n  }, [assignments]);\r\n\r\n  // view mode: 'schedule' (list per shift) or 'calendar' (month view)\r\n  const [viewMode, setViewMode] = useState('schedule');\r\n\r\n  // calendar month state (based on selectedDate)\r\n  const [calendarMonth, setCalendarMonth] = useState(() => {\r\n    const d = new Date(selectedDate);\r\n    return new Date(d.getFullYear(), d.getMonth(), 1);\r\n  });\r\n\r\n  useEffect(() => {\r\n    const d = new Date(selectedDate);\r\n    setCalendarMonth(new Date(d.getFullYear(), d.getMonth(), 1));\r\n  }, [selectedDate]);\r\n\r\n  function prevMonth() {\r\n    setCalendarMonth(m => new Date(m.getFullYear(), m.getMonth() - 1, 1));\r\n  }\r\n\r\n  function nextMonth() {\r\n    setCalendarMonth(m => new Date(m.getFullYear(), m.getMonth() + 1, 1));\r\n  }\r\n\r\n  function buildMonthDays(monthStart) {\r\n    const startDay = new Date(monthStart);\r\n    const firstDow = startDay.getDay(); // 0=Sun..6=Sat\r\n    // normalize to Monday-first if desired; keep Sunday-first here\r\n    const days = [];\r\n    // Backfill previous month days\r\n    for (let i = 0; i < firstDow; i++) {\r\n      const dt = new Date(startDay.getFullYear(), startDay.getMonth(), i - firstDow + 1);\r\n      days.push({ date: dt, inMonth: false });\r\n    }\r\n    // current month\r\n    const month = startDay.getMonth();\r\n    for (let d = 1; d <= 31; d++) {\r\n      const dt = new Date(startDay.getFullYear(), month, d);\r\n      if (dt.getMonth() !== month) break;\r\n      days.push({ date: dt, inMonth: true });\r\n    }\r\n    // fill to complete weeks (multiple of 7)\r\n    while (days.length % 7 !== 0) {\r\n      const last = days[days.length - 1].date;\r\n      const dt = new Date(last.getFullYear(), last.getMonth(), last.getDate() + 1);\r\n      days.push({ date: dt, inMonth: false });\r\n    }\r\n    return days;\r\n  }\r\n\r\n  const monthDays = useMemo(() => buildMonthDays(calendarMonth), [calendarMonth]);\r\n\r\n  // When calendar view or calendarMonth changes, reload assignments for the month view\r\n  useEffect(() => {\r\n    if (viewMode === 'calendar') {\r\n      loadAssignments();\r\n    }\r\n    // also reload when site changes\r\n  }, [viewMode, calendarMonth, site]);\r\n\r\n  // When user returns to Schedule view, ensure assignments are loaded only for the selected date\r\n  useEffect(() => {\r\n    if (viewMode === 'schedule') {\r\n      loadAssignments();\r\n    }\r\n  }, [viewMode]);\r\n\r\n  return (\r\n    <Box sx={{ position: 'relative', display: 'flex', gap: 3, p: 1 }}>\r\n      <Box sx={{ position: 'absolute', top: 16, right: 16, width: 440, zIndex: 20 }}>\r\n        \r\n      </Box>\r\n      <Box sx={{ width: 420 }}>\r\n        <Box sx={{ mb: 1 }}>\r\n          <Typography variant=\"subtitle2\" sx={{ mb: 0.5 }}>Site</Typography>\r\n          {sites.length === 0 ? (\r\n            <Paper sx={{ p: 2, border: '1px dashed', borderColor: 'divider', borderRadius: 1, color: 'text.secondary' }}>Tidak ada site terdaftar. Pastikan pengguna memiliki field `site` pada profil mereka.</Paper>\r\n          ) : (\r\n            <TextField select value={site} onChange={e => setSite(e.target.value)} fullWidth size=\"small\">\r\n              <MenuItem value=\"\">-- pilih site --</MenuItem>\r\n              {sites.map(s => <MenuItem key={s} value={s}>{s}</MenuItem>)}\r\n            </TextField>\r\n          )}\r\n        </Box>\r\n\r\n        <Paper sx={{ p: 2, borderRadius: 2, mb: 2 }}>\r\n          <Typography variant=\"h6\" sx={{ mb: 1 }}>Create Group</Typography>\r\n          <TextField placeholder=\"Group name\" value={groupName} onChange={e => setGroupName(e.target.value)} fullWidth size=\"small\" sx={{ mb: 1 }} />\r\n\r\n          <Box sx={{ maxHeight: 260, overflow: 'auto', border: 1, borderColor: 'divider', p: 1, borderRadius: 1 }}>\r\n            {users.length === 0 && <Typography color=\"text.secondary\">No technicians for this site</Typography>}\r\n            <TextField placeholder=\"Cari teknisi (nama atau NIPP)\" value={techQuery} onChange={e => setTechQuery(e.target.value)} fullWidth size=\"small\" sx={{ mb: 1 }} />\r\n            {users.filter(u => {\r\n              if (!techQuery) return true;\r\n              const q = techQuery.toLowerCase();\r\n              return (u.name || '').toLowerCase().includes(q) || String(u.nipp || '').includes(q);\r\n            }).map(u => (\r\n              <Box key={u.id} sx={{ display: 'flex', gap: 1, alignItems: 'center', p: '6px 4px' }}>\r\n                <Checkbox size=\"small\" checked={selectedUsers.has(u.id)} onChange={() => toggleUserSelection(u.id)} />\r\n                <Box>\r\n                  <Typography sx={{ fontWeight: 700 }}>{u.name || u.nipp || u.email}</Typography>\r\n                  <Typography variant=\"caption\" color=\"text.secondary\">{u.nipp} • {u.role}</Typography>\r\n                </Box>\r\n              </Box>\r\n            ))}\r\n          </Box>\r\n\r\n          <Box sx={{ mt: 1 }}>\r\n            <Typography variant=\"caption\" sx={{ display: 'block', mb: 0.5 }}>Leader (optional)</Typography>\r\n            <TextField select value={groupLeader} onChange={e => setGroupLeader(e.target.value)} fullWidth size=\"small\" disabled={selectedUsers.size === 0} sx={{ mb: 1 }}>\r\n              <MenuItem value=\"\">-- pilih leader (opsional) --</MenuItem>\r\n              {Array.from(selectedUsers).map(id => {\r\n                const u = usersById[id];\r\n                return <MenuItem key={id} value={id}>{u ? (u.name || u.nipp || id) : id}</MenuItem>;\r\n              })}\r\n            </TextField>\r\n            <Box sx={{ textAlign: 'right' }}>\r\n              <Button variant=\"contained\" size=\"small\" onClick={createGroup}>Create</Button>\r\n            </Box>\r\n          </Box>\r\n        </Paper>\r\n\r\n        <Paper sx={{ p: 2, borderRadius: 2, mb: 2 }}>\r\n          <Typography variant=\"h6\">Existing Groups</Typography>\r\n          {groups.length === 0 ? (\r\n            <Typography color=\"text.secondary\">No groups created yet.</Typography>\r\n          ) : (\r\n            <Box sx={{ display: 'grid', gap: 1 }}>\r\n              {groups.map(g => (\r\n                <Paper key={g.id} sx={{ p: 1, borderRadius: 1 }}>\r\n                  {editGroupId === g.id ? (\r\n                    <Box>\r\n                      <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n                        <TextField value={editGroupName} onChange={e => setEditGroupName(e.target.value)} sx={{ flex: 1, mr: 1 }} size=\"small\" />\r\n                        <Typography color=\"text.secondary\" variant=\"caption\">{g.site || ''} • {g.members?.length || 0} members</Typography>\r\n                      </Box>\r\n                      <Box sx={{ mt: 1, maxHeight: 180, overflow: 'auto', border: 1, borderColor: 'divider', p: 1, borderRadius: 1 }}>\r\n                        {users.filter(u => (u.role || '').toLowerCase() === 'technician').map(u => (\r\n                          <Box key={u.id} sx={{ display: 'flex', gap: 1, alignItems: 'center', py: 0.5 }}>\r\n                            <Checkbox size=\"small\" checked={editGroupSelectedUsers.has(u.id)} onChange={() => toggleEditUserSelection(u.id)} />\r\n                            <Box>\r\n                              <Typography sx={{ fontWeight: 700 }}>{u.name || u.nipp || u.email}</Typography>\r\n                              <Typography variant=\"caption\" color=\"text.secondary\">{u.nipp}</Typography>\r\n                            </Box>\r\n                          </Box>\r\n                        ))}\r\n                      </Box>\r\n                      <Box sx={{ mt: 1 }}>\r\n                        <Typography variant=\"caption\" sx={{ display: 'block', mb: 0.5 }}>Leader (optional)</Typography>\r\n                        <TextField select value={editGroupLeader} onChange={e => setEditGroupLeader(e.target.value)} fullWidth size=\"small\" disabled={editGroupSelectedUsers.size === 0} sx={{ mb: 1 }}>\r\n                          <MenuItem value=\"\">-- pilih leader (opsional) --</MenuItem>\r\n                          {Array.from(editGroupSelectedUsers).map(id => {\r\n                            const u = usersById[id];\r\n                            return <MenuItem key={id} value={id}>{u ? (u.name || u.nipp || id) : id}</MenuItem>;\r\n                          })}\r\n                        </TextField>\r\n                        <Box sx={{ textAlign: 'right' }}>\r\n                          <Button variant=\"contained\" size=\"small\" onClick={saveEditGroup} sx={{ mr: 1 }}>Save</Button>\r\n                          <Button variant=\"outlined\" size=\"small\" onClick={cancelEditGroup}>Cancel</Button>\r\n                        </Box>\r\n                      </Box>\r\n                    </Box>\r\n                  ) : (\r\n                    <Box>\r\n                      <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n                        <Typography sx={{ fontWeight: 700 }}>{g.name}</Typography>\r\n                        <Typography color=\"text.secondary\" variant=\"caption\">{g.site || ''} • {g.members?.length || 0} members</Typography>\r\n                      </Box>\r\n                      <Box sx={{ mt: 1 }}>\r\n                        {(g.members || []).map(id => (\r\n                          <Typography key={id} sx={{ fontSize: 13 }}>{usersById[id]?.name || usersById[id]?.nipp || id}</Typography>\r\n                        ))}\r\n                        {g.leader ? (\r\n                          <Typography sx={{ mt: 0.5 }}><strong>Leader:</strong> {usersById[g.leader]?.name || usersById[g.leader]?.nipp || g.leader}</Typography>\r\n                        ) : null}\r\n                      </Box>\r\n                      <Box sx={{ mt: 1, textAlign: 'right' }}>\r\n                        <Button variant=\"outlined\" size=\"small\" onClick={() => startEditGroup(g)} sx={{ mr: 1 }}>Edit</Button>\r\n                        <Button variant=\"contained\" size=\"small\" color=\"error\" onClick={async () => {\r\n                          if (!confirm(`Hapus grup \"${g.name}\"? Ini juga akan menghapus penugasan shift yang terkait.`)) return;\r\n                          try {\r\n                            await apiClient(`/shift-groups/${g.id}`, { method: 'DELETE' });\r\n                            await loadGroups();\r\n                            await loadAssignments();\r\n                            alert('Group deleted');\r\n                          } catch (err) {\r\n                            console.error('delete group', err); alert('Failed to delete group');\r\n                          }\r\n                        }}>Delete</Button>\r\n                      </Box>\r\n                    </Box>\r\n                  )}\r\n                </Paper>\r\n              ))}\r\n            </Box>\r\n          )}\r\n        </Paper>\r\n\r\n        <Paper sx={{ p: 2, borderRadius: 2, background: 'background.paper' }}>\r\n          <Typography variant=\"h6\" sx={{ mb: 1 }}>Assign Group to Shift</Typography>\r\n          <Box sx={{ display: 'flex', gap: 1, mb: 1 }}>\r\n            <TextField type=\"date\" value={selectedDate} onChange={e => setSelectedDate(e.target.value)} size=\"small\" />\r\n            <TextField select value={selectedShift} onChange={e => setSelectedShift(Number(e.target.value))} size=\"small\">\r\n              {SHIFT_DEFS.map(s => <MenuItem key={s.id} value={s.id}>{s.label} — {s.time}</MenuItem>)}\r\n            </TextField>\r\n          </Box>\r\n\r\n          <TextField select value={selectedGroupToAssign} onChange={e => setSelectedGroupToAssign(e.target.value)} fullWidth size=\"small\" sx={{ mb: 1 }}>\r\n            <MenuItem value=\"\">-- pilih grup --</MenuItem>\r\n            {groups.map(g => <MenuItem key={g.id} value={g.id}>{g.name} ({g.members?.length || 0})</MenuItem>)}\r\n          </TextField>\r\n          <Box sx={{ textAlign: 'right' }}>\r\n            <Button variant=\"contained\" size=\"small\" onClick={assignGroup}>Assign</Button>\r\n          </Box>\r\n        </Paper>\r\n      </Box>\r\n\r\n      <Box sx={{ flex: 1 }}>\r\n        <Box sx={{ mb: 1.5, display: 'flex', gap: 1.5, alignItems: 'center' }}>\r\n          <Typography variant=\"h6\" sx={{ m: 0 }}>{viewMode === 'calendar' ? 'Calendar' : `Schedule — ${selectedDate}`}</Typography>\r\n          <Box sx={{ ml: 1.5, display: 'flex', gap: 1 }}>\r\n            <Button variant={viewMode === 'schedule' ? 'contained' : 'outlined'} size=\"small\" onClick={() => setViewMode('schedule')}>Schedule</Button>\r\n            <Button variant={viewMode === 'calendar' ? 'contained' : 'outlined'} size=\"small\" onClick={() => setViewMode('calendar')}>Calendar</Button>\r\n          </Box>\r\n          <Box sx={{ ml: 'auto', display: 'flex', alignItems: 'center', gap: 1 }}>\r\n            {viewMode === 'calendar' ? (\r\n              <>\r\n                <IconButton size=\"small\" onClick={prevMonth}>◀</IconButton>\r\n                <Typography sx={{ minWidth: 200, textAlign: 'center', fontWeight: 700 }}>{calendarMonth.toLocaleString(undefined, { month: 'long', year: 'numeric' })}</Typography>\r\n                <IconButton size=\"small\" onClick={nextMonth}>▶</IconButton>\r\n              </>\r\n            ) : (\r\n              <TextField type=\"date\" value={selectedDate} onChange={e => setSelectedDate(e.target.value)} size=\"small\" />\r\n            )}\r\n          </Box>\r\n        </Box>\r\n        {viewMode === 'calendar' ? (\r\n          <Box sx={{ display: 'grid', gap: 1 }}>\r\n            <Box sx={{ display: 'grid', gridTemplateColumns: 'repeat(7, 1fr)', gap: 0.5, mb: 0.5, textAlign: 'center', color: 'text.secondary' }}>\r\n              {['Sun','Mon','Tue','Wed','Thu','Fri','Sat'].map(d => <Box key={d} sx={{ fontWeight: 700 }}>{d}</Box>)}\r\n            </Box>\r\n            <Box sx={{ display: 'grid', gridTemplateColumns: 'repeat(7, 1fr)', gap: 1 }}>\r\n              {monthDays.map(({ date, inMonth }) => {\r\n                const pad = (n) => String(n).padStart(2, '0');\r\n                const dStr = `${date.getFullYear()}-${pad(date.getMonth() + 1)}-${pad(date.getDate())}`;\r\n                const dayAssigns = assignmentsByDate[dStr] || [];\r\n                return (\r\n                  <Paper key={dStr} onClick={() => { setSelectedDate(dStr); setViewMode('schedule'); }} sx={{ minHeight: 120, p: 1, borderRadius: 1, backgroundColor: inMonth ? 'background.paper' : 'background.default', cursor: 'pointer' }}>\r\n                    <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                      <Typography sx={{ fontWeight: 700 }}>{date.getDate()}</Typography>\r\n                      <Typography variant=\"caption\" color=\"text.secondary\">{dStr === (new Date().toISOString().slice(0,10)) ? 'Today' : ''}</Typography>\r\n                    </Box>\r\n                    <Box sx={{ mt: 1, display: 'flex', flexDirection: 'column', gap: 0.5 }}>\r\n                      {SHIFT_DEFS.map(s => {\r\n                        const sAssigns = dayAssigns.filter(a => Number(a.shift) === s.id);\r\n                        return sAssigns.length === 0 ? null : (\r\n                          <Box key={s.id}>\r\n                            <Typography sx={{ fontSize: 12, color: 'text.primary', fontWeight: 600 }}>{s.label}</Typography>\r\n                            {sAssigns.map(sa => {\r\n                              const group = groupsById[sa.groupId];\r\n                              return (<Box key={sa.id} sx={{ mt: 0.5 }}><Badge color=\"#2563eb\">{group ? group.name : `Group ${sa.groupId}`}</Badge></Box>);\r\n                            })}\r\n                          </Box>\r\n                        );\r\n                      })}\r\n                    </Box>\r\n                  </Paper>\r\n                );\r\n              })}\r\n            </Box>\r\n          </Box>\r\n        ) : (\r\n          <Box sx={{ display: 'grid', gap: 1 }}>\r\n          {SHIFT_DEFS.map(s => {\r\n            const assigns = assignmentMap[s.id] || [];\r\n            return (\r\n              <Paper key={s.id} sx={{ p: 1, borderRadius: 1, display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n                <Box>\r\n                  <Typography sx={{ fontWeight: 800 }}>{s.label} <Box component=\"span\" sx={{ fontWeight: 400, color: 'text.secondary', ml: 1 }}>{s.time}</Box></Typography>\r\n                  {assigns.length > 0 ? (\r\n                    <Box sx={{ mt: 1 }}>\r\n                      {assigns.map(ass => {\r\n                        const group = groupsById[ass.groupId];\r\n                        return (\r\n                          <Box key={ass.id} sx={{ mt: 1 }}>\r\n                            <Badge color=\"#2563eb\">{group ? group.name : `Group ${ass.groupId}`}</Badge>\r\n                            <Box sx={{ mt: 0.5, color: 'text.primary' }}>\r\n                              {(group?.members || []).slice(0,5).map(id => {\r\n                                const u = usersById[id] || { name: id };\r\n                                return <Typography key={id} sx={{ fontSize: 13 }}>{u.name || u.nipp || id}</Typography>;\r\n                              })}\r\n                              {group?.members && group.members.length > 5 && <Typography sx={{ fontSize: 12, color: 'text.secondary' }}>+{group.members.length - 5} more</Typography>}\r\n                            </Box>\r\n                          </Box>\r\n                        );\r\n                      })}\r\n                    </Box>\r\n                  ) : (\r\n                    <Typography sx={{ mt: 1, color: 'text.secondary' }}>Not assigned</Typography>\r\n                  )}\r\n                </Box>\r\n\r\n                <Box sx={{ textAlign: 'right' }}>\r\n                  {assigns.map(ass => (\r\n                    <Box key={ass.id} sx={{ mb: 1 }}>\r\n                      <Typography sx={{ fontSize: 13, color: 'text.secondary' }}>{`assigned by ${ass.created_by || '—'}`}</Typography>\r\n                      <Box sx={{ mt: 1 }}>\r\n                        <Button variant=\"outlined\" size=\"small\" color=\"error\" onClick={async () => {\r\n                          if (!confirm('Remove assignment?')) return;\r\n                          try {\r\n                            await apiClient(`/shift-assignments/${ass.id}`, { method: 'DELETE' });\r\n                            await loadAssignments();\r\n                            alert('Removed');\r\n                          } catch (err) { console.error(err); alert('Failed'); }\r\n                        }}>Remove</Button>\r\n                      </Box>\r\n                    </Box>\r\n                  ))}\r\n                </Box>\r\n              </Paper>\r\n            );\r\n          })}\r\n        </Box>\r\n        )}\r\n\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1727, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project/SigapPlanner/web/app/shifts/page.jsx"],"sourcesContent":["'use client';\r\nimport React from 'react';\r\nimport ShiftManager from '../../components/ShiftManager';\r\n\r\nexport default function Page() {\r\n  return (\r\n    <div style={{ padding: 20, fontFamily: 'Inter, system-ui, -apple-system, Roboto, \"Helvetica Neue\", Arial' }}>\r\n      <h1 style={{ marginTop: 0 }}>Shift Management</h1>\r\n      <p style={{ color: '#555' }}>Create technician groups and assign them to daily shifts per site.</p>\r\n      <ShiftManager />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAIe,SAAS;IACtB,qBACE,oMAAC;QAAI,OAAO;YAAE,SAAS;YAAI,YAAY;QAAmE;;0BACxG,oMAAC;gBAAG,OAAO;oBAAE,WAAW;gBAAE;0BAAG;;;;;;0BAC7B,oMAAC;gBAAE,OAAO;oBAAE,OAAO;gBAAO;0BAAG;;;;;;0BAC7B,oMAAC,gJAAY;;;;;;;;;;;AAGnB;KARwB"}}]
}